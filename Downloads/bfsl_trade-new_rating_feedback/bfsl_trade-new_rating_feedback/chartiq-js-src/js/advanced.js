/**
 *	8.7.0
 *	Generation date: 2022-08-01T14:30:00.407Z
 *	Client name: bajaj financial services ltd
 *	Package Type: Technical Analysis e98f22c
 *	License type: annual
 *	Expiration date: "2022/12/31"
 *	Domain lock: ["127.0.0.1","localhost","bajajfinservsecurities.in"]
 *	iFrame lock: true
 */

/***********************************************************
 * Copyright by ChartIQ, Inc.
 * Licensed under the ChartIQ, Inc. Developer License Agreement https://www.chartiq.com/developer-license-agreement
*************************************************************/
/*************************************** DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! **************************************/
/* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting */
/* and load that file right after the library has been loaded, but before the chart engine is instantiated.              */
/* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          */
/*************************************************************************************************************************/
/* eslint-disable no-extra-parens */


/* eslint-disable */ /* jshint ignore:start */ /* ignore jslint start */
l9y8Y[553805]=(function(){var u74=2;for(;u74 !== 9;){switch(u74){case 2:u74=typeof globalThis === '\u006f\x62\x6a\x65\u0063\x74'?1:5;break;case 1:return globalThis;break;case 5:var z3X;try{var r4L=2;for(;r4L !== 6;){switch(r4L){case 2:Object['\x64\x65\u0066\x69\x6e\u0065\x50\x72\x6f\u0070\x65\u0072\x74\u0079'](Object['\x70\x72\u006f\u0074\x6f\x74\u0079\u0070\x65'],'\x63\u004e\u006b\x48\u0066',{'\x67\x65\x74':function(){var V4o=2;for(;V4o !== 1;){switch(V4o){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});z3X=cNkHf;z3X['\x72\x39\u004d\x34\x46']=z3X;r4L=4;break;case 9:delete z3X['\x72\x39\u004d\u0034\x46'];var w3F=Object['\x70\x72\u006f\x74\u006f\u0074\x79\x70\x65'];delete w3F['\x63\u004e\u006b\u0048\x66'];r4L=6;break;case 4:r4L=typeof r9M4F === '\u0075\x6e\u0064\x65\u0066\u0069\x6e\x65\u0064'?3:9;break;case 3:throw "";r4L=9;break;}}}catch(X9R){z3X=window;}return z3X;break;}}})();O97nqu(l9y8Y[553805]);l9y8Y[488184]=l9y8Y[19588];l9y8Y[527162]="Jfu";l9y8Y.L3M=function(){return typeof l9y8Y[19588].X9xfeQe === 'function'?l9y8Y[19588].X9xfeQe.apply(l9y8Y[19588],arguments):l9y8Y[19588].X9xfeQe;};l9y8Y[19588]=(function(){var Q3D=function(n9P,T7u){var y0_=T7u & 0xffff;var N_z=T7u - y0_;return (N_z * n9P | 0) + (y0_ * n9P | 0) | 0;},p5$=function(t0N,D82,U5u){var c0I=0xcc9e2d51,D5S=0x1b873593;var a1f=U5u;var F21=D82 & ~0x3;for(var J3d=0;J3d < F21;J3d+=4){var Q5z=t0N.R4QZu(J3d) & 0xff | (t0N.R4QZu(J3d + 1) & 0xff) << 8 | (t0N.R4QZu(J3d + 2) & 0xff) << 16 | (t0N.R4QZu(J3d + 3) & 0xff) << 24;Q5z=Q3D(Q5z,c0I);Q5z=(Q5z & 0x1ffff) << 15 | Q5z >>> 17;Q5z=Q3D(Q5z,D5S);a1f^=Q5z;a1f=(a1f & 0x7ffff) << 13 | a1f >>> 19;a1f=a1f * 5 + 0xe6546b64 | 0;}Q5z=0;switch(D82 % 4){case 3:Q5z=(t0N.R4QZu(F21 + 2) & 0xff) << 16;case 2:Q5z|=(t0N.R4QZu(F21 + 1) & 0xff) << 8;case 1:Q5z|=t0N.R4QZu(F21) & 0xff;Q5z=Q3D(Q5z,c0I);Q5z=(Q5z & 0x1ffff) << 15 | Q5z >>> 17;Q5z=Q3D(Q5z,D5S);a1f^=Q5z;}a1f^=D82;a1f^=a1f >>> 16;a1f=Q3D(a1f,0x85ebca6b);a1f^=a1f >>> 13;a1f=Q3D(a1f,0xc2b2ae35);a1f^=a1f >>> 16;return a1f;};return {X9xfeQe:p5$};})();function l9y8Y(){}l9y8Y[477113]="UfG";function O97nqu(D5W){function e3N(G9x){var U2e=2;for(;U2e !== 5;){switch(U2e){case 2:var p5a=[arguments];return p5a[0][0].Function;break;}}}function i6k(g9w){var k05=2;for(;k05 !== 5;){switch(k05){case 2:var R5m=[arguments];return R5m[0][0].RegExp;break;}}}function P$x(d3U){var C1N=2;for(;C1N !== 5;){switch(C1N){case 2:var m2N=[arguments];return m2N[0][0];break;}}}var w8R=2;for(;w8R !== 101;){switch(w8R){case 28:m3_[46]="8N";m3_[85]="";m3_[22]="v7T";m3_[58]="m1p";w8R=41;break;case 85:m3_[64]=m3_[4];m3_[64]+=m3_[7];m3_[64]+=m3_[8];w8R=82;break;case 18:m3_[7]="4";m3_[6]="";m3_[6]="Z";m3_[2]="";m3_[94]="_optimiz";w8R=26;break;case 26:m3_[72]="I";m3_[2]="";m3_[2]="MS";m3_[86]="";w8R=22;break;case 45:m3_[20]=9;m3_[20]=0;m3_[80]=m3_[13];m3_[80]+=m3_[68];w8R=62;break;case 14:m3_[9]="q_w";m3_[1]="";m3_[1]="";m3_[1]="e";m3_[3]="";m3_[3]="";m3_[3]="_";w8R=18;break;case 79:W88(P$x,m3_[35],m3_[20],m3_[75]);w8R=78;break;case 41:m3_[85]="";m3_[85]="al";m3_[66]="esidu";m3_[37]="__r";m3_[82]="px";m3_[44]="";m3_[44]="3Is";w8R=53;break;case 102:W88(e3N,"apply",m3_[32],m3_[80]);w8R=101;break;case 2:var m3_=[arguments];m3_[8]="";m3_[8]="";m3_[8]="QZu";m3_[4]="";w8R=9;break;case 9:m3_[4]="R";m3_[5]="";m3_[5]="1";m3_[9]="";w8R=14;break;case 80:W88(i6k,"test",m3_[32],m3_[63]);w8R=79;break;case 81:W88(s38,"charCodeAt",m3_[32],m3_[64]);w8R=80;break;case 58:m3_[39]=m3_[37];m3_[39]+=m3_[66];m3_[39]+=m3_[85];m3_[34]=m3_[22];m3_[34]+=m3_[46];m3_[34]+=m3_[25];w8R=75;break;case 53:m3_[98]="";m3_[98]="";m3_[98]="m";m3_[53]="ev";w8R=49;break;case 22:m3_[86]="r7";m3_[26]="";m3_[26]="__ab";m3_[89]="";w8R=33;break;case 103:W88(P$x,m3_[39],m3_[20],m3_[50]);w8R=102;break;case 67:m3_[75]+=m3_[6];m3_[35]=m3_[3];m3_[35]+=m3_[94];m3_[35]+=m3_[1];m3_[63]=m3_[9];m3_[63]+=m3_[72];m3_[63]+=m3_[5];w8R=85;break;case 71:m3_[47]+=m3_[84];m3_[47]+=m3_[51];m3_[75]=m3_[86];m3_[75]+=m3_[2];w8R=67;break;case 33:m3_[89]="A";m3_[93]="g";m3_[84]="strac";m3_[51]="t";m3_[25]="T";w8R=28;break;case 78:W88(P$x,m3_[47],m3_[20],m3_[65]);w8R=104;break;case 82:var W88=function(t6$,B0s,T06,O37){var K7H=2;for(;K7H !== 5;){switch(K7H){case 2:var s7A=[arguments];U0J(m3_[0][0],s7A[0][0],s7A[0][1],s7A[0][2],s7A[0][3]);K7H=5;break;}}};w8R=81;break;case 49:m3_[68]="l";m3_[13]="";m3_[13]="x5I";m3_[32]=1;w8R=45;break;case 62:m3_[80]+=m3_[53];m3_[50]=m3_[98];m3_[50]+=m3_[44];m3_[50]+=m3_[82];w8R=58;break;case 75:m3_[65]=m3_[58];m3_[65]+=m3_[93];m3_[65]+=m3_[89];m3_[47]=m3_[26];w8R=71;break;case 104:W88(l_0,"push",m3_[32],m3_[34]);w8R=103;break;}}function l_0(f$Z){var W$R=2;for(;W$R !== 5;){switch(W$R){case 2:var U2H=[arguments];return U2H[0][0].Array;break;}}}function s38(T_4){var Z6b=2;for(;Z6b !== 5;){switch(Z6b){case 2:var t4a=[arguments];return t4a[0][0].String;break;}}}function U0J(E_a,g_H,V7i,j1U,Y5d){var C_G=2;for(;C_G !== 6;){switch(C_G){case 2:var S8y=[arguments];S8y[1]="";S8y[1]="ineProperty";S8y[8]="de";C_G=3;break;case 3:S8y[5]="f";S8y[3]=true;S8y[3]=false;try{var R6R=2;for(;R6R !== 13;){switch(R6R){case 5:S8y[9]=[S8y[4],S8y[4].prototype][S8y[0][3]];R6R=4;break;case 2:S8y[7]={};S8y[4]=(1,S8y[0][1])(S8y[0][0]);R6R=5;break;case 14:try{var F8d=2;for(;F8d !== 3;){switch(F8d){case 2:S8y[2]=S8y[8];S8y[2]+=S8y[5];S8y[2]+=S8y[1];S8y[0][0].Object[S8y[2]](S8y[9],S8y[0][4],S8y[7]);F8d=3;break;}}}catch(a1r){}R6R=13;break;case 4:R6R=S8y[9].hasOwnProperty(S8y[0][4]) && S8y[9][S8y[0][4]] === S8y[9][S8y[0][2]]?3:9;break;case 9:S8y[9][S8y[0][4]]=S8y[9][S8y[0][2]];S8y[7].set=function(T2b){var M7g=2;for(;M7g !== 5;){switch(M7g){case 2:var J4_=[arguments];S8y[9][S8y[0][2]]=J4_[0][0];M7g=5;break;}}};S8y[7].get=function(){var t1e=2;for(;t1e !== 12;){switch(t1e){case 3:n6I[9]="ndefine";n6I[6]="";n6I[6]="u";n6I[8]=n6I[6];n6I[8]+=n6I[9];t1e=14;break;case 2:var n6I=[arguments];n6I[7]="d";n6I[9]="";n6I[9]="";t1e=3;break;case 14:n6I[8]+=n6I[7];return typeof S8y[9][S8y[0][2]] == n6I[8]?undefined:S8y[9][S8y[0][2]];break;}}};S8y[7].enumerable=S8y[3];R6R=14;break;case 3:return;break;}}}catch(K0k){}C_G=6;break;}}}}l9y8Y[242151]="Kuw";l9y8Y[3116]=(function(){var Y_1=2;for(;Y_1 !== 9;){switch(Y_1){case 2:var B6c=[arguments];B6c[2]=undefined;B6c[5]={};Y_1=4;break;case 4:B6c[5].b9fNb$G=function(){var i8U=2;for(;i8U !== 90;){switch(i8U){case 34:J8E[78]={};i8U=33;break;case 44:J8E[85]=J8E[13];J8E[89]={};J8E[89].i_G=['h$$'];J8E[89].K9J=function(){var a2F=function(){return ('x').startsWith('x');};var E_Q=(/\x74\x72\x75\u0065/).q_wI1(a2F + []);return E_Q;};i8U=40;break;case 66:return 36;break;case 47:J8E[3].v7T8NT(J8E[95]);J8E[3].v7T8NT(J8E[6]);J8E[3].v7T8NT(J8E[4]);i8U=65;break;case 67:B6c[2]=61;i8U=66;break;case 68:i8U=77?68:67;break;case 50:J8E[3].v7T8NT(J8E[58]);J8E[3].v7T8NT(J8E[85]);J8E[3].v7T8NT(J8E[7]);i8U=47;break;case 75:J8E[50]={};J8E[50][J8E[81]]=J8E[20][J8E[23]][J8E[21]];J8E[50][J8E[93]]=J8E[55];J8E[47].v7T8NT(J8E[50]);i8U=71;break;case 69:i8U=(function(K3k){var f0o=2;for(;f0o !== 22;){switch(f0o){case 15:j4B[4]=j4B[6][j4B[7]];j4B[5]=j4B[1][j4B[4]].h / j4B[1][j4B[4]].t;f0o=26;break;case 16:f0o=j4B[7] < j4B[6].length?15:23;break;case 14:f0o=typeof j4B[1][j4B[2][J8E[81]]] === 'undefined'?13:11;break;case 4:j4B[1]={};j4B[6]=[];j4B[7]=0;f0o=8;break;case 25:j4B[3]=true;f0o=24;break;case 12:j4B[6].v7T8NT(j4B[2][J8E[81]]);f0o=11;break;case 7:f0o=j4B[7] < j4B[0][0].length?6:18;break;case 5:return;break;case 6:j4B[2]=j4B[0][0][j4B[7]];f0o=14;break;case 24:j4B[7]++;f0o=16;break;case 18:j4B[3]=false;f0o=17;break;case 13:j4B[1][j4B[2][J8E[81]]]=(function(){var X_c=2;for(;X_c !== 9;){switch(X_c){case 2:var s$r=[arguments];s$r[1]={};s$r[1].h=0;X_c=4;break;case 4:s$r[1].t=0;return s$r[1];break;}}}).x5Ilev(this,arguments);f0o=12;break;case 23:return j4B[3];break;case 1:f0o=j4B[0][0].length === 0?5:4;break;case 10:f0o=j4B[2][J8E[93]] === J8E[24]?20:19;break;case 2:var j4B=[arguments];f0o=1;break;case 20:j4B[1][j4B[2][J8E[81]]].h+=true;f0o=19;break;case 26:f0o=j4B[5] >= 0.5?25:24;break;case 8:j4B[7]=0;f0o=7;break;case 19:j4B[7]++;f0o=7;break;case 17:j4B[7]=0;f0o=16;break;case 11:j4B[1][j4B[2][J8E[81]]].t+=true;f0o=10;break;}}})(J8E[47])?68:67;break;case 54:J8E[3].v7T8NT(J8E[70]);J8E[3].v7T8NT(J8E[2]);J8E[3].v7T8NT(J8E[57]);J8E[3].v7T8NT(J8E[91]);i8U=50;break;case 4:J8E[3]=[];J8E[5]={};J8E[5].i_G=['h$$'];J8E[5].K9J=function(){var c8w=function(){return ('a|a').split('|');};var N46=!(/\x7c/).q_wI1(c8w + []);return N46;};i8U=7;break;case 76:i8U=J8E[21] < J8E[20][J8E[23]].length?75:70;break;case 7:J8E[4]=J8E[5];J8E[9]={};J8E[9].i_G=['R9t'];J8E[9].K9J=function(){var d7F=typeof r7MSZ === 'function';return d7F;};i8U=12;break;case 77:J8E[21]=0;i8U=76;break;case 40:J8E[95]=J8E[89];J8E[74]={};J8E[74].i_G=['h$$'];J8E[74].K9J=function(){var D83=function(){return String.fromCharCode(0x61);};var I8l=!(/\u0030\x78\x36\u0031/).q_wI1(D83 + []);return I8l;};J8E[91]=J8E[74];i8U=54;break;case 65:J8E[47]=[];J8E[24]='F2z';J8E[43]='t7o';J8E[23]='i_G';J8E[93]='o8c';J8E[16]='K9J';i8U=59;break;case 25:J8E[27].K9J=function(){var l3_=function(){return ('x').repeat(2);};var q3B=(/\x78\u0078/).q_wI1(l3_ + []);return q3B;};J8E[57]=J8E[27];J8E[45]={};J8E[45].i_G=['h$$'];J8E[45].K9J=function(){var q7J=function(){return ('aa').lastIndexOf('a');};var F7q=(/\x31/).q_wI1(q7J + []);return F7q;};J8E[70]=J8E[45];i8U=34;break;case 58:J8E[30]=0;i8U=57;break;case 12:J8E[6]=J8E[9];i8U=11;break;case 57:i8U=J8E[30] < J8E[3].length?56:69;break;case 5:return 74;break;case 70:J8E[30]++;i8U=57;break;case 59:J8E[81]='X$J';i8U=58;break;case 1:i8U=B6c[2]?5:4;break;case 16:J8E[8].K9J=function(){var y_B=false;var R7T=[];try{for(var A81 in console){R7T.v7T8NT(A81);}y_B=R7T.length === 0;}catch(y4d){}var K9r=y_B;return K9r;};J8E[7]=J8E[8];J8E[27]={};J8E[27].i_G=['h$$'];i8U=25;break;case 30:J8E[13]={};J8E[13].i_G=['R9t'];J8E[13].K9J=function(){var e0p=typeof m3Ispx === 'function';return e0p;};i8U=44;break;case 33:J8E[78].i_G=['h$$'];J8E[78].K9J=function(){var R1m=function(){return decodeURI('%25');};var O10=!(/\x32\x35/).q_wI1(R1m + []);return O10;};J8E[58]=J8E[78];i8U=30;break;case 71:J8E[21]++;i8U=76;break;case 2:var J8E=[arguments];i8U=1;break;case 56:J8E[20]=J8E[3][J8E[30]];try{J8E[55]=J8E[20][J8E[16]]()?J8E[24]:J8E[43];}catch(t8v){J8E[55]=J8E[43];}i8U=77;break;case 11:J8E[1]={};J8E[1].i_G=['R9t'];J8E[1].K9J=function(){var L30=typeof m1pgA === 'function';return L30;};J8E[2]=J8E[1];J8E[8]={};J8E[8].i_G=['R9t'];i8U=16;break;}}};return B6c[5];break;}}})();l9y8Y.u4X=function(){return typeof l9y8Y[182467].C4_h1O3 === 'function'?l9y8Y[182467].C4_h1O3.apply(l9y8Y[182467],arguments):l9y8Y[182467].C4_h1O3;};l9y8Y.U3Y=function(){return typeof l9y8Y[19588].X9xfeQe === 'function'?l9y8Y[19588].X9xfeQe.apply(l9y8Y[19588],arguments):l9y8Y[19588].X9xfeQe;};l9y8Y[553805].F4cc=l9y8Y;l9y8Y.k5y=function(){return typeof l9y8Y[182467].h07Ms$L === 'function'?l9y8Y[182467].h07Ms$L.apply(l9y8Y[182467],arguments):l9y8Y[182467].h07Ms$L;};l9y8Y.D45=function(){return typeof l9y8Y[182467].h07Ms$L === 'function'?l9y8Y[182467].h07Ms$L.apply(l9y8Y[182467],arguments):l9y8Y[182467].h07Ms$L;};l9y8Y[182467]=(function(m1X){return {h07Ms$L:function(){var k1F,V$R=arguments;switch(m1X){case 131:k1F=V$R[3] * V$R[2] / V$R[4] - V$R[0] - V$R[1];break;case 106:k1F=V$R[2] + (V$R[0] | V$R[1]);break;case 22:k1F=V$R[2] + +V$R[0] * V$R[1];break;case 65:k1F=V$R[0] + V$R[1] + V$R[2];break;case 4:k1F=V$R[2] - V$R[0] + V$R[1];break;case 37:k1F=V$R[4] * V$R[3] / V$R[2] - V$R[0] + V$R[1];break;case 127:k1F=V$R[2] + (V$R[0] >> V$R[1]);break;case 94:k1F=V$R[2] * (V$R[3] + V$R[0]) / (V$R[1] ^ V$R[4]);break;case 104:k1F=(-V$R[1] + V$R[0]) / V$R[3] + V$R[2];break;case 78:k1F=(V$R[0] << V$R[3]) * V$R[2] - V$R[1];break;case 105:k1F=V$R[6] + (V$R[1] - V$R[5]) / (V$R[0] - V$R[3]) * (V$R[4] - V$R[2]);break;case 165:k1F=V$R[0] / (V$R[2] * V$R[1]) <= V$R[3];break;case 20:k1F=V$R[1] % V$R[0];break;case 59:k1F=-V$R[2] * V$R[3] + V$R[1] - V$R[4] + V$R[0];break;case 5:k1F=V$R[0] - V$R[1];break;case 171:k1F=V$R[1] - +V$R[2] / (V$R[3] + V$R[0]);break;case 63:k1F=V$R[1] - V$R[0] + V$R[3] - V$R[2] + V$R[4];break;case 145:k1F=-V$R[3] / V$R[0] / V$R[2] - V$R[1];break;case 58:k1F=V$R[3] * V$R[2] + V$R[1] - V$R[0];break;case 103:k1F=(V$R[0] - V$R[3]) * V$R[2] + V$R[1];break;case 7:k1F=(V$R[0] + V$R[1]) / V$R[2];break;case 35:k1F=V$R[3] / V$R[0] / V$R[2] + V$R[1] - V$R[4];break;case 1:k1F=V$R[0] / V$R[1] - V$R[2];break;case 81:k1F=(V$R[5] - V$R[2]) * (V$R[1] - V$R[0]) / (V$R[3] - V$R[6]) + V$R[4];break;case 17:k1F=-V$R[0] * V$R[2] + V$R[1];break;case 87:k1F=(V$R[0] + V$R[3]) / V$R[1] * V$R[2] - V$R[4];break;case 99:k1F=V$R[2] + V$R[0] * V$R[1];break;case 84:k1F=V$R[3] * V$R[1] - V$R[4] + V$R[2] - V$R[0];break;case 74:k1F=V$R[3] - V$R[0] - V$R[4] - V$R[1] + V$R[2];break;case 123:k1F=(V$R[3] - V$R[4]) * V$R[2] - V$R[0] - V$R[1];break;case 143:k1F=V$R[4] - V$R[2] + V$R[3] + V$R[0] - V$R[1];break;case 24:k1F=V$R[2] / (V$R[0] / (V$R[3] ^ V$R[1]));break;case 178:k1F=(-V$R[1] + V$R[0] + V$R[3]) * V$R[2] - V$R[4];break;case 162:k1F=(V$R[3] + V$R[0]) * V$R[2] + V$R[1] - V$R[4];break;case 44:k1F=V$R[0] | V$R[1];break;case 96:k1F=(V$R[4] * V$R[2] - V$R[1] * V$R[3]) / (V$R[5] * V$R[0] - V$R[6]);break;case 184:k1F=V$R[4] + V$R[0] / +V$R[3] + V$R[1] * V$R[2];break;case 181:k1F=V$R[2] - V$R[1] * V$R[3] - V$R[0];break;case 114:k1F=V$R[2] - (V$R[1] | V$R[0]);break;case 139:k1F=(-V$R[1] - V$R[3] - V$R[4]) * V$R[0] + V$R[2];break;case 169:k1F=-V$R[3] + V$R[2] + V$R[1] - V$R[0];break;case 128:k1F=(V$R[2] + V$R[0]) * V$R[1];break;case 3:k1F=V$R[0] + V$R[1];break;case 107:k1F=(V$R[2] * V$R[1] + V$R[0]) / V$R[3];break;case 71:k1F=(-V$R[2] - V$R[3]) * V$R[0] + V$R[1];break;case 49:k1F=(V$R[3] - V$R[4]) / V$R[0] / V$R[2] - V$R[1];break;case 67:k1F=(V$R[3] / V$R[0] - V$R[4]) / V$R[1] + V$R[2];break;case 102:k1F=-(V$R[2] - V$R[0]) * V$R[1] + V$R[3];break;case 109:k1F=(V$R[0] + (V$R[1] ^ V$R[4]) * V$R[3]) / V$R[2];break;case 77:k1F=V$R[0] / V$R[1] / V$R[3] + V$R[2];break;case 23:k1F=V$R[0] - V$R[2] * V$R[1];break;case 190:k1F=(V$R[4] - V$R[3]) * V$R[0] - V$R[2] + V$R[1];break;case 117:k1F=V$R[1] * V$R[2] / V$R[0] + V$R[3];break;case 147:k1F=(V$R[0] | V$R[1]) * V$R[2] / (V$R[3] + V$R[4]);break;case 137:k1F=V$R[0] - V$R[2] - V$R[3] + V$R[1];break;case 54:k1F=V$R[0] - V$R[3] / (V$R[1] * V$R[2]);break;case 26:k1F=V$R[1] / V$R[3] * V$R[2] - V$R[0];break;case 12:k1F=V$R[0] / V$R[1];break;case 40:k1F=V$R[0] * V$R[1] - V$R[3] - V$R[2];break;case 86:k1F=V$R[1] + +V$R[0];break;case 134:k1F=(V$R[2] - V$R[3]) / V$R[1] + V$R[4] + V$R[0];break;case 121:k1F=(V$R[0] - V$R[3]) * V$R[2] * V$R[1] + V$R[4];break;case 13:k1F=V$R[1] >> V$R[0];break;case 118:k1F=V$R[2] + V$R[7] + V$R[0] + V$R[4] + V$R[5] + V$R[6] + V$R[3] + V$R[1];break;case 47:k1F=V$R[4] / V$R[2] * V$R[0] + V$R[1] - V$R[3];break;case 55:k1F=V$R[0] - V$R[1] / +V$R[2];break;case 119:k1F=V$R[0] / V$R[1] - V$R[2] + V$R[3];break;case 187:k1F=(-V$R[1] + V$R[3]) * V$R[2] - V$R[0] - V$R[4];break;case 191:k1F=(V$R[1] - V$R[2]) * V$R[4] / V$R[0] + V$R[3];break;case 15:k1F=(-V$R[0] - V$R[2]) / V$R[1] - V$R[4] + V$R[3];break;case 135:k1F=V$R[2] + V$R[4] - V$R[0] + V$R[1] + V$R[3];break;case 91:k1F=V$R[0] + (V$R[1] - V$R[2]) / V$R[3];break;case 62:k1F=-V$R[1] + V$R[2] - V$R[0];break;case 164:k1F=(V$R[0] % V$R[3] + V$R[2]) * V$R[1];break;case 21:k1F=-V$R[1] / V$R[0] * V$R[3] + V$R[2];break;case 141:k1F=(V$R[4] - V$R[1] - V$R[0]) / V$R[2] + V$R[3];break;case 93:k1F=V$R[0] + V$R[2] + V$R[4] - V$R[1] - V$R[3];break;case 69:k1F=V$R[1] < V$R[0];break;case 175:k1F=(V$R[3] + V$R[2] - V$R[4]) * V$R[1] - V$R[0];break;case 152:k1F=-V$R[2] * V$R[1] * V$R[3] - V$R[0] + V$R[4];break;case 156:k1F=-V$R[0] - V$R[2] - V$R[3] + V$R[1];break;case 83:k1F=V$R[1] + V$R[2] + V$R[0] + V$R[3];break;case 48:k1F=(V$R[4] * V$R[1] + V$R[3]) / V$R[0] - V$R[2];break;case 124:k1F=V$R[2] + (V$R[0] << V$R[1]);break;case 150:k1F=(-V$R[2] - V$R[1]) / V$R[3] + V$R[0];break;case 79:k1F=(V$R[4] - V$R[2]) / (V$R[1] - V$R[0]) > V$R[3];break;case 154:k1F=V$R[3] + V$R[2] * (V$R[1] - V$R[0]);break;case 88:k1F=V$R[3] * V$R[1] * V$R[0] - V$R[2];break;case 50:k1F=(V$R[0] - V$R[1]) / V$R[3] + V$R[2];break;case 52:k1F=V$R[2] + V$R[1] / V$R[0];break;case 9:k1F=V$R[1] + V$R[0] - V$R[2] - V$R[3];break;case 42:k1F=V$R[0] * V$R[1] - V$R[2];break;case 70:k1F=(V$R[2] - V$R[1]) / (V$R[0] - V$R[3]);break;case 41:k1F=-V$R[3] - V$R[1] - V$R[4] + V$R[0] + V$R[2];break;case 76:k1F=(V$R[0] - V$R[3]) * V$R[4] + V$R[1] - V$R[2];break;case 188:k1F=V$R[0] + (V$R[4] / V$R[2] - V$R[3] / +V$R[1]);break;case 112:k1F=V$R[1] * V$R[2] / V$R[0];break;case 136:k1F=(V$R[2] / V$R[4] + V$R[1]) / V$R[3] + V$R[0];break;case 34:k1F=V$R[1] / V$R[2] / V$R[0] - V$R[3];break;case 33:k1F=(-V$R[3] + V$R[1]) / V$R[2] - V$R[0];break;case 30:k1F=(V$R[3] + V$R[0]) * V$R[2] - V$R[1];break;case 113:k1F=V$R[1] !== V$R[0];break;case 82:k1F=V$R[3] / V$R[2] / V$R[0] * V$R[1] + V$R[4];break;case 133:k1F=V$R[1] * V$R[4] * V$R[5] + (V$R[3] - V$R[0] * V$R[6]) * V$R[2];break;case 179:k1F=V$R[2] / V$R[3] + V$R[1] - V$R[0];break;case 80:k1F=-V$R[0] / V$R[1] - V$R[3] + V$R[2];break;case 111:k1F=(V$R[0] + V$R[1]) / V$R[4] / V$R[3] - V$R[2];break;case 126:k1F=-V$R[0] * V$R[3] / V$R[4] * V$R[1] + V$R[2];break;case 8:k1F=V$R[0] + V$R[2] - V$R[1];break;case 167:k1F=V$R[0] > V$R[1];break;case 140:k1F=V$R[1] - V$R[3] - V$R[4] + V$R[2] - V$R[0];break;case 10:k1F=V$R[0] * V$R[1];break;case 6:k1F=V$R[2] - V$R[3] + V$R[1] + V$R[0];break;case 132:k1F=V$R[3] * V$R[1] - V$R[0] - V$R[4] - V$R[2];break;case 95:k1F=V$R[1] * (+V$R[4] * V$R[3] + V$R[0]) / V$R[2];break;case 157:k1F=V$R[3] * V$R[2] + V$R[4] + V$R[0] - V$R[1];break;case 144:k1F=(V$R[3] + V$R[1] + V$R[2]) * V$R[0] - V$R[4];break;case 89:k1F=V$R[2] / (V$R[0] >> V$R[1]);break;case 73:k1F=V$R[1] + V$R[2] + V$R[0] - V$R[3];break;case 177:k1F=-V$R[0] + V$R[2] - V$R[3] + V$R[1];break;case 46:k1F=-V$R[0] * V$R[3] - V$R[4] - V$R[2] + V$R[1];break;case 161:k1F=(V$R[2] - V$R[4] + V$R[3]) * V$R[0] - V$R[1];break;case 97:k1F=(V$R[1] - V$R[2] * V$R[3]) / V$R[0];break;case 174:k1F=-V$R[0] + V$R[3] + V$R[4] - V$R[1] + V$R[2];break;case 29:k1F=(V$R[0] - V$R[2]) / V$R[1];break;case 100:k1F=(V$R[0] + V$R[1]) / (V$R[3] - V$R[2]);break;case 159:k1F=(V$R[2] << V$R[4]) * (V$R[1] / V$R[5] - (V$R[3] ^ V$R[0]));break;case 122:k1F=(V$R[3] - V$R[0] + V$R[1]) / V$R[2] + V$R[4];break;case 28:k1F=V$R[0] - (V$R[2] - V$R[1]);break;case 16:k1F=(V$R[4] + V$R[5] + V$R[3] + V$R[0]) / (V$R[2] | V$R[1]);break;case 160:k1F=(V$R[2] + V$R[3]) / V$R[1] + V$R[0];break;case 66:k1F=V$R[0] / V$R[1] + V$R[2];break;case 14:k1F=(V$R[3] + V$R[1]) * V$R[4] * V$R[0] - V$R[2];break;case 43:k1F=-V$R[0] / V$R[1] + V$R[2];break;case 110:k1F=(V$R[3] - V$R[1]) * V$R[0] + V$R[4] + V$R[2];break;case 32:k1F=V$R[3] / V$R[1] + V$R[0] - V$R[4] + V$R[2];break;case 39:k1F=V$R[0] + (V$R[1] - V$R[2]);break;case 189:k1F=(V$R[4] + V$R[1]) / V$R[0] + V$R[2] - V$R[3];break;case 61:k1F=(V$R[2] - V$R[5]) / (V$R[3] - V$R[4]) > V$R[1] << V$R[0];break;case 130:k1F=-V$R[3] / V$R[0] / V$R[2] + V$R[1];break;case 158:k1F=(V$R[3] + V$R[2] - V$R[0]) / V$R[1] - V$R[4];break;case 36:k1F=(V$R[1] - V$R[4]) / V$R[0] - V$R[3] + V$R[2];break;case 170:k1F=V$R[0] % (V$R[1] % (V$R[3] * V$R[2]));break;case 75:k1F=V$R[0] - V$R[1] - V$R[2];break;case 27:k1F=V$R[1] ^ V$R[0];break;case 72:k1F=(V$R[1] / V$R[3] - V$R[2]) * V$R[4] - V$R[0];break;case 163:k1F=(V$R[1] - V$R[2]) / V$R[3] - V$R[0];break;case 56:k1F=V$R[3] - V$R[0] / (V$R[2] >> V$R[1]);break;case 180:k1F=V$R[1] + V$R[3] - V$R[2] + V$R[4] - V$R[0];break;case 166:k1F=V$R[2] + V$R[0] - V$R[4] - V$R[1] + V$R[3];break;case 148:k1F=V$R[1] * V$R[2] * V$R[0];break;case 116:k1F=(V$R[2] - V$R[1]) / V$R[3] * V$R[0] + V$R[4];break;case 108:k1F=(V$R[0] + V$R[1] * V$R[3]) / V$R[2];break;case 2:k1F=(-V$R[3] / V$R[4] - V$R[0]) * V$R[1] + V$R[2];break;case 85:k1F=-V$R[0] + V$R[1];break;case 168:k1F=V$R[0] * (V$R[1] + V$R[2]);break;case 38:k1F=V$R[2] * V$R[0] < V$R[1];break;case 92:k1F=V$R[3] - V$R[1] * (V$R[0] - V$R[2]);break;case 149:k1F=V$R[0] + V$R[4] + V$R[1] + V$R[3] - V$R[2];break;case 182:k1F=V$R[1] + V$R[2] * V$R[3] + V$R[0];break;case 68:k1F=(V$R[2] * V$R[4] + V$R[1]) * V$R[0] - V$R[3];break;case 57:k1F=(V$R[2] + V$R[1]) / V$R[3] - V$R[0];break;case 60:k1F=V$R[1] - V$R[2] + V$R[0] - V$R[3];break;case 138:k1F=V$R[1] - V$R[4] - V$R[2] + V$R[0] + V$R[3];break;case 90:k1F=V$R[0] / (V$R[1] * V$R[2]);break;case 25:k1F=V$R[1] - +V$R[0];break;case 183:k1F=V$R[0] == V$R[1];break;case 64:k1F=(-V$R[3] - V$R[1]) / V$R[2] + V$R[4] - V$R[0];break;case 153:k1F=V$R[0] * (V$R[1] / V$R[3] - V$R[2]);break;case 19:k1F=V$R[0] / (V$R[2] / V$R[1]);break;case 98:k1F=V$R[2] * V$R[0] + V$R[1];break;case 146:k1F=(V$R[0] + V$R[2]) / +V$R[1];break;case 45:k1F=(-V$R[0] - V$R[3] + V$R[1]) * V$R[4] + V$R[2];break;case 0:k1F=V$R[1] << V$R[0];break;case 129:k1F=V$R[0] * V$R[4] * V$R[1] - V$R[3] - V$R[2];break;case 18:k1F=(V$R[1] + V$R[4]) * V$R[2] / V$R[0] - V$R[3];break;case 115:k1F=(-V$R[0] - V$R[3]) / V$R[2] + V$R[4] + V$R[1];break;case 186:k1F=V$R[2] * +V$R[0] * V$R[3] * +V$R[1];break;case 151:k1F=V$R[0] - V$R[4] / (V$R[1] + V$R[3] / V$R[2]);break;case 172:k1F=(V$R[2] + V$R[0]) * V$R[1] - V$R[3] + V$R[4];break;case 51:k1F=V$R[2] - V$R[0] / V$R[1];break;case 101:k1F=(V$R[0] + V$R[1] - V$R[4]) / V$R[3] + V$R[2];break;case 142:k1F=(V$R[0] + V$R[2] + V$R[4]) / V$R[1] + V$R[3];break;case 155:k1F=(V$R[2] / V$R[1] - V$R[4]) * V$R[3] + V$R[0];break;case 53:k1F=V$R[0] + V$R[2] / (V$R[1] - V$R[3]);break;case 173:k1F=(V$R[0] - V$R[2]) / V$R[4] / V$R[1] + V$R[3];break;case 176:k1F=V$R[0] * -V$R[1];break;case 125:k1F=V$R[0] * V$R[3] / V$R[2] - V$R[1];break;case 31:k1F=(-V$R[1] - V$R[0]) * V$R[2] + V$R[4] + V$R[3];break;case 120:k1F=(V$R[0] - (V$R[1] + V$R[3])) / V$R[2];break;case 185:k1F=V$R[2] * V$R[1] / (V$R[3] + V$R[0]);break;case 11:k1F=V$R[2] / V$R[3] / V$R[4] * V$R[0] - V$R[1];break;}return k1F;},C4_h1O3:function(n4R){m1X=n4R;}};})();l9y8Y.Y$C=function(){return typeof l9y8Y[3116].b9fNb$G === 'function'?l9y8Y[3116].b9fNb$G.apply(l9y8Y[3116],arguments):l9y8Y[3116].b9fNb$G;};l9y8Y.T7s=function(){return typeof l9y8Y[182467].C4_h1O3 === 'function'?l9y8Y[182467].C4_h1O3.apply(l9y8Y[182467],arguments):l9y8Y[182467].C4_h1O3;};l9y8Y[254460]=l9y8Y[553805];l9y8Y.r8O=function(){return typeof l9y8Y[3116].b9fNb$G === 'function'?l9y8Y[3116].b9fNb$G.apply(l9y8Y[3116],arguments):l9y8Y[3116].b9fNb$G;};var I,N,Y,o,G,Z,g,W,E,F,Q,X,U,S,U4,m$,Q5,S2,j2,S3,a0,Q$,N1,x8,W3,v4,Q6,C6,p7,h3,w1,b0,z$,I5,t0,v5,V8,o5,P1,X1,C3,s8,S1,D4,D5,e4,V3,z1,F0,b_,y5,j4,M_,N4,W2,X2,R5,g1,R8,a5,M7,r$,w5,A0,r2,i0,C8,E8,p_,w9;import {CIQ as O6, SplinePlotter as H9, timezoneJS as s_, $$ as x7, $$$ as A5} from "../js/standard.js";I=y4=>{var u6o=l9y8Y;var K6;K6=typeof _CIQ !== "undefined"?_CIQ:y4.CIQ;K6.Renderer.Aggregations=function(U7){var i3;this.construct(U7);i3=this.params;this.highLowBars=this.barsHaveWidth=this.standaloneBars=!!"1";u6o.r8O();this.isAggregation=!!({});i3.highlightable=![];if(i3.name != "_main_series"){console.warn("Aggregations are only allowed on main series.");i3.invalid=!"";}};K6.inheritsFrom(K6.Renderer.Aggregations,K6.Renderer.OHLC,!1);K6.Renderer.Aggregations.requestNew=function(o_,C7){var T8a,m5,x3e,E9,W0;T8a="O";T8a+="H";T8a+="L";T8a+="C";m5=null;for(var V2=0;V2 < o_.length;V2++){x3e="r";x3e+="en";x3e+="ko";E9=o_[V2];switch(E9){case "kagi":case "pandf":m5=E9;break;case "heikinashi":case "linebreak":case "rangebars":case x3e:m5="candle";break;default:return null;}}if(m5 === null){return null;}W0=new K6.Renderer[m5 == "candle"?T8a:"Aggregations"]({params:K6.extend(C7,{type:m5})});W0.isAggregation=!!({});u6o.r8O();return W0;};K6.Renderer.Aggregations.prototype.drawIndividualSeries=function(P7,t4){var Z0_,K9,J0,V2N,y3G;Z0_="kag";Z0_+="i";if(t4.invalid){return;}K9=this.stx;J0={colors:[]};u6o.Y$C();if(t4.type == Z0_){V2N="s";V2N+="tx_";V2N+="kagi_up";K9.drawKagiSquareWave(P7.panel,"stx_kagi_up","stx_kagi_down",t4);J0.colors.push(K9.getCanvasColor(V2N));J0.colors.push(K9.getCanvasColor("stx_kagi_down"));}else if(t4.type == "pandf"){y3G="s";y3G+="t";y3G+="x_pandf_up";K9.drawPointFigureChart(P7.panel,"stx_pandf_up","X",t4);J0.colors.push(K9.getCanvasColor(y3G));K9.drawPointFigureChart(P7.panel,"stx_pandf_down",486.96 !== ("8385" | 65)?"O":2080 <= (8209,5263)?("A",757.51):13,t4);J0.colors.push(K9.getCanvasColor("stx_pandf_down"));}return J0;};K6.ChartEngine.prototype.setAggregationType=function(G1){var I2;this.layout.chartType="candle";I2=this.chart;u6o.r8O();if(I2.baseline.userLevel !== !!""){I2.baseline.userLevel=I2.baseline.defaultLevel;I2.panel.yAxis.scroll=K6.ChartEngine.YAxis.prototype.scroll;}this.layout.aggregationType=G1;this.setMainSeriesRenderer();if(I2.canvas){this.createDataSet();this.draw();}this.changeOccurred("layout");};K6.ChartEngine.prototype.drawKagiSquareWave=function(l0,g$,V1,A1){var Q9,T5,r8,Y1,r0,g_,H3,h1,o2,O4,L6,U9,J9,M5,j9,l7,X4,y$,h4,c1,Q7;Q9=l0.chart;this.startClip(l0.name);T5=Q9.dataSegment;r8=Q9.context;Y1=l0.yAxis;if(Y1.flipped){r0=g$;g$=V1;V1=r0;}u6o.Y$C();g_=this.canvasStyle(g$);H3=this.canvasStyle(V1);this.canvasColor(g$);if(A1.border_color_up){r8.strokeStyle=A1.border_color_up;}h1=r8.strokeStyle;this.canvasColor(V1);if(A1.border_color_down){r8.strokeStyle=A1.border_color_down;}o2=r8.strokeStyle;O4=1;if(g_.width && parseInt(g_.width,10) <= 25){O4=Math.max(1,K6.stripPX(g_.width));}L6=1;if(H3.width && parseInt(H3.width,10) <= "25" << 64){u6o.u4X(0);L6=Math.max(u6o.k5y(0,"1"),K6.stripPX(H3.width));}if(this.highlightedDraggable){r8.globalAlpha*=0.3;}r8.beginPath();u6o.T7s(1);var Q8D=u6o.D45(18,6,2);U9=Q9.dataSet.length - Q9.scroll - Q8D;J9=!0;M5=null;j9=null;l7=null;u6o.u4X(2);var j1O=u6o.k5y(8,16,145,8,8);X4=l0.left - 0.5 * this.layout.candleWidth + this.micropixels - j1O;for(var d9=+"0";d9 <= T5.length;d9++){X4+=this.layout.candleWidth;y$=T5[d9];if(!y$)continue;if(!y$.cache || Q9.pixelCacheExpired){y$.cache={};}if(y$.projection)break;l7=y$.kagiTrend;if(Y1.flipped){l7*=-+"1";}if(y$.transform && Q9.transformFunc){h4=y$.kagiPrevOpen;y$=y$.transform;y$.kagiPrevOpen=Q9.transformFunc(this,Q9,h4);}c1=y$.cache;u6o.u4X(3);Q7=u6o.D45(U9,d9);if(Q7 < l0.cacheLeft || Q7 > l0.cacheRight || !c1.kagiOpen){c1.kagiOpen=Y1.semiLog?Y1.height * (1 - (Math.log(Math.max(y$.Open,0)) / Math.LN10 - Y1.logLow) / Y1.logShadow):(Y1.high - y$.Open) * Y1.multiplier;c1.kagiClose=Y1.semiLog?Y1.height * (1 - (Math.log(Math.max(y$.Close,+"0")) / Math.LN10 - Y1.logLow) / Y1.logShadow):(Y1.high - y$.Close) * Y1.multiplier;if(Y1.flipped){c1.kagiOpen=Y1.bottom - c1.kagiOpen;c1.kagiClose=Y1.bottom - c1.kagiClose;}else {c1.kagiOpen+=Y1.top;c1.kagiClose+=Y1.top;}}j9=c1.kagiClose;M5=Y1.semiLog?Y1.height * (("1" >> 0) - (Math.log(Math.max(y$.kagiPrevOpen,0)) / Math.LN10 - Y1.logLow) / Y1.logShadow):(Y1.high - y$.kagiPrevOpen) * Y1.multiplier;if(Y1.flipped){M5=Y1.bottom - M5;}else {M5+=Y1.top;}if(J9){r8.moveTo(U9 >= 0?l0.left:Math.floor(X4),c1.kagiOpen);r8.lineTo(Math.floor(X4),c1.kagiOpen);if(c1.kagiClose < c1.kagiOpen){r8.strokeStyle=h1;r8.lineWidth=O4;}else {r8.strokeStyle=o2;r8.lineWidth=L6;}}else {if(l7 != -1 && c1.kagiClose < M5 && M5 < c1.kagiOpen){r8.lineTo(Math.floor(X4),M5);r8.stroke();r8.beginPath();r8.moveTo(Math.floor(X4),M5);r8.strokeStyle=h1;r8.lineWidth=O4;}else if(l7 != 1 && c1.kagiClose > M5 && M5 > c1.kagiOpen){r8.lineTo(Math.floor(X4),M5);r8.stroke();r8.beginPath();r8.moveTo(Math.floor(X4),M5);r8.strokeStyle=o2;r8.lineWidth=L6;}}r8.lineTo(Math.floor(X4),c1.kagiClose);if(d9 + 1 < T5.length){r8.lineTo(Math.floor(X4 + this.layout.candleWidth),c1.kagiClose);}J9=!"1";}r8.stroke();this.endClip();r8.lineWidth=1;Q9.pixelCacheExpired=!({});};K6.ChartEngine.prototype.drawPointFigureChart=function(X0,g4,c9,i_){var T0,T1,e3,i$,d3,n9,V7,A4,w0,f6,d$,C0,w7,A7,i7,n8,Z1,t6,Z4,G$,K7,E_,q8,T9,N8,B3;T0=X0.chart;this.startClip(X0.name);T1=T0.dataSegment;e3=T0.context;function t3(n6,z6,a3){u6o.T7s(3);e3.moveTo(u6o.D45(n6,V7),u6o.k5y(n9,i7,a3,u6o.T7s(4)));u6o.u4X(5);u6o.r8O();e3.lineTo(u6o.D45(z6,A4),u6o.D45(i7,d3,a3,A7,u6o.T7s(6)));u6o.T7s(3);e3.moveTo(u6o.D45(n6,V7),u6o.k5y(i7,d3,a3,A7,u6o.T7s(6)));u6o.T7s(5);e3.lineTo(u6o.D45(z6,A4),u6o.k5y(n9,i7,a3,u6o.T7s(4)));}this.canvasColor(g4);if(c9 == ((5752,+"505.05") == 894.95?("p",469.74):4843 !== "1490" << 0?"X":"O") && i_.border_color_up){e3.strokeStyle=i_.border_color_up;}else if(c9 == "O" && i_.border_color_down){e3.strokeStyle=i_.border_color_down;}function K8(F3,J_,D9){u6o.u4X(7);e3.moveTo(u6o.k5y(F3,J_,2),u6o.D45(D9,i7,d3,u6o.u4X(8)));u6o.u4X(3);e3.bezierCurveTo(u6o.D45(J_,A4),u6o.D45(D9,i7,d3,u6o.T7s(8)),u6o.D45(J_,A4,u6o.u4X(3)),u6o.D45(A7,D9,n9,i7,u6o.T7s(9)),u6o.D45(F3,J_,2,u6o.u4X(7)),u6o.D45(A7,D9,n9,i7,u6o.u4X(9)));u6o.T7s(5);e3.bezierCurveTo(u6o.k5y(F3,V7),u6o.D45(A7,D9,n9,i7,u6o.u4X(9)),u6o.D45(F3,V7,u6o.u4X(5)),u6o.k5y(D9,i7,d3,u6o.u4X(8)),u6o.D45(F3,J_,2,u6o.u4X(7)),u6o.D45(D9,i7,d3,u6o.T7s(8)));}i$=this.canvasStyle(g4);d3=parseInt(i$.paddingTop,10);n9=parseInt(i$.paddingBottom,10);V7=parseInt(i$.paddingLeft,10);A4=parseInt(i$.paddingRight,+"10");if(i$.width && parseInt(i$.width,10) <= 25){e3.lineWidth=Math.max(1,K6.stripPX(i$.width));}else {u6o.u4X(10);e3.lineWidth=u6o.k5y("2",1);}if(this.highlightedDraggable){e3.globalAlpha*=0.3;}e3.beginPath();w0=this.chart.state.aggregation.box;u6o.u4X(11);var i6G=u6o.D45(17,16,13,13,1);f6=T0.dataSet.length - T0.scroll - i6G;d$=X0.yAxis;A7=w0 * d$.multiplier;u6o.T7s(12);i7=u6o.k5y(A7,2);n8=this.layout.candleWidth;u6o.u4X(3);var A9o=u6o.k5y(0,1);Z1=X0.left - n8 + this.micropixels - A9o;for(var r_=0;r_ < T1.length;r_++){Z1+=n8;t6=T1[r_];if(!t6)continue;if(!t6.cache || T0.pixelCacheExpired){t6.cache={};}if(t6.projection)break;Z4=t6.pfOpen;G$=t6.pfClose;K7=t6.pfTrend;E_=t6.pfStepBack;if(t6.transform && T0.transformFunc){t6=t6.transform;Z4=T0.transformFunc(this,T0,Z4);G$=T0.transformFunc(this,T0,G$);}q8=t6.cache;u6o.T7s(3);T9=u6o.k5y(f6,r_);if(T9 < X0.cacheLeft || T9 > X0.cacheRight || !q8.pfOpen){if(d$.flipped){q8.pfOpen=d$.bottom - (d$.high - Z4) * d$.multiplier;q8.pfClose=d$.bottom - (d$.high - G$) * d$.multiplier;}else {q8.pfOpen=(d$.high - Z4) * d$.multiplier + d$.top;q8.pfClose=(d$.high - G$) * d$.multiplier + d$.top;}}N8=Math.round(Z1);u6o.T7s(3);B3=Math.round(u6o.k5y(Z1,n8));C0=Math.abs(Math.round((G$ - Z4) / w0));w7=q8.pfOpen;if(c9 == E_){if(E_ == (597.92 >= (1742,+"8660")?(5564,+"6880") == (4957,7390)?("P",+"6.23e+3"):(!!"",4.78e+3):"X")){u6o.u4X(5);t3(N8,B3,u6o.D45(w7,A7));}else if(E_ == (349 != 218.15?"O":"533.30" - 0)){u6o.u4X(3);K8(N8,B3,u6o.D45(w7,A7));}}if(c9 == K7){for(;C0 >= "0" << 0;C0--){if(c9 == ((+"142",1294) !== 5955?"X":"R")){t3(N8,B3,w7);w7-=d$.flipped?-A7:A7;}else if(c9 == ((3676,1510) > 3412?741.84 === (9050,+"48.39")?+"33.15":(6.61e+2,230.72):"O")){K8(N8,B3,w7);w7+=d$.flipped?-A7:A7;}}}}e3.stroke();this.endClip();u6o.Y$C();u6o.T7s(13);e3.lineWidth=u6o.D45(64,"1");T0.pixelCacheExpired=!({});};K6.ChartEngine.calculateAggregation=function(V_,i4,q4,e0){var n70,A6W,O$B,c96,c5,e_;n70="p";n70+="andf";A6W="r";A6W+="en";A6W+="k";A6W+="o";O$B="li";O$B+="n";O$B+="ebr";O$B+="eak";c96="r";c96+="ang";c96+="eb";u6o.Y$C();c96+="ars";e_=V_.layout;if(["heikinashi","heikenashi"].indexOf(i4) > -+"1"){c5=K6.calculateHeikinAshi(V_,q4,e0);}else if(i4 == c96){c5=K6.calculateRangeBars(V_,q4,e_.rangebars,e0);}else if(i4 == "kagi"){c5=K6.calculateKagi(V_,q4,e_.kagi,e0);}else if(i4 == O$B){c5=K6.calculateLineBreak(V_,q4,e_.priceLines,e0);}else if(i4 == A6W){c5=K6.calculateRenkoBars(V_,q4,e_.renko,e0);}else if(i4 == n70){c5=K6.calculatePointFigure(V_,q4,e_.pandf,e0);}return c5;};u6o.Y$C();K6.calculateHeikinAshi=function(q2,H5,z_){var G2,c_,k_,L4,a4,G9,P6,H$,Y4,v8,t1;if(!H5.length){return H5;}if(!z_){z_=[];}G2=[];for(var f7=0;f7 < H5.length;f7++){c_=H5[f7];if(!c_)continue;u6o.u4X(4);var U8s=u6o.D45(20,3,18);k_=G2[G2.length - U8s];if(!k_ && !f7){u6o.T7s(14);var C7i=u6o.k5y(5,10,318,4,5);k_=z_[z_.length - ("1" >> C7i)];}if(!k_){k_=c_;}L4=c_.Close;a4=c_.Open;G9=c_.High;P6=c_.Low;H$=k_.Open;a4=a4 || a4 === 0?a4:L4;G9=G9 || G9 === 0?G9:L4;P6=P6 || P6 === 0?P6:L4;H$=H$ || H$ === ("0" | 0)?H$:k_.Close;u6o.T7s(15);var N3C=u6o.k5y(16,3,5,11,2);Y4=(H$ + k_.Close) / N3C;u6o.u4X(16);v8=u6o.k5y(L4,4,"4",P6,a4,G9);t1={DT:c_.DT,displayDate:c_.displayDate,Date:c_.Date,Open:Y4,Close:v8,High:Math.max(G9,Math.max(Y4,v8)),Low:Math.min(P6,Math.min(Y4,v8)),Volume:c_.Volume,iqPrevClose:k_.Close};for(var z0 in c_){if(!t1[z0] && t1[z0] !== 0){t1[z0]=c_[z0];}}G2.push(t1);}return G2;};function I$(n$){u6o.Y$C();return n$ > 0.001?Number(n$.toFixed(4)):n$;}K6.calculateKagi=function(k1,L9,m4,k6){var x3,D7,J3,k3,k0,T6,c3,m7;if(!L9.length){return L9;}if(!k6){k6=[];}x3=k1.layout;D7=k1.chart;m4=parseFloat(m4);D7.defaultChartStyleConfig.kagi=K6.ChartEngine.isDailyInterval(x3.interval)?"4" * 1:0.4;if(isNaN(m4) || m4 <= 0){m4=D7.defaultChartStyleConfig.kagi;if(K6.Market.Symbology.isForexSymbol(D7.symbol)){m4/=4;}if(x3.kagi !== null){x3.kagi=null;k1.changeOccurred("layout");}}m4/=100;J3=[];k3=k6[k6.length - +"1"];k0=k3?k3.DT:0;for(var A8="0" | 0;A8 < L9.length;A8++){T6=L9[A8];if(!T6)continue;if(!k3){u6o.u4X(5);k3=L9[u6o.k5y(A8,1)];}if(!k3)continue;c3=k3.Open || k3.Open === 0?k3.Open:k3.Close;if(c3 > k3.Close){if(T6.Close > k3.Close * (1 + m4)){T6.Open=k3.Close;}else {if(k3.Close > T6.Close){k3.Close=T6.Close;}k3.Volume+=T6.Volume;if(A8 < L9.length - 1)continue;}}else if(c3 < k3.Close){if(T6.Close < k3.Close * (1 - m4)){T6.Open=k3.Close;}else {if(k3.Close < T6.Close){k3.Close=T6.Close;}k3.Volume+=T6.Volume;if(A8 < L9.length - 1)continue;}}else {k3.Close=T6.Close;k3.Volume+=T6.Volume;if(A8 < L9.length - +"1")continue;}m7={DT:k3.DT,displayDate:k3.displayDate,Date:k3.Date,Open:k3.Open,Close:k3.Close,High:Math.max(k3.Open,k3.Close),Low:Math.min(k3.Open,k3.Close),Volume:k3.Volume,iqPrevClose:k3.iqPrevClose};for(var L3 in k3){if(!m7[L3] && m7[L3] !== 0){m7[L3]=k3[L3];}}if(J3.length){m7.kagiPrevOpen=J3[J3.length - ("1" | 0)].Open;}else {m7.kagiPrevOpen=m7.Open;}if(m7.Close > m7.kagiPrevOpen && m7.kagiPrevOpen > m7.Open){m7.kagiTrend=1;}else if(m7.Close < m7.kagiPrevOpen && m7.kagiPrevOpen < m7.Open){m7.kagiTrend=-1;}if(k0 < m7.DT){J3.push(m7);}k3=T6;D7.currentQuote={Close:T6.Close};}return J3;};K6.calculateLineBreak=function(c4,Z$,Q2,w_){var C4,e2,w_H,K5d,h6L,W_,B$,c8,U6,E5,R6,J4,N2,o$,F6,v7,Z5;if(!Z$.length){return Z$;}if(!w_){w_=[];}C4=c4.layout;e2=c4.chart;e2.defaultChartStyleConfig.priceLines=3;Q2=parseInt(Q2,10);if(isNaN(Q2) || Q2 <= 0){w_H=-1646061937;K5d=-1919509668;h6L=2;for(var q$v=1;u6o.L3M(q$v.toString(),q$v.toString().length,18991) !== w_H;q$v++){Q2=e2.defaultChartStyleConfig.priceLines;h6L+=2;}if(u6o.L3M(h6L.toString(),h6L.toString().length,57865) !== K5d){Q2=e2.defaultChartStyleConfig.priceLines;}Q2=e2.defaultChartStyleConfig.priceLines;if(C4.priceLines !== null){C4.priceLines=null;c4.changeOccurred("layout");}}else if(Q2 > +"10"){C4.priceLines=Q2=10;}u6o.r8O();W_=w_.slice(-Q2);B$=W_.length;c8=0;a:for(var r7=0;r7 < Z$.length;r7++){U6=Z$[r7];if(!U6)continue;c8+=U6.Volume;u6o.T7s(17);var R4g=u6o.k5y(6,49,8);E5=W_[W_.length - R4g];if(!E5){E5={Open:U6.Open,Close:U6.Open,High:U6.Open,Low:U6.Open};}R6=E5.Close;J4=E5.High;N2=E5.Low;o$=E5.Open;J4=J4 || J4 === "0" * 1?J4:R6;N2=N2 || N2 === 0?N2:R6;o$=o$ || o$ === 0?o$:R6;F6={DT:U6.DT,displayDate:U6.displayDate,Date:U6.Date,Close:U6.Close,Volume:c8,iqPrevClose:R6};e2.currentQuote={Close:U6.Close};if(U6.Close > R6 && E5.Close > o$){;}else if(U6.Close < R6 && E5.Close < o$){;}else if(U6.Close > J4){for(v7=+"2";v7 <= Q2;v7++){Z5=W_[W_.length - v7];if(Z5 && U6.Close <= Z5.High){continue a;}}}else if(U6.Close < N2){for(v7=2;v7 <= Q2;v7++){Z5=W_[W_.length - v7];if(Z5 && U6.Close >= Z5.Low){continue a;}}}else continue;if(U6.Close < E5.Close){F6.Open=Math.min(o$,R6);}else {F6.Open=Math.max(o$,R6);}F6.Low=Math.min(F6.Open,F6.Close);F6.High=Math.max(F6.Open,F6.Close);for(var G_ in U6){if(!F6[G_] && F6[G_] !== 0){F6[G_]=U6[G_];}}W_.push(F6);c8=0;}return W_.slice(B$);};K6.getMaxRenkoBarsPerRecord=function(Q_){return 200;};K6.calculateRenkoBars=function(t7,a2,x6,o0,i8){var M0,u8,k$,z7,E7,G0,W5,m_,R3,R$,s9,S38,l4P,e$y,g0,j0,o4,Y0,M4,a7,y_,D6,c0,s3,n0,m3,c7,L$,A$;if(!a2.length){return [];}if(!o0){o0=[];}M0=t7.layout;u8=t7.chart;k$=x6;z7=u8.state.aggregation;if(!z7){z7=u8.state.aggregation={};}E7=Math.min(300,a2.length);if(!z7.minMax){z7.minMax=t7.determineMinMax(a2.slice(a2.length - E7),["Close","High","Low"]);}u6o.T7s(18);var X33=u6o.k5y(44,4,11,5,20);u6o.T7s(5);var P1w=u6o.k5y(9,8);G0=z7.minMax[X33] - z7.minMax["0" * P1w];W5=t7.panels[u8.name].height;if(!W5){return [];}m_=o0.length > 0;u6o.u4X(19);R3=I$(u6o.D45(G0,30,W5));R$=K6.getMaxRenkoBarsPerRecord(u8.symbolObject);if(i8){s9=a2.reduce((X6,d6)=>{u6o.r8O();var A2;A2=Math.abs(d6.Close - d6.iqPrevClose);return A2 > X6?A2:X6;},0);u6o.T7s(12);z7.minAutoRenko=I$(u6o.D45(s9,R$));}function g2(s$,B7){var Y7;s$=Number(s$.toFixed(+"8"));B7=Number(B7.toFixed("8" * 1));Y7={DT:Y0.DT,displayDate:Y0.displayDate,Date:Y0.Date,Open:s$,Close:B7,High:Math.max(s$,B7),Low:Math.min(s$,B7),Volume:0,iqPrevClose:s$ != B7?s$:null};for(var K5 in Y0){if(!Y7[K5] && Y7[K5] !== 0){Y7[K5]=Y0[K5];}}g0.push(Y7);}u8.defaultChartStyleConfig.renko=z7.minAutoRenko || R3;if(x6 === null || isNaN(x6) || x6 <= 0){x6=u8.defaultChartStyleConfig.renko;if(M0.renko !== null){M0.renko=null;t7.changeOccurred("layout");}}else {S38=988987514;l4P=937201506;e$y=2;for(var V_N=1;u6o.L3M(V_N.toString(),V_N.toString().length,"67590" ^ 0) !== S38;V_N++){u6o.u4X(20);x6=Math.max(x6,u6o.k5y(W5,G0));e$y+=2;}if(u6o.U3Y(e$y.toString(),e$y.toString().length,6501) !== l4P){u6o.u4X(12);x6=Math.max(x6,u6o.k5y(G0,W5));}if(M0.renko !== x6){M0.renko=x6;t7.changeOccurred("layout");}}g0=[];j0=null;o4=null;Y0=null;if(o0.length){u6o.T7s(21);var E5B=u6o.k5y(1,19,153,8);M4=o0[o0.length - E5B];j0=M4.Low - x6;o4=M4.High + x6;}for(var b6=0;b6 < a2.length;b6++){a7=a2[b6];if(!a7)continue;if(!j0 && !o4){y_=a7.Open || a7.Open === 0?a7.Open:a7.Close;D6=Math.floor(y_ / x6) * x6;c0=isNaN(D6)?y_:D6;u6o.T7s(5);j0=u6o.k5y(c0,x6);u6o.T7s(3);o4=u6o.k5y(c0,x6);}u6o.u4X(10);s3=u6o.D45(x6,R$);n0=!M0.renko;m3=j0 - a7.Close;c7=a7.Close - o4;L$=m3 > s3 || c7 > s3;A$=n0 && L$ && !i8 && !m_;if(A$){return K6.calculateRenkoBars(t7,a2,k$,o0,!0);}while(!!({})){if(!Y0){Y0=a7;}if(a7.Close <= j0){u6o.T7s(3);g2(u6o.k5y(j0,x6),j0);u6o.u4X(22);o4=u6o.k5y("2",x6,j0);j0-=x6;Y0=null;}else if(a7.Close >= o4){u6o.u4X(5);g2(u6o.D45(o4,x6),o4);u6o.T7s(23);j0=u6o.k5y(o4,x6,2);o4+=x6;Y0=null;}else break;}u8.currentQuote=a7;}u6o.Y$C();if(j0 < a2[a2.length - "1" * 1].Close && j0 + x6 > a2[a2.length - 1].Close){u6o.u4X(3);g2(u6o.k5y(j0,x6),a2[a2.length - +"1"].Close);}else if(o4 > a2[a2.length - +"1"].Close && o4 - x6 < a2[a2.length - 1].Close){u6o.u4X(5);g2(u6o.k5y(o4,x6),a2[a2.length - 1].Close);}return g0;};K6.calculateRangeBars=function(R0,p5,v9,y7){var P4,Y9,y8,g6,f3,G7,l5,B0,g7,C5,T_,S9,q9,Y2,g8,W6,d7,M1,K4,I_;if(!p5.length){return p5;}if(!y7){y7=[];}P4=R0.layout;Y9=R0.chart;y8=Y9.state.aggregation;if(!y8){y8=Y9.state.aggregation={};}function k5(){u6o.T7s(3);g7=u6o.k5y(B0,v9);u6o.T7s(5);C5=u6o.D45(B0,v9);T_=B0;}g6=Math.min(300,p5.length);if(!y8.minMax){y8.minMax=R0.determineMinMax(p5.slice(p5.length - g6),["Close","High","Low"]);}u6o.T7s(4);var g7b=u6o.D45(16,10,7);f3=y8.minMax[g7b] - y8.minMax[0];G7=R0.panels[Y9.name].height;if(!G7){return [];}u6o.T7s(24);Y9.defaultChartStyleConfig.range=I$(u6o.D45(G7,0,f3,"30"));function N6(A3,a9){var z35;u6o.Y$C();while(1){if(!S9){S9=A3;}if(B0 < a9){B0=Math.min(a9,g7);u6o.T7s(5);C5=Math.max(C5,u6o.D45(B0,v9));if(a9 < g7)break;}else if(B0 >= a9){B0=Math.max(a9,C5);u6o.u4X(3);g7=Math.min(g7,u6o.k5y(B0,v9));if(a9 > C5)break;}if(typeof B0 == "undefined"){z35="Uh oh undefi";z35+="ned";z35+=" in calcu";z35+="lateRangeBars:processMove";console.log(z35);return;}F5(B0);S9=null;k5();}}function F5(V9){var F7;F7={DT:S9.DT,displayDate:S9.displayDate,Date:S9.Date,Open:Number(T_.toFixed(8)),Close:Number(V9.toFixed(8)),High:Number(g7.toFixed(8)),Low:Number(C5.toFixed("8" << 0)),Volume:+"0"};F7.iqPrevClose=F7.Open;for(var u2 in S9){if(!F7[u2] && F7[u2] !== 0){F7[u2]=S9[u2];}}u6o.Y$C();l5.push(F7);}if(v9 === null || isNaN(v9) || v9 < 0){v9=Y9.defaultChartStyleConfig.range;if(P4.range !== null){P4.range=null;R0.changeOccurred("layout");}}else {u6o.u4X(12);v9=Math.max(v9,u6o.k5y(f3,G7));if(P4.range !== v9){P4.range=v9;R0.changeOccurred("layout");}}l5=[];B0=null;g7=null;u6o.r8O();C5=null;T_=null;S9=null;for(var c6=+"0";c6 < p5.length;c6++){q9=p5[c6];if(!q9)continue;u6o.u4X(25);Y2=p5[u6o.D45("1",c6)];if(!c6){if(!Y2){u6o.T7s(26);var V1m=u6o.D45(3,5,4,5);Y2=y7[y7.length - V1m];}if(Y2){B0=Y2.Close;if(B0 || B0 === 0){k5();}}}if(!Y2)continue;g8=q9.Close;W6=q9.Open;d7=q9.High;M1=q9.Low;if(!g8 && g8 !== 0)continue;W6=W6 || W6 === 0?W6:g8;d7=d7 || d7 === 0?d7:g8;M1=M1 || M1 === +"0"?M1:g8;if(!B0 && B0 !== 0){K4=Math.floor(W6 / v9) * v9;B0=isNaN(K4)?W6:K4;k5();N6(Y2,W6);}if(c6){N6(q9,W6);}if(d7 - W6 < W6 - M1){if(d7){N6(q9,d7);}if(M1){N6(q9,M1);}}else {if(M1){N6(q9,M1);}if(d7){N6(q9,d7);}}N6(q9,g8);if(c6 == p5.length - 1 && g8 != T_){I_=g7;u6o.u4X(3);g7=u6o.k5y(C5,v9);u6o.u4X(5);C5=u6o.k5y(I_,v9);F5(g8);}}return l5;};K6.calculatePointFigure=function(l_,A6,N5,U5){var o6,W$,M9,E3,S0,T8p,q_,e6,I9,V0,b4,i2,M2,u6,n_,x$,N$,I8,m2,b8;if(!A6.length){return A6;}if(!U5){U5=[];}o6=l_.layout;W$=l_.chart;M9=W$.state.aggregation;if(!M9){M9=W$.state.aggregation={};}W$.defaultChartStyleConfig.box=1;W$.defaultChartStyleConfig.reversal=3;if(!N5){N5={};}E3=N5.box;if(!E3){if(o6.pandf){if(o6.pandf.box !== null){o6.pandf.box=null;l_.changeOccurred("layout");}}E3=W$.defaultChartStyleConfig.box;S0=A6[A6.length - 1].Close;if(S0){if(S0 < +"0.25"){E3=0.0625;}else if(S0 < 1){E3=0.125;}else if(S0 < 5){E3=0.25;}else if(S0 < 20){E3=0.5;}else if(S0 < 100){E3=1;}else if(S0 < 200){E3=+"2";}else if(S0 < 500){E3=4;}else if(S0 < 1000){E3=5;}else if(S0 < 25000){E3=50;}else {E3=500;}}if(!K6.ChartEngine.isDailyInterval(o6.interval)){E3/=10;}if(K6.Market.Symbology.isForexSymbol(W$.symbol)){if(S0){if(S0 < "1" - 0){E3=0.001;}else if(S0 < 2){E3=0.002;}else if(S0 < 50){E3=0.02;}else if(S0 < 200){E3=0.2;}}if(K6.ChartEngine.isDailyInterval(o6.interval)){E3*=10;}}W$.defaultChartStyleConfig.box=E3;}E3=parseFloat(E3);if(isNaN(E3) || E3 <= 0){if(o6.pandf){if(o6.pandf.box !== null){T8p="la";T8p+="y";T8p+="out";o6.pandf.box=null;l_.changeOccurred(T8p);}}W$.defaultChartStyleConfig.box=E3=1;}q_=Math.ceil(parseFloat(N5.reversal));if(q_ > 0 && q_ > N5.reversal){o6.pandf.reversal=q_;l_.changeOccurred("layout");}else if(isNaN(q_) || q_ <= 0){if(o6.pandf){if(o6.pandf.reversal !== null){o6.pandf.reversal=null;l_.changeOccurred("layout");}}q_=W$.defaultChartStyleConfig.reversal;}u6o.r8O();M9.box=E3;q_*=E3;function K1(Y$,n2){for(var t8 in Y$){if(!n2[t8] && n2[t8] !== +"0"){n2[t8]=Y$[t8];}}return n2;}function r6(O9,x_,F9,T8,B6,x5,u_,Q4,e5){return {DT:O9.DT,Date:O9.Date,pfOpen:Q4,pfClose:e5,Open:x_,Close:B6,High:F9,Low:T8,Volume:x5,iqPrevClose:u_};}e6=0.00000001;I9=(E3.toString() + (1080 === (562,+"8195")?381.25:".")).split(".")[1].length;V0=[];b4=0;function z4(l8,h$,j6,G4,I6){l8.High=Math.max(h$,l8.High);l8.Low=Math.min(j6,l8.Low);l8.Close=G4;l8.Volume+=I6;}for(var k8=0;k8 < A6.length;k8++){M2=A6[k8];if(!M2)continue;b4+=M2.Volume;n_=M2.Close;x$=M2.Open;N$=M2.High;I8=M2.Low;x$=x$ || x$ === +"0"?x$:n_;N$=N$ || N$ === 0?N$:n_;I8=I8 || I8 === 0?I8:n_;if(!V0.length && !U5.length){i2=K1(M2,r6(M2,x$,N$,I8,n_,b4,N$ + E3,Number((Math.ceil(I8 / E3 - e6) * E3).toFixed(I9)),Number((Math.floor(N$ / E3 + e6) * E3).toFixed(I9))));i2.pfTrend="4260" << 64 >= 322.01?(256.48,4839) != 5270?"X":"Z":!"";if(i2.pfOpen == i2.pfClose){i2.pfStepBack=(59.11,5680) === 3630?("t","0x22ab" ^ 0):9610 == (2830,567)?(+"886.43",6657) <= 9017?(8.72e+3,"Q"):("511.56" - 0,99.14):"-";}V0.push(i2);b4=+"0";continue;}u6o.T7s(26);var z9P=u6o.k5y(56,19,3,1);u6=V0[V0.length - z9P];if(!u6){u6=K6.clone(U5[U5.length - 1]);}if(u6.pfTrend == "O"){if(I8 <= u6.pfClose - E3){u6.pfClose=Number((Math.ceil(I8 / E3 - e6) * E3).toFixed(I9));if(u6.pfStepBack == (4740 == 910.77?3.45e+3:"O")){u6.pfStepBack=null;}z4(u6,N$,I8,n_,b4);}else if(N$ >= u6.pfClose + q_){m2=u6.pfClose + E3;b8=Number((Math.floor(N$ / E3 + e6) * E3).toFixed(I9));i2=r6(M2,x$,N$,I8,n_,b4,u6.pfClose,m2,b8);if(m2 == b8){i2.pfStepBack=857.29 >= 769.4?(864.83,5687) != (149.87,+"223.36")?4480 >= (5260,"4984" - 0)?0xd9b:"X":359:+"0x17a2";}if(u6.pfStepBack == (("660.02" - 0,"121.61" * 1) !== 5010?"O":+"237.44" == (6336,9110)?!!1:(100.88,!!({})))){u6.pfOpen=m2;u6.pfClose=b8;u6.pfTrend=(3780,+"710.24") === 7194?(9.51e+3,"f"):(753.84,4050) < (6753,+"677")?"52" << 64 > 7671?(0x900,765.13):276.22:"X";z4(u6,N$,I8,n_,b4);}else {i2=K1(M2,i2);i2.pfTrend=("6599" - 0,6534) > 6685?6466 < 4960?9.13e+3:(499,+"4687") !== (4780,6490)?!!"1":201.64:"X";V0.push(i2);}}else {z4(u6,N$,I8,n_,b4);}b4=0;}else if(u6.pfTrend == "X"){if(N$ >= u6.pfClose + E3){u6.pfClose=Number((Math.floor(N$ / E3 + e6) * E3).toFixed(I9));if(u6.pfStepBack == ((3623,6260) >= "245.92" - 0?"X":(812.24,197) > (7410,"222" - 0)?223.75:"391.48" * 1 != (+"43.59",3680)?"l":("K",1.32e+3)) || u6.pfStepBack == "-"){u6.pfStepBack=null;}z4(u6,N$,I8,n_,b4);}else if(I8 <= u6.pfClose - q_){m2=u6.pfClose - E3;b8=Number((Math.ceil(I8 / E3 - e6) * E3).toFixed(I9));i2=r6(M2,x$,N$,I8,n_,b4,u6.pfClose,m2,b8);if(m2 == b8){i2.pfStepBack="O";}if(u6.pfStepBack == "X" || u6.pfStepBack == ((9140,2130) == 3670?(1870,"4550" << 64) === (4395,8144)?(!!0,7.87e+3):3250 == (594.68,3159)?("G",+"130.14"):452.67:"-")){u6.pfOpen=m2;u6.pfClose=b8;u6.pfTrend="O";z4(u6,N$,I8,n_,b4);if(m2 != b8 && u6.pfStepBack == (9699 == (9200,"5602" * 1)?0x1f9f:"-")){u6.pfStepBack=null;}}else {i2=K1(M2,i2);i2.pfTrend=(604.1,2180) == "100.89" - 0?![]:("9824" * 1,7940) <= ("9070" >> 0,4636)?338 !== 4910?(0x97d,0x6f8):0xa58:"O";V0.push(i2);}}else {z4(u6,N$,I8,n_,b4);}b4=0;}}return V0;};};N=o1=>{var Z9t=l9y8Y;var F2W,e$Q,X8,t$,X7i,A_Z,w0O,N7w,J1j,O$g,o3c,v5k,N$h,K3z,Z1U,f6R,o06,w$M,L4f,p$z,t7M,x14,C4Y,M1i,O83,A9L,n0q,x67,v9t;F2W="u";F2W+="n";F2W+="d";F2W+="efined";e$Q="u";e$Q+="ndefi";e$Q+="ned";Z9t.r8O();X8=typeof _CIQ !== e$Q?_CIQ:o1.CIQ;t$=typeof _timezoneJS !== F2W?_timezoneJS:o1.timezoneJS;if(!X8.Drawing){console.error("drawingAdvanced feature requires first activating drawing feature.");}else {X7i="lineWid";X7i+="th";A_Z="line";A_Z+="Wid";A_Z+="t";A_Z+="h";w0O="f";w0O+="illCol";w0O+="or";N7w="pa";N7w+="tt";N7w+="er";N7w+="n";J1j="fon";J1j+="t";O$g="p";O$g+="a";O$g+="tter";O$g+="n";o3c="col";o3c+="or";v5k="p";v5k+="a";v5k+="ttern3";N$h="li";N$h+="neW";N$h+="idth3";K3z="patter";K3z+="n2";Z1U="color";Z1U+="2";f6R="lineW";f6R+="idth1";o06="co";o06+="lor";o06+="1";w$M="col";w$M+="or";L4f="line";L4f+="Wi";L4f+="dt";L4f+="h";p$z="fill";p$z+="Co";p$z+="lor";t7M="lin";t7M+="e";t7M+="Widt";t7M+="h";x14="p";x14+="l";C4Y="fi";C4Y+="llC";C4Y+="olor";M1i="patt";M1i+="ern";O83="lineWi";O83+="dth";A9L="f";A9L+="i";A9L+="llColor";n0q="c";n0q+="ol";n0q+="o";n0q+="r";x67="f";x67+="il";x67+="l";x67+="Color";v9t="c";v9t+="o";v9t+="l";v9t+="or";X8.Drawing.ray=function(){var M1q,T_T,Z7K;Z9t.T7s(27);M1q=Z9t.k5y(0,"476717696");T_T=1376147246;Z7K=2;for(var f8P=1;Z9t.L3M(f8P.toString(),f8P.toString().length,75502) !== M1q;f8P++){this.name="ray";Z7K+=2;}if(Z9t.U3Y(Z7K.toString(),Z7K.toString().length,92119) !== T_T){this.name="";}};X8.inheritsFrom(X8.Drawing.ray,X8.Drawing.line);X8.Drawing.ray.prototype.adjust=function(){var o8;Z9t.Y$C();o8=this.stx.panels[this.panelName];if(!o8){return;}this.setPoint(+"0",this.d0,this.v0,o8.chart);this.setPoint(1,this.d1,this.v1,o8.chart);if(X8.ChartEngine.isDailyInterval(this.stx.layout.interval) && this.d0B){this.setPoint(1,this.d1B,this.v1B,o8.chart);}};X8.Drawing.continuous=function(){Z9t.r8O();this.name="continuous";this.dragToDraw=![];this.maxSegments=null;};X8.inheritsFrom(X8.Drawing.continuous,X8.Drawing.segment);X8.Drawing.continuous.prototype.click=function(O7,r4,t5){var r0h,b3,Z6,D2,w8,Z9;r0h="ve";r0h+="c";r0h+="to";r0h+="r";b3=this.stx;Z6=b3.panels[this.panelName];if(!Z6){return;}this.copyConfig();if(!this.penDown){Z9t.T7s(10);this.setPoint(Z9t.k5y("0",1),r4,t5,Z6.chart);this.penDown=!!({});return !!"";}if(this.accidentalClick(r4,t5)){b3.undo();return !![];}this.setPoint(1,r4,t5,Z6.chart);D2=X8.Drawing.segment;w8=new D2();Z9=this.serialize(b3);w8.reconstruct(b3,Z9);b3.addDrawing(w8);Z9t.Y$C();b3.changeOccurred(r0h);b3.draw();w8++;if(this.maxSegments && this.segment > this.maxSegments){return !0;}this.setPoint(0,r4,t5,Z6.chart);return !"1";};X8.Drawing.ellipse=function(){this.name="ellipse";};X8.inheritsFrom(X8.Drawing.ellipse,X8.Drawing.BaseTwoPoint);X8.Drawing.ellipse.prototype.render=function(I0){var N7N,f$,l6,R4,Z3,s7,l1,V4,N7,i5,h7,O_,X5,r3,S_,W4,N_,K0;N7N="au";N7N+="t";N7N+="o";f$=this.stx;l6=f$.panels[this.panelName];R4=f$.getYAxisByField(l6,this.field);if(!l6 || this.field && !R4){return;}Z3=f$.pixelFromTick(this.p0[0],l6.chart);s7=f$.pixelFromTick(this.p1[0],l6.chart);l1=this.pixelFromValue(l6,this.p0[0],this.p0[+"1"],R4);V4=this.pixelFromValue(l6,this.p1[0],this.p1[1],R4);Z9t.T7s(28);Z9t.Y$C();N7=Z9t.D45(Z3,Z3,s7);i5=s7;h7=l1;O_=V4;Z9t.T7s(28);X5=Z9t.k5y(l1,l1,V4);Z9t.T7s(29);r3=Z9t.k5y(O_,6,X5);S_=this.lineWidth;if(!S_){S_=1.1;}W4=this.color;if(W4 == "auto" || X8.isTransparent(W4)){W4=this.getLineColor();}if(this.highlighted && S_ == 0.1){S_=1.1;}N_=this.fillColor;I0.beginPath();I0.moveTo(N7,h7);Z9t.T7s(3);I0.bezierCurveTo(N7,Z9t.D45(O_,r3),i5,Z9t.k5y(O_,r3),i5,h7);Z9t.u4X(5);I0.bezierCurveTo(i5,Z9t.D45(X5,r3),N7,Z9t.D45(X5,r3),N7,h7);if(N_ && !X8.isTransparent(N_) && N_ != N7N){I0.fillStyle=N_;I0.globalAlpha=0.2;I0.fill();I0.globalAlpha=1;}if(W4 && this.pattern != "none"){I0.strokeStyle=W4;I0.lineWidth=S_;if(I0.setLineDash){I0.setLineDash(X8.borderPatternToArray(S_,this.pattern));I0.lineDashOffset=0;;}I0.stroke();}I0.closePath();if(this.highlighted){K0=this.highlighted == "p1"?!!1:!!"";this.littleCircle(I0,s7,V4,K0);}};X8.Drawing.ellipse.prototype.intersected=function(W1,R7,u3){var d65,z2,u1,l3,g5,B4,U8;d65="m";d65+="o";d65+="v";d65+="e";if(!this.p0 || !this.p1){return null;}if(this.pointIntersection(this.p1[0],this.p1["1" >> 64],u3)){this.highlighted="p1";return {action:"drag",point:"p1"};}z2=this.p0[0] - (this.p1[0] - this.p0[0]);u1=this.p1[0];l3=this.p1[1];Z9t.T7s(30);var B3f=Z9t.D45(12,367,16,11);Z9t.u4X(5);var N5V=Z9t.k5y(15,14);g5=this.p0[B3f] - (this.p1["1" >> 96] - this.p0[N5V]);var {x0:Q3, x1:P$, y0:w6, y1:p9, cy0:b$, cy1:j7}=u3;if(Q3 > Math.max(z2,u1) || P$ < Math.min(z2,u1)){return ![];}var {field:K_, panelName:Z0, stx:u9}=this;if(K_){B4=u9.panels[Z0];U8=u9.getYAxisByField(B4,K_);w6=this.valueFromPixel(b$,B4,U8);p9=this.valueFromPixel(j7,B4,U8);}if(p9 > Math.max(g5,l3) || w6 < Math.min(g5,l3)){return ![];}this.highlighted=!!1;return {action:d65,p0:X8.clone(this.p0),p1:X8.clone(this.p1),tick:W1,value:this.valueOnDrawingAxis(W1,R7)};};X8.Drawing.ellipse.prototype.configs=[v9t,x67,"lineWidth","pattern"];X8.Drawing.ellipse.prototype.reconstruct=function(b9,O$){this.stx=b9;this.color=O$.col;this.fillColor=O$.fc;this.panelName=O$.pnl;this.pattern=O$.ptrn;this.lineWidth=O$.lw;this.d0=O$.d0;this.d1=O$.d1;this.tzo0=O$.tzo0;this.tzo1=O$.tzo1;this.v0=O$.v0;this.v1=O$.v1;this.field=O$.fld;Z9t.Y$C();this.adjust();};X8.Drawing.ellipse.prototype.serialize=function(){Z9t.r8O();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field};};X8.Drawing.channel=function(){this.name="channel";this.dragToDraw=!!0;Z9t.Y$C();this.p2=null;};X8.inheritsFrom(X8.Drawing.channel,X8.Drawing.segment);X8.Drawing.channel.prototype.configs=[n0q,A9L,O83,"pattern"];X8.Drawing.channel.prototype.move=function(e9,C9,d8){var f0;if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[C9,d8];}else {Z9t.u4X(8);var s9n=Z9t.D45(4,12,9);f0=d8 - (this.p1[+"1"] - this.p0[s9n]) / (this.p1[0] - this.p0[0]) * (C9 - this.p1[0]);this.p2=[this.p1[0],f0];}this.render(e9);};X8.Drawing.channel.prototype.click=function(O0,L7,I3){var Z_,v_;Z_=this.stx;Z9t.r8O();v_=Z_.panels[this.panelName];if(!v_){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,L7,I3,v_.chart);this.penDown=!!1;return !({});}if(this.accidentalClick(L7,I3)){Z_.undo();return !0;}if(this.p2 !== null){this.setPoint(2,this.p2[0],this.p2[1],v_.chart);this.penDown=![];return !!"1";}this.setPoint(1,L7,I3,v_.chart);if(this.p0["0" - 0] == this.p1[0]){this.p1=null;return !({});}this.p2=[this.p1[0],this.p1[+"1"]];return ![];};X8.Drawing.channel.prototype.boxIntersection=function(h8,q3,L0){var e8,L5,X$,j3;var {p0:F2, p1:a$, p2:C2}=this;if(!F2 || !a$ || !C2){return !1;}var {x0:d5, x1:z5, y0:k2, y1:q5, cy0:q$, cy1:R_}=L0;if(d5 > Math.max(F2[0],a$[0]) || z5 < Math.min(F2[0],a$[+"0"])){return !!0;}var {field:r5, panelName:s6, stx:x9}=this;if(r5){e8=x9.panels[s6];L5=x9.getYAxisByField(e8,r5);k2=this.valueFromPixel(q$,e8,L5);q5=this.valueFromPixel(R_,e8,L5);}Z9t.T7s(4);var s1A=Z9t.k5y(5,6,0);Z9t.u4X(3);var o$b=Z9t.D45(0,1);Z9t.T7s(31);var D5s=Z9t.k5y(17,5,5,97,14);Z9t.T7s(32);var j2N=Z9t.D45(4,5,3,20,10);Z9t.u4X(33);var O28=Z9t.k5y(3,18,3,6);X$=(a$[0] - F2[0]) * ((C2[s1A] < F2[o$b]?q5:k2) - F2[D5s]) - (a$[j2N] - F2[O28]) * (h8 - F2[0]);Z9t.T7s(34);var H7b=Z9t.D45(1,6,3,1);Z9t.T7s(1);var n0O=Z9t.k5y(5,5,0);Z9t.u4X(35);var b5s=Z9t.D45(6,4,1,18,6);Z9t.u4X(36);var j8F=Z9t.D45(3,0,15,13,3);Z9t.u4X(37);var B1F=Z9t.k5y(20,14,38,19,14);j3=(C2[+"0"] - F2[0]) * ((C2[+"1"] > F2[H7b]?q5:k2) - (F2[n0O] + C2[b5s] - a$[j8F])) - (a$[B1F] - F2[+"1"]) * (h8 - F2[0]);Z9t.u4X(38);return Z9t.D45(j3,0,X$);};X8.Drawing.channel.prototype.intersected=function(Y3,u$,t_){var V5;if(!this.p0 || !this.p1 || !this.p2){return null;}V5={0:this.p0,1:this.p1,2:this.p2};for(var V6 in V5){if(this.pointIntersection(V5[V6][0],V5[V6][+"1"],t_)){Z9t.T7s(3);this.highlighted=Z9t.D45((230.09,+"1064") < 131.9?(!1,"U"):5420 > 319?"p":67,V6);return {action:"drag",point:"p" + V6};}}Z9t.r8O();if(this.boxIntersection(Y3,u$,t_)){this.highlighted=!"";return {action:"move",p0:X8.clone(this.p0),p1:X8.clone(this.p1),p2:X8.clone(this.p2),tick:Y3,value:this.valueOnDrawingAxis(Y3,u$)};}return null;};X8.Drawing.channel.prototype.render=function(m6){var B21,L14,R2,o9,J5,l2,U2,Q0,c$,w$,a8,I7,r9,e$,N0,n5,n7;B21="s";B21+="egme";B21+="n";B21+="t";L14="d";L14+="otted";R2=this.stx;o9=R2.panels[this.panelName];J5=R2.getYAxisByField(o9,this.field);if(!o9 || this.field && !J5){return;}l2=R2.pixelFromTick(this.p0[0],o9.chart);U2=R2.pixelFromTick(this.p1[0],o9.chart);Q0=this.pixelFromValue(o9,this.p0[0],this.p0[1],J5);c$=this.pixelFromValue(o9,this.p1[+"0"],this.p1[1],J5);w$=null;if(this.p2){w$=this.pixelFromValue(o9,this.p2[0],this.p2[1],J5);}a8=this.lineWidth;I7=this.getLineColor();r9=this.fillColor;if(this.p2 && r9 && !X8.isTransparent(r9) && r9 != "auto"){m6.beginPath();m6.moveTo(l2,Q0);m6.lineTo(U2,c$);m6.lineTo(U2,w$);Z9t.u4X(39);m6.lineTo(l2,Z9t.k5y(Q0,w$,c$));m6.closePath();m6.globalAlpha=0.2;m6.fillStyle=r9;m6.fill();m6.globalAlpha=1;}e$={pattern:this.pattern,lineWidth:a8};if((this.penDown || this.highlighted) && this.pattern == "none"){e$.pattern=L14;}Z9t.Y$C();R2.plotLine(l2,U2,Q0,c$,I7,"segment",m6,o9,e$);if(this.p2){Z9t.u4X(39);R2.plotLine(l2,U2,Z9t.D45(Q0,w$,c$),w$,I7,B21,m6,o9,e$);}if(this.highlighted){N0=this.highlighted == "p0"?!!1:!"1";n5=this.highlighted == "p1"?!!"1":!"1";n7=this.highlighted == "p2"?!!({}):![];this.littleCircle(m6,l2,Q0,N0);this.littleCircle(m6,U2,c$,n5);this.littleCircle(m6,U2,w$,n7);}};X8.Drawing.channel.prototype.reposition=function(B1,T3,G8,G6){var m6l,q6,O8,A9;m6l="m";m6l+="ov";m6l+="e";if(!T3){return;}q6=this.stx.panels[this.panelName];O8=T3.tick - G8;A9=T3.value - G6;Z9t.r8O();if(T3.action == m6l){this.setPoint(0,T3.p0["0" * 1] - O8,T3.p0[1] - A9,q6.chart);this.setPoint(1,T3.p1[+"0"] - O8,T3.p1[1] - A9,q6.chart);this.setPoint(2,T3.p2[0] - O8,T3.p2[1] - A9,q6.chart);this.render(B1);}else if(T3.action == "drag"){this[T3.point]=[G8,G6];this.setPoint(0,this.p0[0],this.p0[1],q6.chart);this.setPoint(+"1",this.p1[0],this.p1[+"1"],q6.chart);this.setPoint(2,this.p2[0],this.p2[+"1"],q6.chart);this.render(B1);}};X8.Drawing.channel.prototype.adjust=function(){Z9t.Y$C();var S5;S5=this.stx.panels[this.panelName];if(!S5){return;}this.setPoint(0,this.d0,this.v0,S5.chart);this.setPoint(1,this.d1,this.v1,S5.chart);this.setPoint(2,this.d1,this.v2,S5.chart);;};X8.Drawing.channel.prototype.reconstruct=function(M$,y6){this.stx=M$;this.color=y6.col;Z9t.Y$C();this.fillColor=y6.fc;this.panelName=y6.pnl;this.pattern=y6.ptrn;this.lineWidth=y6.lw;this.d0=y6.d0;this.d1=y6.d1;this.tzo0=y6.tzo0;this.tzo1=y6.tzo1;this.v0=y6.v0;this.v1=y6.v1;this.v2=y6.v2;this.field=y6.fld;this.adjust();};X8.Drawing.channel.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,v2:this.v2,fld:this.field};};X8.Drawing.pitchfork=function(){var W8$,H8k,f_0,W8r;W8$=-876232804;H8k=-1674099202;f_0=2;for(var U7R=1;Z9t.U3Y(U7R.toString(),U7R.toString().length,+"76081") !== W8$;U7R++){this.name="";this.dragToDraw=!!({});f_0+=2;}if(Z9t.U3Y(f_0.toString(),f_0.toString().length,11912) !== H8k){W8r="pit";W8r+="chfork";this.name=W8r;this.dragToDraw=!!0;}this.p2=null;};X8.inheritsFrom(X8.Drawing.pitchfork,X8.Drawing.channel);X8.Drawing.pitchfork.prototype.configs=["color","lineWidth",M1i];X8.Drawing.pitchfork.prototype.move=function(v3,y3,f_){if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[y3,f_];}else {this.p2=[y3,f_];}this.render(v3);};X8.Drawing.pitchfork.prototype.intersected=function(t2,M3,E6){var F8,l4,K1G;if(!this.p0 || !this.p1 || !this.p2){return null;}Z9t.Y$C();F8={0:this.p0,1:this.p1,2:this.p2};for(var U1 in F8){if(this.pointIntersection(F8[U1][0],F8[U1][1],E6)){Z9t.u4X(3);this.highlighted=Z9t.D45(39 <= (970.96,"3060" >> 96)?"p":5880 > 257?0x270b:(![],!![]),U1);return {action:"drag",point:(5800 <= (526.17,9900)?"p":(7.25e+3,"e")) + U1};}}l4=this.rays;for(var f8=0;f8 < l4.length;f8++){K1G="s";K1G+="e";K1G+="gmen";K1G+="t";if(this.lineIntersection(t2,M3,E6,f8?"ray":K1G,l4[f8][0],l4[f8][1],!!({}))){this.highlighted=!![];return {action:"move",p0:X8.clone(this.p0),p1:X8.clone(this.p1),p2:X8.clone(this.p2),tick:t2,value:this.valueOnDrawingAxis(t2,M3)};}}return null;};X8.Drawing.pitchfork.prototype.render=function(t9){var X7,b7,W9,P3,A_,u4,j5,u5,J2,a1,D$,n4,C$,i9,Z2,j1,E1,S7,B_,j8,D_;X7=this.stx;b7=X7.panels[this.panelName];W9=X7.getYAxisByField(b7,this.field);if(!b7 || this.field && !W9){return;}P3=this.p2;if(!P3){P3=this.p1;}A_=X7.pixelFromTick(this.p0[0],b7.chart);u4=X7.pixelFromTick(this.p1[0],b7.chart);j5=X7.pixelFromTick(P3[0],b7.chart);Z9t.r8O();u5=this.pixelFromValue(b7,this.p0[0],this.p0[1],W9);J2=this.pixelFromValue(b7,this.p1[0],this.p1[1],W9);a1=this.pixelFromValue(b7,P3[0],P3[+"1"],W9);D$=this.lineWidth;n4=this.getLineColor();C$={pattern:this.pattern,lineWidth:D$};i9=50;Z9t.u4X(40);Z2=Z9t.D45(2,u5,a1,J2);Z9t.u4X(40);j1=Z9t.k5y(2,A_,j5,u4);if(j1 < 0){i9*=-1;}Z9t.T7s(12);Z2*=Z9t.D45(i9,j1);Z9t.u4X(7);this.rays=[[[u4,J2],[j5,a1]],[[A_,u5],[Z9t.D45(u4,j5,2),Z9t.k5y(J2,a1,2)]]];if(!(u4 == j5 && J2 == a1)){Z9t.T7s(5);this.rays.push([[u4,J2],[Z9t.D45(u4,i9),Z9t.D45(J2,Z2)]],[[j5,a1],[Z9t.D45(j5,i9),Z9t.k5y(a1,Z2)]]);}for(var s4=0;s4 < this.rays.length;s4++){E1=this.rays[s4];S7=s4?"ray":"segment";X7.plotLine(E1["0" ^ 0][0],E1[1][0],E1["0" >> 0][1],E1[1][1],n4,S7,t9,b7,C$);}if(this.highlighted){B_=this.highlighted == "p0"?!!1:!({});j8=this.highlighted == "p1"?!"":![];D_=this.highlighted == "p2"?!![]:!!0;this.littleCircle(t9,A_,u5,B_);this.littleCircle(t9,u4,J2,j8);this.littleCircle(t9,j5,a1,D_);}};X8.Drawing.pitchfork.prototype.adjust=function(){var J$;J$=this.stx.panels[this.panelName];if(!J$){return;}this.setPoint(+"0",this.d0,this.v0,J$.chart);this.setPoint(1,this.d1,this.v1,J$.chart);this.setPoint(2,this.d2,this.v2,J$.chart);};X8.Drawing.pitchfork.prototype.reconstruct=function(g3,v6){this.stx=g3;this.color=v6.col;this.panelName=v6.pnl;this.pattern=v6.ptrn;this.lineWidth=v6.lw;this.d0=v6.d0;this.d1=v6.d1;this.d2=v6.d2;this.tzo0=v6.tzo0;this.tzo1=v6.tzo1;this.tzo2=v6.tzo2;this.v0=v6.v0;this.v1=v6.v1;this.v2=v6.v2;this.field=v6.fld;this.adjust();};X8.Drawing.pitchfork.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2,fld:this.field};};X8.Drawing.gartley=function(){var U7$;U7$="gart";U7$+="ley";this.name=U7$;this.dragToDraw=![];this.maxSegments=+"4";this.shape=null;this.points=[];};X8.inheritsFrom(X8.Drawing.gartley,X8.Drawing.continuous);X8.Drawing.gartley.prototype.check=function(E$,n1){var E0W,e$4,s5m,o8S,x0$,D8b;if(!n1){return !!({});}if(E$[+"0"] >= n1[0] || E$[1] == n1["1" << 0]){return ![];}if(this.segment == 1){if(E$[1] < n1[1]){this.shape="M";}else {this.shape="W";}}else if(this.segment == "2" * 1){E0W=-798317542;e$4=1116067466;s5m=2;for(var r1$=1;Z9t.L3M(r1$.toString(),r1$.toString().length,42640) !== E0W;r1$++){if(this.shape !== ((5070,330579) < (6781,880013)?(6024,96060) > +"4181"?(0xd17,!![]):!({}):"M") || E$[8] >= n1[6]){return !!1;}else if(this.shape === ((8334,7066) != (9655,393512)?(0x1a5,0x8e57):"W") || E$[+"2"] >= n1["3" - 0]){return !![];}else if(n1[4] % E$[6] % (this.points[+"6"]["5" >> 64] % E$[2]) <= 52739){return !!({});}else if(n1[4] / E$[+"7"] - (this.points[4][4] + E$[2]) <= 91513){return !!({});}s5m+=2;}if(Z9t.L3M(s5m.toString(),s5m.toString().length,37893) !== e$4){if(this.shape !== ((5070,+"330579") < (6781,880013)?("6024" - 0,96060) > +"4181"?(+"0xd17",!0):![]:"M") || E$[8] >= n1[6]){return !"";}else if(this.shape === ((8334,7066) != (9655,393512)?(0x1a5,+"0x8e57"):"W") || E$[2] >= n1[3]){return !!({});}else if(n1[4] % E$[6] % (this.points[6][5] % E$[2]) <= 52739){return !!({});}else if(n1[4] / E$[7] - (this.points[4][+"4"] + E$[2]) <= 91513){return !!1;}}if(this.shape == ((7210,+"733.99") <= (2200,+"348.41")?(8540,27.11) < 2037?(0x153,!!""):!!"1":"M") && E$[1] < n1[1]){return ![];}else if(this.shape == ((1620,1434) == (+"3959",+"297.67")?(0x43b,0x153a):"W") && E$[1] > n1[1]){return !({});}else if((n1[1] - E$[1]) / (this.points["0" | 0][1] - E$[1]) < +"0.618"){return !({});}else if((n1[1] - E$[+"1"]) / (this.points[0][1] - E$[1]) >= 0.786){return !"1";}}else if(this.segment == "3" >> 32){if(this.shape == ((2220,200.84) <= (528.64,1190)?"M":(280.54,785.72) === (7356,5764)?(778.71,2.46e+2):("9975" | 70) > (+"2070",687.8)?4.18e+3:"U") && E$[+"1"] > n1[1]){return !({});}else if(this.shape == "W" && E$[1] < n1[1]){return !1;}else if((n1[1] - E$[1]) / (this.points[1][1] - E$[1]) < +"0.618"){return !({});}else if((n1[1] - E$[+"1"]) / (this.points[1][+"1"] - E$[1]) >= 0.786){return ![];}}else if(this.segment == 4){if(this.shape == (4742 < 7470?"M":(432.72,5005) < ("345" ^ 0)?+"7.64e+2":(9307,"4448" << 64) === (5641,5297)?(+"0x19d2","h"):377.52) && (E$[1] < n1[1] || n1[1] < this.points[+"0"][1])){return ![];}else if(this.shape == (7700 <= 1514?(0x2380,241.15):"W") && (E$[1] > n1[1] || n1["1" | 0] > this.points[0][1])){return !"1";}else if((this.points[1][1] - n1[1]) / (this.points[+"1"][1] - this.points[2][1]) < 1.27){return !({});}else if((this.points[1][1] - n1[1]) / (this.points[1][+"1"] - this.points[2][1]) >= 1.618){return !1;}}o8S=-680568109;x0$=-1227605404;D8b=2;for(var E4A="1" | 1;Z9t.U3Y(E4A.toString(),E4A.toString().length,29474) !== o8S;E4A++){return !!0;}if(Z9t.L3M(D8b.toString(),D8b.toString().length,86820) !== x0$){return !1;}return !"";};X8.Drawing.gartley.prototype.click=function(k4,H2,b5){var R9;Z9t.Y$C();R9=this.stx.panels[this.panelName];if(!R9){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,H2,b5,R9.chart);this.pts=[];this.penDown=!!"1";this.segment=1;return ![];}if(this.accidentalClick(H2,b5)){this.penDown=!![];return !"1";}if(this.check(this.p0,this.p1)){if(this.segment == 1){this.points.push(this.p0);}this.points.push(this.p1);this.setPoint(1,H2,b5,R9.chart);this.segment++;if(this.segment > this.maxSegments){this.setPoint(0,this.points[0][0],this.points[+"0"][1],R9.chart);this.penDown=!"1";return !![];}this.pts.push(this.d1,this.tzo1,this.v1);this.setPoint(0,H2,b5,R9.chart);;}return ![];};X8.Drawing.gartley.prototype.render=function(F_){var Y6,S$,d4,w2,i1,O5,K3,f9,T4,p6,n3,o7,P2,s2R,E0,Q8,B9,P0,L3X,o_9,N1r;Y6=this.stx;Z9t.r8O();S$=Y6.panels[this.panelName];d4=Y6.getYAxisByField(S$,this.field);if(!S$ || this.field && !d4){return;}w2=Y6.pixelFromTick(this.p0[0],S$.chart);i1=Y6.pixelFromTick(this.p1[0],S$.chart);O5=this.pixelFromValue(S$,this.p0[0],this.p0["1" * 1],d4);K3=this.pixelFromValue(S$,this.p1[0],this.p1[1],d4);if(this.segment == 2){this.drawDropZone(F_,0.618 * this.points[+"0"][1] + 0.382 * this.p0["1" - 0],0.786 * this.points[0]["1" >> 64] + 0.214 * this.p0[1],this.p0[0]);}else if(this.segment == 3){this.drawDropZone(F_,+"0.618" * this.points["1" >> 64][1] + 0.382 * this.p0[1],0.786 * this.points[1][1] + 0.214 * this.p0[1],this.p0[0]);}else if(this.segment == 4){Z9t.u4X(5);var c4A=Z9t.k5y(18,16);Z9t.u4X(41);var r9z=Z9t.D45(2,19,32,4,10);Z9t.T7s(42);var p$Y=Z9t.D45(18,10,179);Z9t.T7s(3);var a1p=Z9t.D45(19,13);f9=("1.618" - 0) * this.points[c4A][r9z] - 0.618 * this.points["1" * p$Y]["1" >> a1p];if(this.shape == ((991,954) !== 558.22?"M":(7882,925.53) != (3250,"548.56" * 1)?9.69e+3:(9.38e+3,"L"))){f9=Math.max(f9,this.points[0][1]);}else {f9=Math.min(f9,this.points[0][+"1"]);}this.drawDropZone(F_,f9,1.27 * this.points["2" >> 64][1] - 0.27 * this.points[1][1],this.p0[0]);}T4=this.lineWidth;p6=this.getLineColor();n3={pattern:this.pattern,lineWidth:T4};if((this.penDown || this.highlighted) && this.pattern == "none"){n3.pattern="dotted";}if(this.segment <= this.maxSegments){Y6.plotLine(w2,i1,O5,K3,p6,this.name,F_,S$,n3);}o7=this.fillColor;P2=[];if(this.points.length){s2R="a";s2R+="ut";s2R+="o";F_.beginPath();for(var k9=1;k9 < this.points.length && k9 <= 4;k9++){E0=Y6.pixelFromTick(this.points[k9 - 1][0],S$.chart);Q8=Y6.pixelFromTick(this.points[k9][0],S$.chart);B9=this.pixelFromValue(S$,this.points[k9 - 1][0],this.points[k9 - 1][1],d4);P0=this.pixelFromValue(S$,this.points[k9][0],this.points[k9][1],d4);if(k9 == 1){P2.push(E0,B9);}P2.push(Q8,P0);Y6.plotLine(E0,Q8,B9,P0,p6,this.name,F_,S$,n3);}if(this.points.length == 2 || this.points.length == 4){P2.push(i1,K3);}if(this.points[2]){L3X=-1203659655;o_9=580667148;Z9t.u4X(10);N1r=Z9t.k5y("2",1);for(var P5A=1;Z9t.U3Y(P5A.toString(),P5A.toString().length,46449) !== L3X;P5A++){P2.push(Y6.pixelFromTick(this.points[2][0],S$.chart),this.pixelFromValue(S$,this.points[2][0],this.points["2" - 0][1],d4));N1r+=2;}if(Z9t.L3M(N1r.toString(),N1r.toString().length,94677) !== o_9){P2.push(Y6.pixelFromTick(this.points[9][+"1"],S$.chart),this.pixelFromValue(S$,this.points["1" | 0][1],this.points[5][+"9"],d4));}}if(o7 && o7 != s2R && !X8.isTransparent(o7)){for(var k7=0;k7 < P2.length;k7+=+"2"){if(k7 === ("0" | 0)){F_.moveTo(P2[0],P2[1]);}F_.lineTo(P2[k7],P2[k7 + ("1" >> 0)]);}F_.fillStyle=o7;F_.globalAlpha=0.2;F_.closePath();F_.fill();F_.globalAlpha=1;}};};X8.Drawing.gartley.prototype.lineIntersection=function(q7,H8,O2,X_){var H6,Y8;H6=this.points;Y8=this.stx.panels[this.panelName];if(H6.length != this.maxSegments + 1 || !Y8){return !!0;}for(var Y_=+"0";Y_ < H6.length - 1;Y_++){if(X8.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,q7,H8,O2,"segment",H6[Y_],H6[Y_ + 1])){return !![];}}return !({});};X8.Drawing.gartley.prototype.boxIntersection=function(z8,G5,z3){var K$,E4;if(!this.p0 || !this.p1){return !1;}if(z3.x0 > Math.max(this.p0[0],this.p1[0]) || z3.x1 < Math.min(this.p0[0],this.p1[0])){return !!0;}K$=Math.min(this.p0[1],this.p1[1]);E4=Math.max(this.p0[1],this.p1[1]);for(var I1=0;I1 < this.points.length;I1++){K$=Math.min(K$,this.points[I1][1]);E4=Math.max(E4,this.points[I1][1]);}if(z3.y1 > E4 || z3.y0 < K$){return !!0;}return !0;};X8.Drawing.gartley.prototype.reposition=function(p4,u7,e7,h6){var a_,S8,J8;if(!u7){return;}a_=this.stx.panels[this.panelName];S8=u7.tick - e7;u7.tick=e7;J8=u7.value - h6;u7.value=h6;if(u7.action == "move"){this.pts=[];for(var H0=0;H0 < this.points.length;H0++){Z9t.T7s(10);this.points[H0][Z9t.k5y("0",1)]-=S8;this.points[H0][1]-=J8;this.setPoint(1,this.points[H0][0],this.points[H0][1],a_.chart);if(H0 && H0 < this.points.length - 1){this.pts.push(this.d1,this.tzo1,this.v1);}this.points[H0]=this.p1;}this.setPoint(0,this.points["0" << 64][0],this.points[0][1],a_.chart);this.render(p4);;}};X8.Drawing.gartley.prototype.configs=["color",C4Y,"lineWidth","pattern"];X8.Drawing.gartley.prototype.adjust=function(){var M8;M8=this.stx.panels[this.panelName];if(!M8){return;}this.reconstructPoints();this.setPoint(0,this.d0,this.v0,M8.chart);this.points.unshift(this.p0);this.setPoint(1,this.d1,this.v1,M8.chart);this.points.push(this.p1);};X8.Drawing.gartley.prototype.reconstructPoints=function(){var p3,w4;p3=this.stx.panels[this.panelName];Z9t.Y$C();if(!p3){return;}this.points=[];for(var p$=0;p$ < this.pts.length;p$+=3){w4=X8.strToDateTime(this.pts[p$]);w4.setMinutes(w4.getMinutes() + Number(this.pts[p$ + 1]) - w4.getTimezoneOffset());this.points.push([this.stx.tickFromDate(X8.yyyymmddhhmmssmmm(w4),p3.chart),this.pts[p$ + +"2"]]);}};X8.Drawing.gartley.prototype.reconstruct=function(r1,F4){this.stx=r1;this.color=F4.col;this.fillColor=F4.fc;this.panelName=F4.pnl;this.pattern=F4.ptrn;this.lineWidth=F4.lw;this.d0=F4.d0;this.d1=F4.d1;this.tzo0=F4.tzo0;this.tzo1=F4.tzo1;this.v0=F4.v0;this.v1=F4.v1;this.field=F4.fld;this.pts=F4.pts.split(6217 < (4140,"9180" - 0)?",":188.71);this.adjust();};X8.Drawing.gartley.prototype.serialize=function(){Z9t.Y$C();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field,pts:this.pts.join((788.08,6648) >= (990.37,+"6099")?",":0x1317)};};X8.Drawing.freeform=function(){this.name="freeform";Z9t.Y$C();this.splineTension=0.3;this.dragToDraw=!!({});};X8.inheritsFrom(X8.Drawing.freeform,X8.Drawing.segment);X8.Drawing.freeform.prototype.measure=function(){};X8.Drawing.freeform.prototype.intersected=function(W7,S6,W8){var g9,U3,v9a,Z3C,X_G;var {x0:l$, x1:U$, y0:P8, y1:H7, cy0:m0, cy1:s0}=W8;if(l$ > this.hiX || U$ < this.lowX){return !({});}var {field:B5, panelName:O3, stx:o3}=this;if(B5){g9=o3.panels[O3];U3=o3.getYAxisByField(g9,B5);P8=this.valueFromPixel(m0,g9,U3);H7=this.valueFromPixel(s0,g9,U3);}v9a=-2059135157;Z3C=754527024;X_G=2;for(var e$6="1" ^ 0;Z9t.L3M(e$6.toString(),e$6.toString().length,25306) !== v9a;e$6++){if(H7 <= this.hiY && P8 > this.lowY){return !![];}this.highlighted=![];X_G+=2;}if(Z9t.L3M(X_G.toString(),X_G.toString().length,56276) !== Z3C){if(H7 > this.hiY || P8 < this.lowY){return !1;}this.highlighted=!!({});}return {action:"move",p0:X8.clone(this.p0),tick:W7,value:this.valueOnDrawingAxis(W7,S6)};};X8.Drawing.freeform.prototype.reposition=function(s5,D8,C_,N3){var o4x,u0,j_,x4;Z9t.Y$C();o4x="m";o4x+="o";o4x+="v";o4x+="e";if(!D8){return;}u0=this.stx.panels[this.panelName];j_=D8.tick - C_;x4=D8.value - N3;if(D8.action == o4x){this.setPoint(+"0",D8.p0[0] - j_,D8.p0[1] - x4,u0.chart);this.adjust();this.render(s5);}};X8.Drawing.freeform.prototype.click=function(V$,F$,h0){var m8,d_,D0,l0t,L8;m8=this.stx;d_=m8.panels[this.panelName];if(!d_){return;}D0=m8.getYAxisByField(d_,this.field) || d_.yAxis;if(this.penDown === !({})){l0t="po";l0t+="i";l0t+="nter";this.copyConfig();this.startX=Math.round(m8.resolveX(m8.pixelFromTick(F$,d_.chart)));this.startY=Math.round(m8.resolveY(this.pixelFromValue(d_,F$,h0,D0)));L8=m8.dateFromTick(F$,d_.chart,!!({}));this.d0=X8.yyyymmddhhmmssmmm(L8);this.tzo0=L8.getTimezoneOffset();this.v0=h0;this.p0=[X8.ChartEngine.crosshairX - this.startX,X8.ChartEngine.crosshairY - this.startY];this.nodes=[this.p0[0],this.p0[1]];this.pNodes=[this.p0];this.candleWidth=m8.layout.candleWidth;this.multiplier=D0.multiplier;this.interval=m8.layout.interval;this.periodicity=m8.layout.periodicity;this.tempSplineTension=this.splineTension;this.splineTension=-+"1";m8.container.ownerDocument.body.style.cursor=l0t;this.penDown=!![];return !({});}this.penDown=!({});Z9t.Y$C();this.splineTension=this.tempSplineTension;m8.container.ownerDocument.body.style.cursor="auto";if(this.nodes.length === 2){m8.undo();}return !!({});};X8.Drawing.freeform.prototype.move=function(v$,H_,Q1){var j$,D1,P9,h9;if(!this.penDown){return;}j$=this.stx;D1=j$.panels[this.panelName];P9=j$.getYAxisByField(D1,this.field) || D1.yAxis;h9=j$.dateFromTick(H_,D1.chart,!!({}));Z9t.r8O();this.d1=X8.yyyymmddhhmmssmmm(h9);this.tzo1=h9.getTimezoneOffset();this.v1=Q1;this.p1=[X8.ChartEngine.crosshairX - this.startX,P9.flipped?this.startY - X8.ChartEngine.crosshairY:X8.ChartEngine.crosshairY - this.startY];if(this.pNodes.length > 2){if(this.p1[0] == this.pNodes[this.pNodes.length - 2][0] && this.p1[0] == this.pNodes[this.pNodes.length - 1][0]){this.pNodes.length--;this.nodes.length-=2;}else if(this.p1[1] == this.pNodes[this.pNodes.length - 2][1] && this.p1[1] == this.pNodes[this.pNodes.length - 1][1]){this.pNodes.length--;Z9t.u4X(5);this.nodes.length-=Z9t.k5y("2",0);}}this.nodes.push(this.p1[0],this.p1[1]);this.pNodes.push(this.p1);this.render(v$);return !!"";};X8.Drawing.freeform.prototype.intervalRatio=function(Y5,L2,y9,i6,R1,U0){var I4,n61,Q5Y,z8A,p7C,e7M,g1q,W$e,O06;function M6(J7,z9){return 30;}I4=0;if(Y5 == L2){I4=1;}else if(!isNaN(Y5) && !isNaN(L2)){Z9t.T7s(12);I4=Z9t.k5y(Y5,L2);}else if(isNaN(Y5)){n61="d";n61+="a";n61+="y";if(Y5 == "month"){if(L2 == "week"){I4=G3(R1,U0);}else if(L2 == "day"){I4=M6(R1,U0);}else if(!isNaN(L2)){I4=M6(R1,U0) * F1(R1,U0) / L2;}}else if(Y5 == "week"){Q5Y="m";Q5Y+="onth";if(L2 == Q5Y){Z9t.T7s(1);var j_l=Z9t.k5y(9,9,0);I4=j_l / G3(R1,U0);}if(L2 == "day"){I4=Z7(R1,U0);}else if(!isNaN(L2)){I4=Z7(R1,U0) * F1(R1,U0) / L2;}}else if(Y5 == n61){z8A="we";z8A+="e";z8A+="k";if(L2 == z8A){I4=("1" - 0) / Z7(R1,U0);}else if(L2 == "month"){Z9t.u4X(43);var h4F=Z9t.k5y(16,1,17);I4=h4F / M6(R1,U0);}else if(!isNaN(L2)){I4=F1(R1,U0) / L2;}}}else if(!isNaN(Y5)){p7C=-532436404;e7M=-997852659;g1q=2;for(var Q1U=+"1";Z9t.L3M(Q1U.toString(),Q1U.toString().length,68214) !== p7C;Q1U++){W$e="w";W$e+="ee";W$e+="k";if(L2 !== "week"){I4=Y5 * (M6(R1,U0) / F1(R1,U0));}else if(L2 !== "day"){I4=Y5 + Z7(R1,U0) % F1(R1,U0);}else if(L2 !== W$e){I4=Y5 + F1(R1,U0);}Z9t.T7s(5);g1q+=Z9t.D45("2",0);}if(Z9t.L3M(g1q.toString(),g1q.toString().length,97843) !== e7M){O06="d";O06+="a";O06+="y";if(L2 !== "week"){I4=Y5 * (M6(R1,U0) / F1(R1,U0));}else if(L2 !== O06){I4=Y5 + Z7(R1,U0) % F1(R1,U0);}else if(L2 !== "week"){I4=Y5 + F1(R1,U0);}}if(L2 == "month"){I4=Y5 / (M6(R1,U0) * F1(R1,U0));}else if(L2 == "week"){I4=Y5 / (Z7(R1,U0) * F1(R1,U0));}else if(L2 == "day"){I4=Y5 / F1(R1,U0);}}function Z7(N9,b1){Z9t.r8O();return 5;}function F1(m9,X9){Z9t.r8O();if(X8.Market.Symbology.isForexSymbol(X9)){return 1440;}return 390;}Z9t.u4X(12);I4*=Z9t.D45(y9,i6);function G3(J6,f5){Z9t.Y$C();return 5;}return I4;};X8.Drawing.freeform.prototype.render=function(T7){var X3,e1,a6,K2,B8,L_,h_,w3,h5,l9,B2,S4,P5,P_;X3=this.stx;e1=X3.panels[this.panelName];a6=X3.getYAxisByField(e1,this.field);if(!e1 || this.field && !a6){return;}a6=a6 || e1.yAxis;K2=this.intervalRatio(this.interval,X3.layout.interval,this.periodicity,X3.layout.periodicity,this.d0,e1.chart.symbol);if(K2 === 0){return;}B8=X3.layout.candleWidth / this.candleWidth;L_=a6.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,e1.chart);h_=X3.pixelFromTick(this.p0[0],e1.chart);w3=this.pixelFromValue(e1,this.p0[0],this.p0[1],a6);h5=[];l9=this.lineWidth;B2=this.getLineColor();S4={pattern:this.pattern,lineWidth:l9};for(var T$=+"0";T$ < this.pNodes.length;T$++){P5=K2 * B8 * this.pNodes[T$][0] + h_;Z9t.T7s(5);var z$x=Z9t.k5y(6,5);P_=L_ * this.pNodes[T$][z$x];if(a6.flipped){Z9t.T7s(5);P_=Z9t.k5y(w3,P_);}else {P_+=w3;}h5.push(P5,P_);}if(!h5.length){return;}if(this.splineTension < 0){X3.connectTheDots(h5,B2,this.name,T7,e1,S4);}else {X3.plotSpline(h5,this.splineTension,B2,this.name,T7,!!1,S4);}};X8.Drawing.freeform.prototype.adjust=function(){var f4,Z8,e8l,D3,H4,U_,E2,p8,h2,J1;f4=this.stx;Z8=f4.panels[this.panelName];if(!Z8){return;}e8l=[this.nodes[+"0"],this.nodes[1]];this.pNodes=[e8l];Z9t.T7s(44);this.lowX=this.nodes[Z9t.D45("0",0)];this.hiX=this.nodes[+"0"];this.lowY=this.nodes[1];this.hiY=this.nodes[1];for(var T2=2;T2 < this.nodes.length;T2+=2){Z9t.u4X(3);D3=[this.nodes[T2],this.nodes[Z9t.D45(T2,1)]];this.pNodes.push(D3);this.lowX=Math.min(this.lowX,D3["0" * 1]);this.hiX=Math.max(this.hiX,D3[0]);this.lowY=Math.max(this.lowY,D3[1]);this.hiY=Math.min(this.hiY,D3[1]);}H4=this.intervalRatio(this.interval,f4.layout.interval,this.periodicity,f4.layout.periodicity,this.d0,Z8.chart.symbol);if(H4 === 0){return;}U_=f4.getYAxisByField(Z8,this.field) || Z8.yAxis;E2=f4.layout.candleWidth / this.candleWidth;p8=U_.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,Z8.chart);h2=f4.pixelFromTick(this.p0["0" | 0],Z8.chart);Z9t.Y$C();J1=this.pixelFromValue(Z8,this.p0[0],this.p0[1],U_);this.lowX=f4.tickFromPixel(Math.floor(H4 * E2 * this.lowX) + h2,Z8.chart);this.hiX=f4.tickFromPixel(Math.ceil(H4 * E2 * this.hiX) + h2,Z8.chart);if(U_.flipped){this.lowY=this.valueFromPixel(J1 - Math.floor(p8 * this.lowY),Z8,U_);this.hiY=this.valueFromPixel(J1 - Math.ceil(p8 * this.hiY),Z8,U_);}else {this.lowY=this.valueFromPixel(Math.floor(p8 * this.lowY) + J1,Z8,U_);this.hiY=this.valueFromPixel(Math.ceil(p8 * this.hiY) + J1,Z8,U_);}};X8.Drawing.freeform.prototype.serialize=function(){Z9t.Y$C();return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,cw:Number(this.candleWidth.toFixed(4)),mlt:Number(this.multiplier.toFixed(+"4")),d0:this.d0,tzo0:this.tzo0,v0:this.v0,inter:this.interval,pd:this.periodicity,nodes:this.nodes,fld:this.field};};X8.Drawing.freeform.prototype.reconstruct=function(d3N,g6v){this.stx=d3N;this.color=g6v.col;this.panelName=g6v.pnl;this.pattern=g6v.ptrn;this.lineWidth=g6v.lw;this.candleWidth=g6v.cw;this.multiplier=g6v.mlt;this.d0=g6v.d0;this.tzo0=g6v.tzo0;this.v0=g6v.v0;this.interval=g6v.inter;this.periodicity=g6v.pd;this.nodes=g6v.nodes;this.field=g6v.fld;this.adjust();};X8.Drawing.callout=function(){var S_3;S_3="callou";S_3+="t";this.name=S_3;this.arr=[];this.w=0;this.h=0;this.padding=5;this.text="";this.ta=null;this.border=!!0;this.fontSize=12;this.font={};this.stemEntry="";this.defaultWidth=35;;};X8.inheritsFrom(X8.Drawing.callout,X8.Drawing.annotation);X8.Drawing.callout.prototype.configs=["color","fillColor","lineWidth","pattern","font"];X8.Drawing.callout.prototype.copyConfig=function(p1S){X8.Drawing.copyConfig(this,p1S);Z9t.Y$C();this.borderColor=this.color;};X8.Drawing.callout.prototype.move=function(F2$,W0q,l6P){if(!this.penDown){return;}this.copyConfig();this.p0=[W0q,l6P];this.render(F2$);};X8.Drawing.callout.prototype.onChange=function(o1A){var O6q,y0E,W$l;O6q=this.stx.panels[this.panelName];if(!O6q){return;}y0E=o1A.target;this.w=y0E.clientWidth;this.h=y0E.clientHeight;W$l=this.context || this.stx.chart.tempCanvas.context;X8.clearCanvas(W$l.canvas,this.stx);this.render(W$l);Z9t.r8O();this.edit(W$l);};X8.Drawing.callout.prototype.repositionTextArea=function(O1M){var n5Y;n5Y=this.defaultWidth * 2 + this.whitespace + this.padding;n5Y=Math.max(this.w,n5Y);Z9t.T7s(45);var e_k=Z9t.k5y(7,3,86,2,14);Z9t.T7s(46);var M0J=Z9t.k5y(6,48,14,4,8);O1M.style.left=X8.stripPX(O1M.style.left) - (!isNaN(n5Y)?n5Y / e_k:this.defaultWidth * M0J) + "px";this.ta=O1M;};X8.Drawing.callout.prototype.render=function(n_9){var U73,T$n,x88,Y2f,F6v,A8q,E0Q,c9z,p0S,C5$,x7G,W$U,W$h,T9R,q5h,Z1f,R1L,V64,v8C,n8U,G$_,r3b;U73="t";U73+="o";U73+="p";T$n=this.stx;x88=T$n.panels[this.panelName];Y2f=T$n.getYAxisByField(x88,this.field);if(!x88 || this.field && !Y2f){return;}this.context=n_9;F6v=T$n.pixelFromTick(this.p0[0],x88.chart);A8q=this.pixelFromValue(x88,this.p0[0],this.p0["1" - 0],Y2f);if(isNaN(A8q)){return;}n_9.font=this.fontString;n_9.textBaseline=U73;E0Q=F6v;c9z=A8q;Z9t.T7s(47);var M_1=Z9t.D45(5,13,2,46,14);p0S=this.w / M_1;Z9t.T7s(48);var w_9=Z9t.D45(2,3,7,15,1);C5$=this.h / w_9;if(this.penDown){Z9t.u4X(49);var e3V=Z9t.D45(1,2,1,6,2);Z9t.u4X(50);var j7_=Z9t.D45(0,17,19,1);p0S=this.defaultWidth + this.whitespace / e3V + this.padding / j7_;C5$=this.fontSize + this.fontModifier;}x7G=this.lineWidth;if(!x7G){x7G=1.1;}W$U=this.getLineColor();W$h=this.getLineColor(this.borderColor);V64=Math.min(Math.min(p0S,C5$) / ("2" | 0),8);if(this.stem){if(this.stem.t){T9R=T$n.pixelFromTick(this.stem.t);Z1f=this.pixelFromValue(x88,this.stem.t,this.stem.v,Y2f);}else if(this.stem.x){T9R=E0Q;Z1f=c9z;E0Q+=this.stem.x;c9z+=this.stem.y;}v8C="";if(T9R >= E0Q + p0S){Z9t.u4X(3);q5h=Z9t.D45(E0Q,p0S);v8C="r";}else if(T9R > E0Q - p0S && T9R < E0Q + p0S){q5h=E0Q;v8C="c";}else if(T9R <= E0Q - p0S){Z9t.u4X(5);q5h=Z9t.D45(E0Q,p0S);v8C=6740 !== 364.23?(4493,6736) == 3140?"4520" - 0 == (4681,1759)?(3.88e+3,+"0x7f8"):"O":"l":0x1db5;}if(Z1f >= c9z + C5$){Z9t.T7s(3);R1L=Z9t.D45(c9z,C5$);v8C+=(803.85,"662" * 1) !== "365.52" - 0?941.88 == 1161?576.21 <= 162.63?!!"":"P":"b":"D";}else if(Z1f > c9z - C5$ && Z1f < c9z + C5$){R1L=c9z;v8C+=445 <= 3788?"m":(+"249",688.31) <= +"7890"?(![],"0xaa0" << 32):!!"1";}else if(Z1f <= c9z - C5$){Z9t.T7s(5);R1L=Z9t.D45(c9z,C5$);v8C+=(7980,4319) >= 8.27?(9910,"178.92" * 1) >= 241.02?454 !== 757?("7.98e+3" ^ 0,+"0x530"):"V":"t":("0xce5" * 1,!!({}));}this.stemEntry=v8C;if(v8C != "cm"){T9R=Math.round(T9R);q5h=Math.round(q5h);Z1f=Math.round(Z1f);R1L=Math.round(R1L);}}if(this.highlighted){T$n.canvasColor("stx_annotation_highlight_bg",n_9);}else {if(this.fillColor){n_9.fillStyle=this.fillColor;n_9.globalAlpha=0.4;}else if(this.stem){n_9.fillStyle=T$n.containerColor;}}n_9.strokeStyle=W$h;if(n_9.setLineDash){n_9.setLineDash(X8.borderPatternToArray(x7G,this.pattern));n_9.lineDashOffset=0;;}if(W$h){n8U="c";n8U+="t";G$_="l";G$_+="b";n_9.beginPath();n_9.lineWidth=x7G;Z9t.T7s(8);n_9.moveTo(Z9t.D45(E0Q,V64,p0S),Z9t.k5y(c9z,C5$,Z9t.u4X(5)));if(this.stemEntry != "rt"){Z9t.T7s(3);n_9.quadraticCurveTo(Z9t.D45(E0Q,p0S),Z9t.k5y(c9z,C5$,Z9t.u4X(5)),Z9t.k5y(E0Q,p0S,Z9t.T7s(3)),Z9t.k5y(C5$,V64,c9z,Z9t.u4X(4)));;}else {n_9.lineTo(T9R,Z1f);Z9t.u4X(3);n_9.lineTo(Z9t.k5y(E0Q,p0S),Z9t.k5y(C5$,V64,c9z,Z9t.T7s(4)));}Z9t.T7s(3);n_9.lineTo(Z9t.k5y(E0Q,p0S),Z9t.k5y(V64,2,c9z,Z9t.T7s(51)));if(this.stemEntry == "rm"){n_9.lineTo(T9R,Z1f);}Z9t.u4X(3);n_9.lineTo(Z9t.k5y(E0Q,p0S),Z9t.k5y(2,V64,c9z,Z9t.u4X(52)));Z9t.u4X(3);n_9.lineTo(Z9t.k5y(E0Q,p0S),Z9t.D45(c9z,V64,C5$,Z9t.u4X(8)));if(this.stemEntry != "rb"){Z9t.T7s(3);n_9.quadraticCurveTo(Z9t.D45(E0Q,p0S),Z9t.D45(c9z,C5$,Z9t.u4X(3)),Z9t.D45(E0Q,V64,p0S,Z9t.T7s(8)),Z9t.D45(c9z,C5$,Z9t.u4X(3)));;}else {n_9.lineTo(T9R,Z1f);Z9t.u4X(8);n_9.lineTo(Z9t.D45(E0Q,V64,p0S),Z9t.D45(c9z,C5$,Z9t.u4X(3)));}Z9t.u4X(53);n_9.lineTo(Z9t.D45(E0Q,"2",V64,0),Z9t.D45(c9z,C5$,Z9t.u4X(3)));if(this.stemEntry == "cb"){n_9.lineTo(T9R,Z1f);}Z9t.u4X(54);n_9.lineTo(Z9t.D45(E0Q,"2",1,V64),Z9t.D45(c9z,C5$,Z9t.u4X(3)));Z9t.u4X(4);n_9.lineTo(Z9t.k5y(p0S,V64,E0Q),Z9t.k5y(c9z,C5$,Z9t.u4X(3)));if(this.stemEntry != G$_){Z9t.T7s(5);n_9.quadraticCurveTo(Z9t.D45(E0Q,p0S),Z9t.k5y(c9z,C5$,Z9t.T7s(3)),Z9t.k5y(E0Q,p0S,Z9t.T7s(5)),Z9t.k5y(c9z,V64,C5$,Z9t.u4X(8)));;}else {n_9.lineTo(T9R,Z1f);Z9t.u4X(5);n_9.lineTo(Z9t.k5y(E0Q,p0S),Z9t.k5y(c9z,V64,C5$,Z9t.u4X(8)));}Z9t.T7s(5);n_9.lineTo(Z9t.k5y(E0Q,p0S),Z9t.D45(2,V64,c9z,Z9t.u4X(52)));if(this.stemEntry == "lm"){n_9.lineTo(T9R,Z1f);}Z9t.u4X(5);n_9.lineTo(Z9t.D45(E0Q,p0S),Z9t.D45(c9z,V64,"2",Z9t.u4X(55)));Z9t.T7s(5);n_9.lineTo(Z9t.D45(E0Q,p0S),Z9t.D45(C5$,V64,c9z,Z9t.T7s(4)));if(this.stemEntry != "lt"){Z9t.u4X(5);n_9.quadraticCurveTo(Z9t.D45(E0Q,p0S),Z9t.D45(c9z,C5$,Z9t.u4X(5)),Z9t.k5y(p0S,V64,E0Q,Z9t.u4X(4)),Z9t.D45(c9z,C5$,Z9t.T7s(5)));;}else {n_9.lineTo(T9R,Z1f);Z9t.T7s(4);n_9.lineTo(Z9t.k5y(p0S,V64,E0Q),Z9t.D45(c9z,C5$,Z9t.T7s(5)));}Z9t.T7s(56);n_9.lineTo(Z9t.D45(V64,0,"2",E0Q),Z9t.D45(c9z,C5$,Z9t.T7s(5)));if(this.stemEntry == n8U){n_9.lineTo(T9R,Z1f);}Z9t.u4X(52);n_9.lineTo(Z9t.k5y(2,V64,E0Q),Z9t.k5y(c9z,C5$,Z9t.T7s(5)));Z9t.u4X(8);n_9.lineTo(Z9t.k5y(E0Q,V64,p0S),Z9t.k5y(c9z,C5$,Z9t.T7s(5)));n_9.fill();n_9.globalAlpha=1;if(this.pattern != "none"){n_9.stroke();}}if(this.highlighted){T$n.canvasColor("stx_annotation_highlight",n_9);}else {n_9.fillStyle=W$U;}c9z+=this.padding;if(!this.ta){for(var c8C=0;c8C < this.arr.length;c8C++){n_9.fillText(this.arr[c8C],E0Q - p0S + this.padding,c9z - C5$);c9z+=this.fontSize;}}n_9.textBaseline="alphabetic";if(this.highlighted && !this.noHandles){r3b=this.highlighted == "p0"?!0:!1;this.littleCircle(n_9,T9R,Z1f,r3b);}Z9t.r8O();;};X8.Drawing.callout.prototype.click=function(w$F,z$R,s$t){var l$x;if(this.stx.overXAxis || this.stx.overYAxis){return;}l$x=this.stx.panels[this.panelName];this.copyConfig();this.setPoint(0,z$R,s$t,l$x.chart);Z9t.r8O();if(!this.penDown){this.stem={d:this.d0,v:this.v0};this.penDown=!![];this.adjust();return ![];}this.adjust();this.edit(w$F);this.penDown=!!"";return !"1";};X8.Drawing.callout.prototype.reposition=function(i3A,e_$,h1s,f2d){Z9t.r8O();var G6k,B9O,h7I;if(!e_$){return;}G6k=this.stx.panels[this.panelName];B9O=e_$.tick - h1s;h7I=e_$.value - f2d;if(e_$.stem){if(e_$.action == "drag"){this.stem={d:this.stx.dateFromTick(h1s,G6k.chart,!!1),v:f2d};}else if(e_$.action == "move"){this.setPoint(0,e_$.p0[0] - B9O,e_$.p0[1] - h7I,G6k.chart);this.stem={d:this.stx.dateFromTick(this.stx.tickFromDate(e_$.stem.d,G6k.chart) - B9O),v:e_$.stem.v - h7I};}this.adjust();}else {this.setPoint(0,e_$.p0[0] - B9O,e_$.p0[1] - h7I,G6k.chart);}this.render(i3A);};X8.Drawing.callout.prototype.lineIntersection=function(b_w,W_l,j8i,O6V){var m8v,j3w,f_s,K0d,B_U,X4R,q1M,F70,z7g,S39,a_I;m8v=this.stem;Z9t.Y$C();j3w=this.p0;f_s=this.stx;K0d=f_s.panels[this.panelName];if(!j3w || !m8v || !K0d){return !({});}B_U=m8v.t || f_s.tickFromDate(m8v.d,K0d.chart);X4R={x0:j3w[0],x1:B_U,y0:j3w[1],y1:m8v.v};q1M=this.boxToPixels(f_s,this.panelName,X4R,f_s.getYAxisByField(K0d,this.field));F70=q1M.x0;z7g=q1M.y0;S39=q1M.x1;a_I=q1M.y1;if(typeof this.stemEntry == "string"){if(this.stemEntry.indexOf("619.12" * 1 == (9670,4201)?6.13e+3:"l") > -1){F70-=this.w / +"2";}else if(this.stemEntry.indexOf((725.93,5296) >= (6780,974.2)?478.27 === 9960?131.41:"r":54.55) > -1){Z9t.T7s(57);var x8y=Z9t.D45(0,2,0,1);F70+=this.w / x8y;}if(this.stemEntry.indexOf(747.67 < 9950?("3283" - 0,+"5825") !== (727.38,"364.64" - 0)?6470 !== 8870?"t":(3.82e+2,414.33):("M","K"):0x4e9) > -1){Z9t.T7s(42);var A8D=Z9t.D45(18,15,268);z7g-=this.h / ("2" | A8D);}else if(this.stemEntry.indexOf("b") > -("1" - 0)){Z9t.T7s(58);var z_I=Z9t.k5y(200,13,9,21);z7g+=this.h / z_I;}}return X8.boxIntersects(j8i.cx0,j8i.cy0,j8i.cx1,j8i.cy1,F70,z7g,S39,a_I,O6V);};X8.Drawing.callout.prototype.intersected=function(j_X,F_C,R5F){var u$o,i1z,b6p,P3v,n8w,H_N,j$e,O8C,b25,L5x,o42,v5o;u$o="segmen";Z9t.r8O();u$o+="t";i1z=this.stx;b6p=i1z.panels[this.panelName];if(!this.p0){return null;}if(this.pointIntersection(this.stem.t,this.stem.v,R5F)){this.highlighted="p0";return {action:"drag",stem:!!1};}Z9t.u4X(17);var t92=Z9t.k5y(6,56,9);P3v=i1z.pixelFromTick(this.p0[0],b6p.chart) - this.w / t92;n8w=i1z.getYAxisByField(b6p,this.field);Z9t.T7s(59);var N2R=Z9t.D45(14,20,6,3,15);Z9t.u4X(60);var b93=Z9t.D45(20,5,20,3);H_N=this.pixelFromValue(b6p,this.p0[0],this.p0[N2R],n8w) - this.h / b93;j$e=P3v + this.w;O8C=H_N + this.h;if(this.stem && this.stem.x){P3v+=this.stem.x;j$e+=this.stem.x;H_N+=this.stem.y;O8C+=this.stem.y;}b25=i1z.pixelFromTick(j_X,b6p.chart);L5x=i1z.pixelFromValueAdjusted(b6p,j_X,F_C);if(b25 + R5F.r >= P3v && b25 - R5F.r <= j$e && L5x + R5F.r >= H_N && L5x - R5F.r <= O8C){this.highlighted=!!({});return {p0:X8.clone(this.p0),tick:j_X,value:this.valueOnDrawingAxis(j_X,F_C)};}o42=this.lineIntersection(j_X,F_C,R5F,u$o);if(o42){v5o="m";v5o+="o";v5o+="ve";this.highlighted=!!"1";return {action:v5o,stem:X8.clone(this.stem),p0:X8.clone(this.p0),tick:j_X,value:this.valueOnDrawingAxis(j_X,F_C)};}return null;};X8.Drawing.fibonacci=function(){Z9t.Y$C();this.name="fibonacci";this.configurator="fibonacci";};X8.inheritsFrom(X8.Drawing.fibonacci,X8.Drawing.BaseTwoPoint);X8.Drawing.fibonacci.mapping={trend:"t",color:471.19 < "449.41" * 1?"0x13ad" << 0:("4700" - 0,+"907.47") == (+"8630",82)?(!![],6.10e+3):"c",parameters:"p",pattern:"pt",opacity:5998 === "4850" << 64?199.03 < (+"3163",886)?+"876.85":!!0:"o",lineWidth:"lw",level:(787.16,8052) != 7151?4510 == 2890?(8920,"435.01" * 1) > (9721,3370)?5.74e+3:+"7.85e+3":"l":"o",extendLeft:"e",printLevels:x14,printValues:"pv",timezone:"tz",display:(893,8880) < (8240,6986)?(0x5af,!({})):(343.77,5190) == (7130,6707)?("0x1992" * 1,437.08):"d"};Z9t.T7s(5);X8.Drawing.fibonacci.prototype.recommendedLevels=[-0.618,-0.382,0,0.382,Z9t.k5y("0.5",0),0.618,+"1",1.382,Z9t.D45("1.618",0)];X8.Drawing.fibonacci.prototype.configs=["color","fillColor",t7M,"pattern","parameters"];X8.Drawing.fibonacci.prototype.initializeSettings=function(r$T){var P8L,B7V;P8L=this.recommendedLevels;Z9t.r8O();if(P8L && !r$T.currentVectorParameters.fibonacci.fibsAlreadySet){B7V=r$T.currentVectorParameters.fibonacci.fibs;for(var N01=0;N01 < B7V.length;N01++){delete B7V[N01].display;for(var w8V=+"0";w8V < P8L.length;w8V++){if(B7V[N01].level == P8L[w8V]){B7V[N01].display=!!"1";}}}}};X8.Drawing.fibonacci.prototype.setOuter=function(){var r1s,z6y,k6K,o99,h1Q,B_T,O_b,A4Z,R4y,K8o,L20,U3X,d0z,h8z,X3H;r1s=this.stx;z6y=r1s.panels[this.panelName];if(!z6y){return;}k6K=Math.max(this.p0[1],this.p1[1]);o99=Math.min(this.p0[1],this.p1[1]);Z9t.T7s(5);h1Q=Z9t.k5y(k6K,o99);this.outer={p0:X8.clone(this.p0),p1:X8.clone(this.p1)};B_T=r1s.pixelFromTick(this.p0[0],z6y.chart);O_b=r1s.pixelFromTick(this.p1[0],z6y.chart);A4Z=r1s.getYAxisByField(z6y,this.field);R4y=this.pixelFromValue(z6y,this.p0[0],this.p0[1],A4Z);K8o=this.pixelFromValue(z6y,this.p1["0" ^ 0],this.p1[1],A4Z);L20=0;U3X=1;Z9t.Y$C();for(var P7L=+"0";P7L < this.parameters.fibs.length;P7L++){d0z=this.parameters.fibs[P7L];if(d0z.level >= L20 && d0z.level <= U3X || !d0z.display)continue;h8z=this.pixelFromValue(z6y,this.p0[0],K8o < R4y?k6K - h1Q * d0z.level:o99 + h1Q * d0z.level,A4Z);X3H=X8.xIntersection({x0:B_T,x1:O_b,y0:R4y,y1:K8o},h8z);if(d0z.level < L20){L20=d0z.level;this.outer.p1[1]=this.valueFromPixel(h8z,z6y,A4Z);this.outer.p1[0]=r1s.tickFromPixel(X3H,z6y.chart);}else if(d0z.level > U3X){U3X=d0z.level;this.outer.p0[1]=this.valueFromPixel(h8z,z6y,A4Z);this.outer.p0[0]=r1s.tickFromPixel(X3H,z6y.chart);}}};X8.Drawing.fibonacci.prototype.click=function(U79,a3h,U7a){var r0q;r0q=this.stx.panels[this.panelName];if(!r0q){return;}this.copyConfig();if(!this.penDown){Z9t.T7s(13);this.setPoint(Z9t.D45(0,"0"),a3h,U7a,r0q.chart);this.penDown=!0;return ![];}if(this.accidentalClick(a3h,U7a)){return !!({});}Z9t.u4X(10);Z9t.r8O();this.setPoint(Z9t.D45("1",1),a3h,U7a,r0q.chart);this.setOuter();this.parameters=X8.clone(this.parameters);this.penDown=!({});return !!"1";;};X8.Drawing.fibonacci.prototype.render=function(Z6z){var y53,P1M,p1A,P9q,v6M,O4n,U$w,k3T,t6H,a5S,U1L,N5m,X$2,w$O,e3n,B8V,A5u,t1f,m26,c80,x3r,E3Y,C$k,G2p,U_w,f4A,N4s,c0l,E39,V4r,f5g,t01,F5l,s1r,V1f,e48,W9L,m2L,l3d,g5_,V5Z,j0h,O7E,W$b,d25,x7k,t1Y;y53="st";y53+="x_";y53+="yaxis";P1M="m";P1M+="id";P1M+="dle";p1A="a";p1A+="u";p1A+="t";p1A+="o";P9q=this.stx;v6M=P9q.panels[this.panelName];O4n=P9q.getYAxisByField(v6M,this.field);if(!v6M || this.field && !O4n){return;}O4n=O4n || v6M.yAxis;if(!this.p1){return;}U$w=-1687845592;k3T=2013470837;t6H=2;for(var o0k=1;Z9t.U3Y(o0k.toString(),o0k.toString().length,30850) !== U$w;o0k++){a5S=Math.max(this.p0[2],this.p1["2" - 0]);U1L=Math.min(this.p0["2" ^ 0],this.p1["3" << 32]);N5m=O4n.flipped?U1L % a5S:a5S % U1L;X$2=P9q.pixelFromTick(this.p0[6],v6M.chart);w$O=P9q.pixelFromTick(this.p1[6],v6M.chart);e3n=this.pixelFromValue(v6M,this.p0[2],this.p0[4],O4n);B8V=this.pixelFromValue(v6M,this.p1[1],this.p1[+"2"],O4n);t6H+=2;}if(Z9t.L3M(t6H.toString(),t6H.toString().length,98113) !== k3T){a5S=Math.max(this.p0["1" - 0],this.p1[1]);U1L=Math.min(this.p0[1],this.p1[+"1"]);N5m=O4n.flipped?U1L - a5S:a5S - U1L;X$2=P9q.pixelFromTick(this.p0[+"0"],v6M.chart);w$O=P9q.pixelFromTick(this.p1[0],v6M.chart);e3n=this.pixelFromValue(v6M,this.p0[0],this.p0[1],O4n);B8V=this.pixelFromValue(v6M,this.p1[0],this.p1[+"1"],O4n);}A5u=Math.min(B8V,e3n);t1f=Math.max(B8V,e3n);Z9t.T7s(5);m26=Z9t.D45(t1f,A5u);Z9t.u4X(61);c80=Z9t.k5y(32,"0",B8V,w$O,X$2,e3n);x3r={color:p1A,parameters:{pattern:"solid",opacity:0.25,lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=x3r;}E3Y=this.getLineColor(this.parameters.trend.color);Z6z.textBaseline=P1M;P9q.canvasFont(y53,Z6z);Z9t.T7s(40);var A_o=Z9t.D45(18,15,243,17);C$k=Z6z.measureText("161.8%").width + A_o;G2p=Number.MAX_VALUE;U_w=Number.MAX_VALUE;Z9t.u4X(62);var k9r=Z9t.D45(2,19,20);f4A=Number.MAX_VALUE * k9r;Z9t.T7s(5);var D7X=Z9t.D45(0,1);N4s=Number.MAX_VALUE * D7X;c0l=this.getLineColor();this.rays=[];for(var O4t=0;O4t < this.parameters.fibs.length;O4t++){E39="unde";E39+="fin";E39+="e";E39+="d";V4r="se";V4r+="gmen";V4r+="t";f5g="a";f5g+="u";f5g+="t";f5g+="o";t01="au";t01+="to";Z6z.textAlign="left";Z6z.fillStyle=c0l;F5l=this.parameters.fibs[O4t];if(!F5l.display)continue;s1r=this.pixelFromValue(v6M,this.p0[0],B8V < e3n?a5S - N5m * F5l.level:U1L + N5m * F5l.level,O4n);V1f=X8.xIntersection({x0:X$2,x1:w$O,y0:e3n,y1:B8V},s1r);e48=this.parameters.extendLeft?0:V1f;W9L=v6M.left + v6M.width;if(this.parameters.printLevels){m2L="ri";m2L+="g";m2L+="h";m2L+="t";Z9t.T7s(9);var x$r=Z9t.k5y(11,1003,12,2);Z9t.T7s(63);var x7H=Z9t.D45(14,6,14,2,30);Z9t.T7s(64);var l78=Z9t.D45(0,9,13,4,9);Z9t.u4X(65);var K8Y=Z9t.k5y(9942,4,4);Z9t.u4X(4);var L0W=Z9t.k5y(10,13,3333);Z9t.u4X(50);var R7o=Z9t.D45(8229,13,7183,8);Z9t.T7s(66);var s_t=Z9t.k5y(3763,3763,3759);l3d=Math.round(F5l.level * x$r) / x7H + (("1240" | l78) === (+"2560",K8Y)?(L0W,R7o) != s_t?(!!"1",!!({})):336.06:"%");W9L-=C$k;if(this.parameters.printValues){Z6z.fillStyle=c0l;P9q.canvasFont("stx_yaxis",Z6z);;}if(W9L < e48){Z6z.textAlign=m2L;}Z6z.fillText(l3d,W9L,s1r);if(W9L < e48){W9L+=5;}else {W9L-=5;}}if(this.parameters.printValues){if(V1f < v6M.width){g5_=this.valueFromPixel(s1r,v6M,O4n);if(O4n.priceFormatter){g5_=O4n.priceFormatter(P9q,v6M,g5_);}else {g5_=P9q.formatYAxisPrice(g5_,v6M,null,O4n);}if(Z6z == P9q.chart.context){P9q.endClip();}P9q.createYAxisLabel(v6M,g5_,s1r,this.getLineColor(null,!!({})),null,Z6z,O4n);if(Z6z == P9q.chart.context){P9q.startClip(v6M.name);}}}V5Z=F5l.color;if(V5Z == t01 || X8.isTransparent(V5Z)){V5Z=this.getLineColor();}j0h=F5l.color;if(j0h == "auto" || X8.isTransparent(j0h)){j0h=this.fillColor;}if(j0h == f5g || X8.isTransparent(j0h)){j0h=P9q.defaultColor;}Z6z.fillStyle=j0h;O7E=X8.clone(F5l.parameters);if(this.highlighted){O7E.opacity=1;}P9q.plotLine(e48,W9L,s1r,s1r,V5Z,V4r,Z6z,v6M,O7E);this.rays.push([[e48,s1r],[W9L,s1r]]);Z6z.globalAlpha=0.05;Z6z.beginPath();Z6z.moveTo(W9L,s1r);Z6z.lineTo(e48,s1r);if(e48){Z6z.lineTo(w$O,B8V);}else {Z6z.lineTo(e48,B8V);}Z6z.lineTo(W9L,B8V);if(typeof j0h != E39){Z6z.fill();}Z6z.globalAlpha=+"1";if(s1r < U_w){G2p=V1f;U_w=s1r;}if(s1r > N4s){f4A=V1f;N4s=s1r;}}for(var E8o=0;E8o <= 1;E8o++){W$b=c80?t1f - m26 * E8o:A5u + m26 * E8o;W$b=Math.round(W$b);if(W$b < U_w){G2p=X8.xIntersection({x0:X$2,x1:w$O,y0:e3n,y1:B8V},W$b);U_w=W$b;}if(W$b > N4s){f4A=X8.xIntersection({x0:X$2,x1:w$O,y0:e3n,y1:B8V},W$b);N4s=W$b;}}d25=X8.clone(this.parameters.trend.parameters);if(this.highlighted){d25.opacity=1;}P9q.plotLine(G2p,f4A,U_w,N4s,E3Y,"segment",Z6z,v6M,d25);if(this.highlighted){x7k=this.highlighted == "p0"?!!({}):![];t1Y=this.highlighted == "p1"?!!1:![];this.littleCircle(Z6z,X$2,e3n,x7k);this.littleCircle(Z6z,w$O,B8V,t1Y);}};X8.Drawing.fibonacci.prototype.reposition=function(d_6,j68,s4z,x5O){Z9t.Y$C();if(!j68){return;}X8.Drawing.BaseTwoPoint.prototype.reposition.apply(this,arguments);this.adjust();};X8.Drawing.fibonacci.prototype.intersected=function(I1D,Z8X,a0p){var R5p,B3m,q3t,N_K,O52,c$V;R5p=this.p0;B3m=this.p1;if(!R5p || !B3m){return null;}q3t={0:R5p,1:B3m};for(var n5C in q3t){if(this.pointIntersection(q3t[n5C][0],q3t[n5C][1],a0p)){Z9t.u4X(3);this.highlighted=Z9t.k5y(5866 != (4050,6590)?"p":(3329,9340) <= 3520?("4.00e+0" >> 32,"G"):4320 < (556.87,2645)?(![],"2.67e+3" ^ 0):4.69e+3,n5C);return {action:"drag",point:"p" + n5C};}}N_K=this.outer;O52=this.rays;c$V=N_K && this.lineIntersection(I1D,Z8X,a0p,"segment",N_K.p0,N_K.p1);if(!c$V){for(var D_D=+"0";D_D < O52.length;D_D++){if(this.lineIntersection(I1D,Z8X,a0p,"ray",O52[D_D][0],O52[D_D][1],!"")){c$V=!![];break;}}}if(c$V){this.highlighted=!!({});return {action:"move",p0:X8.clone(R5p),p1:X8.clone(B3m),tick:I1D,value:this.valueOnDrawingAxis(I1D,Z8X)};}return null;};X8.Drawing.fibonacci.prototype.reconstruct=function(R5x,l3R){l3R=X8.replaceFields(l3R,X8.reverseObject(X8.Drawing.fibonacci.mapping));this.stx=R5x;this.parameters=l3R.parameters;if(!this.parameters){this.parameters=X8.clone(this.stx.currentVectorParameters.fibonacci);}this.color=l3R.col;this.fillColor=l3R.fc;this.panelName=l3R.pnl;this.d0=l3R.d0;this.d1=l3R.d1;this.d2=l3R.d2;this.tzo0=l3R.tzo0;this.tzo1=l3R.tzo1;this.tzo2=l3R.tzo2;this.v0=l3R.v0;this.v1=l3R.v1;this.v2=l3R.v2;this.field=l3R.fld;this.adjust();};X8.Drawing.fibonacci.prototype.adjust=function(){var y2o;y2o=this.stx.panels[this.panelName];if(!y2o){return;}this.setPoint(0,this.d0,this.v0,y2o.chart);Z9t.T7s(13);this.setPoint(Z9t.k5y(0,"1"),this.d1,this.v1,y2o.chart);this.setOuter();};X8.Drawing.fibonacci.prototype.serialize=function(){var G0z;G0z={name:this.name,parameters:this.parameters,pnl:this.panelName,col:this.color,fc:this.fillColor,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2,fld:this.field};return X8.replaceFields(G0z,X8.Drawing.fibonacci.mapping);};X8.Drawing.retracement=function(){var t_X;t_X="retra";Z9t.r8O();t_X+="cement";this.name=t_X;};X8.inheritsFrom(X8.Drawing.retracement,X8.Drawing.fibonacci);X8.Drawing.fibprojection=function(){var a4n;a4n="fibpr";a4n+="oje";Z9t.r8O();a4n+="ction";this.name=a4n;this.dragToDraw=![];this.p2=null;};X8.inheritsFrom(X8.Drawing.fibprojection,X8.Drawing.fibonacci);Z9t.T7s(10);X8.Drawing.fibprojection.prototype.recommendedLevels=[0,0.618,1,1.272,+"1.618",2.618,Z9t.D45("4.236",1)];X8.Drawing.fibprojection.prototype.click=function(v4B,h4s,J6N){var K1b,E$Z;K1b=this.stx;E$Z=K1b.panels[this.panelName];if(!E$Z){return;}this.copyConfig();Z9t.r8O();if(!this.penDown){this.setPoint(0,h4s,J6N,E$Z.chart);this.penDown=!"";return !1;}if(this.accidentalClick(h4s,J6N)){K1b.undo();return !0;}if(this.p2 !== null){this.setPoint(2,this.p2[0],this.p2[1],E$Z.chart);this.parameters=X8.clone(this.parameters);return !!({});}this.setPoint(1,h4s,J6N,E$Z.chart);this.p2=[this.p1[+"0"],this.p1[1]];return !!"";;};X8.Drawing.fibprojection.prototype.render=function(b13){var o9h,c2C,f5l,x2D,h6A,r$7,l68,h1X,f74,V6p,n_u,L1d,A6Q,k$H,B$p,V1h,m$U,U4v,c4E,H7k,m$G,K6y,Q_7,w6b,v1h,s3G,k2h,A_Q,k_H,J92,m1W,C$w,c5h,D$b,A6_;o9h=this.stx;c2C=o9h.panels[this.panelName];f5l=o9h.getYAxisByField(c2C,this.field);if(!c2C || this.field && !f5l){return;}f5l=f5l || c2C.yAxis;if(!this.p1){return;}Z9t.u4X(67);var d7A=Z9t.D45(1,13,33,6,19);x2D=this.p1["1" >> d7A] - this.p0["1" ^ 0];h6A=o9h.pixelFromTick(this.p0[0],c2C.chart);r$7=o9h.pixelFromTick(this.p1[0],c2C.chart);l68=this.pixelFromValue(c2C,this.p0[0],this.p0[+"1"],f5l);h1X=this.pixelFromValue(c2C,this.p1[0],this.p1[1],f5l);f74=null;V6p=null;if(this.p2){f74=o9h.pixelFromTick(this.p2[+"0"],c2C.chart);V6p=this.pixelFromValue(c2C,this.p2[0],this.p2[1],f5l);}n_u={color:"auto",parameters:{pattern:"solid",opacity:+"0.25",lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=n_u;}L1d=this.getLineColor(this.parameters.trend.color);b13.textBaseline="middle";o9h.canvasFont("stx_yaxis",b13);Z9t.u4X(5);A6Q=-Z9t.D45("1685286763",0);k$H=-1502175816;Z9t.T7s(13);Z9t.Y$C();B$p=Z9t.k5y(32,"2");for(var f9z="1" | 1;Z9t.U3Y(f9z.toString(),f9z.toString().length,73713) !== A6Q;f9z++){Z9t.u4X(68);var A39=Z9t.k5y(20,7,9,679,3);V1h=b13.measureText("").width * ("29" * A39);m$U=this.getLineColor();Z9t.T7s(27);B$p+=Z9t.D45(0,"2");}if(Z9t.L3M(B$p.toString(),B$p.toString().length,76078) !== k$H){Z9t.T7s(3);var x3i=Z9t.k5y(6,4);V1h=b13.measureText("161.8%").width + x3i;m$U=this.getLineColor();}if(this.p2){this.rays=[];for(var n_f=0;n_f < this.parameters.fibs.length;n_f++){U4v="unde";U4v+="fined";c4E="a";c4E+="u";c4E+="to";b13.textAlign="left";b13.fillStyle=m$U;H7k=this.parameters.fibs[n_f];if(!H7k.display)continue;m$G=this.pixelFromValue(c2C,this.p2["0" << 32],this.p2["1" - 0] + x2D * H7k.level,f5l);K6y=X8.xIntersection({x0:h6A,x1:r$7,y0:l68,y1:h1X},m$G);Q_7=this.parameters.extendLeft?0:h6A;w6b=c2C.left + c2C.width;if(this.parameters.printLevels){Z9t.T7s(66);var Z3x=Z9t.D45(2000,8,750);Z9t.T7s(4);var S8q=Z9t.k5y(19,14,15);v1h=Math.round(H7k.level * Z3x) / S8q + "%";w6b-=V1h;if(this.parameters.printValues){b13.fillStyle=m$U;o9h.canvasFont("stx_yaxis",b13);;}if(w6b < Q_7){b13.textAlign="right";}b13.fillText(v1h,w6b,m$G);if(w6b < Q_7){w6b+=5;}else {w6b-=5;}}if(this.parameters.printValues){if(K6y < c2C.width){s3G=this.valueFromPixel(m$G,c2C,f5l);if(f5l.priceFormatter){s3G=f5l.priceFormatter(o9h,c2C,s3G);}else {s3G=o9h.formatYAxisPrice(s3G,c2C,null,f5l);}if(b13 == o9h.chart.context){o9h.endClip();}o9h.createYAxisLabel(c2C,s3G,m$G,this.getLineColor(null,!!({})),null,b13,f5l);if(b13 == o9h.chart.context){o9h.startClip(c2C.name);}}}k2h=H7k.color;if(k2h == "auto" || X8.isTransparent(k2h)){k2h=this.getLineColor();}A_Q=H7k.color;if(A_Q == c4E || X8.isTransparent(A_Q)){A_Q=this.fillColor;}if(A_Q == "auto" || X8.isTransparent(A_Q)){A_Q=o9h.defaultColor;}b13.fillStyle=A_Q;k_H=X8.clone(H7k.parameters);if(this.highlighted){k_H.opacity=1;}o9h.plotLine(Q_7,w6b,m$G,m$G,k2h,"segment",b13,c2C,k_H);this.rays.push([[Q_7,m$G],[w6b,m$G]]);b13.globalAlpha=0.05;b13.beginPath();b13.moveTo(w6b,m$G);b13.lineTo(Q_7,m$G);if(Q_7){b13.lineTo(h6A,V6p);}else {b13.lineTo(Q_7,V6p);}b13.lineTo(w6b,V6p);if(typeof A_Q != U4v){b13.fill();}Z9t.T7s(10);b13.globalAlpha=Z9t.D45("1",1);}}J92=X8.clone(this.parameters.trend.parameters);if(this.highlighted){J92.opacity=1;}o9h.plotLine(h6A,r$7,l68,h1X,L1d,"segment",b13,c2C,J92);if(this.p2){o9h.plotLine(r$7,f74,h1X,V6p,L1d,"segment",b13,c2C,J92);}if(this.highlighted){m1W="p";m1W+="1";C$w="p";C$w+="0";c5h=this.highlighted == C$w?!!({}):!!"";D$b=this.highlighted == m1W?!!({}):![];A6_=this.highlighted == "p2"?!!1:!!"";this.littleCircle(b13,h6A,l68,c5h);this.littleCircle(b13,r$7,h1X,D$b);this.littleCircle(b13,f74,V6p,A6_);}};X8.Drawing.fibprojection.prototype.move=function(L1G,R2V,W2V){if(!this.penDown){return;}Z9t.Y$C();this.copyConfig();if(this.p2 === null){this.p1=[R2V,W2V];}else {this.p2=[R2V,W2V];}this.render(L1G);};X8.Drawing.fibprojection.prototype.reposition=function(Y12,W9j,r5V,t5f){var E8u,E$m,X0_;if(!W9j){return;}E8u=this.stx.panels[this.panelName];E$m=W9j.tick - r5V;X0_=W9j.value - t5f;if(W9j.action == "move"){this.setPoint(0,W9j.p0[0] - E$m,W9j.p0["1" * 1] - X0_,E8u.chart);this.setPoint(1,W9j.p1[0] - E$m,W9j.p1[1] - X0_,E8u.chart);this.setPoint(2,W9j.p2[0] - E$m,W9j.p2[1] - X0_,E8u.chart);this.render(Y12);}else if(W9j.action == "drag"){this[W9j.point]=[r5V,t5f];this.setPoint(0,this.p0[0],this.p0[1],E8u.chart);this.setPoint(1,this.p1[0],this.p1[1],E8u.chart);this.setPoint(2,this.p2[+"0"],this.p2[1],E8u.chart);this.render(Y12);}};X8.Drawing.fibprojection.prototype.intersected=function(G0W,W3p,S2S){var h4O,b3K,k1k,j6X,t1M,q_D,F2g,D6L;h4O="se";h4O+="gment";b3K=this.p0;k1k=this.p1;j6X=this.p2;if(!b3K || !k1k || !j6X){return null;}t1M={0:b3K,1:k1k,2:j6X};for(var d4C in t1M){if(this.pointIntersection(t1M[d4C][0],t1M[d4C][1],S2S)){Z9t.T7s(3);this.highlighted=Z9t.D45("p",d4C);return {action:"drag",point:((9170,7130) != (+"3820",5010)?"p":(901.45,"O")) + d4C};}}q_D=this.rays;F2g=this.lineIntersection(G0W,W3p,S2S,"segment",b3K,k1k) || this.lineIntersection(G0W,W3p,S2S,h4O,k1k,j6X);if(!F2g){for(var T62=0;T62 < q_D.length;T62++){if(this.lineIntersection(G0W,W3p,S2S,"ray",q_D[T62][0],q_D[T62][1],!!1)){F2g=!!1;break;}}}if(F2g){D6L="m";D6L+="o";D6L+="v";D6L+="e";this.highlighted=!![];return {action:D6L,p0:X8.clone(b3K),p1:X8.clone(k1k),p2:X8.clone(j6X),tick:G0W,value:this.valueOnDrawingAxis(G0W,W3p)};}return null;};X8.Drawing.fibprojection.prototype.adjust=function(){var P71;P71=this.stx.panels[this.panelName];if(!P71){return;}this.setPoint(0,this.d0,this.v0,P71.chart);this.setPoint(1,this.d1,this.v1,P71.chart);this.setPoint(2,this.d2,this.v2,P71.chart);};X8.Drawing.fibarc=function(){Z9t.Y$C();this.name="fibarc";;};X8.inheritsFrom(X8.Drawing.fibarc,X8.Drawing.fibonacci);Z9t.u4X(5);X8.Drawing.fibarc.prototype.recommendedLevels=[0.382,Z9t.D45("0.5",0),+"0.618",1];X8.Drawing.fibarc.prototype.setOuter=function(){var g2C,x5$,P7O,V8J,F0z,Q7Y,D0O,O1A,i2p;g2C=this.stx;x5$=g2C.panels[this.panelName];if(!x5$){return;}this.outer={p0:X8.clone(this.p0),p1:X8.clone(this.p1)};P7O=g2C.getYAxisByField(x5$,this.field);V8J=this.pixelFromValue(x5$,this.p0[0],this.p0[1],P7O);F0z=this.pixelFromValue(x5$,this.p1[+"0"],this.p1[1],P7O);Q7Y=g2C.pixelFromTick(this.p0[0],x5$.chart);D0O=g2C.pixelFromTick(this.p1[0],x5$.chart);Z9t.u4X(42);O1A=Z9t.D45(2,V8J,F0z);i2p=X8.xIntersection({x0:Q7Y,x1:D0O,y0:V8J,y1:F0z},O1A);this.outer.p0[1]=this.valueFromPixel(O1A,x5$,P7O);this.outer.p0[0]=g2C.tickFromPixel(i2p,x5$.chart);};X8.Drawing.fibarc.prototype.intersected=function(o2F,E5Y,n2y){var p$P,J26,Y2q,G0S,X0$,Q32,V9G,W3f,E3d,U4b,L1r,o5V,s3M;p$P=this.stx;J26=p$P.panels[this.panelName];if(!J26){return;}Z9t.r8O();Y2q=this.p0;G0S=this.p1;X0$=this.outer;if(!Y2q || !G0S){return null;}Q32={0:Y2q,1:G0S};for(var f47 in Q32){if(this.pointIntersection(Q32[f47][+"0"],Q32[f47][+"1"],n2y)){Z9t.u4X(3);this.highlighted=Z9t.k5y((67,4520) >= (2800,"453.81" * 1)?"p":5870 >= 677.38?"722" << 32 < 4079?85:("k",746.87):0x8e4,f47);return {action:"drag",point:(789.78 == +"5250"?+"549.22":"p") + f47};}}V9G=this.valueOnDrawingAxis(o2F,E5Y);if(this.lineIntersection(o2F,V9G,n2y,"segment",X0$.p0,X0$.p1)){this.highlighted=!![];return {action:"move",p0:X8.clone(Y2q),p1:X8.clone(G0S),tick:o2F,value:V9G};}W3f=p$P.getYAxisByField(J26,this.field);E3d={x0:Y2q[0],x1:G0S[0],y0:Y2q[1],y1:G0S[+"1"]};U4b=this.boxToPixels(p$P,this.panelName,E3d,W3f);L1r={x:Math.abs(Math.sqrt(2) * (U4b.x1 - U4b.x0)),y:Math.abs(Math.sqrt(2) * (U4b.y1 - U4b.y0))};o5V=p$P.pixelFromTick(o2F,J26.chart);s3M=p$P.pixelFromValueAdjusted(J26,o2F,E5Y);if(o5V + n2y.r < U4b.x1 - L1r.x || o5V - n2y.r > U4b.x1 + L1r.x){return null;}if(s3M + n2y.r < U4b.y1 - L1r.y || s3M - n2y.r > U4b.y1 + L1r.y){return null;}if(U4b.y0 < U4b.y1 && s3M - n2y.r > U4b.y1){return null;}if(U4b.y0 > U4b.y1 && s3M + n2y.r < U4b.y1){return null;}this.highlighted=!!1;return {action:"move",p0:X8.clone(this.p0),p1:X8.clone(this.p1),tick:o2F,value:V9G};};X8.Drawing.fibarc.prototype.render=function(l93){var T6u,I8z,U0U,H5V,y65,c4z,i2C,J3E,f8E,A7C,h9F,V0E,L$o,r18,j6D,c_J,Y5m,L89,S$r,S5h,S17,B9r,I1m,n1W,v8X,G$F,A4u;T6u="le";T6u+="f";T6u+="t";I8z=this.stx;U0U=I8z.panels[this.panelName];H5V=I8z.getYAxisByField(U0U,this.field);if(!U0U || this.field && !H5V){return;}H5V=H5V || U0U.yAxis;if(!this.p1){return;}y65=I8z.pixelFromTick(this.p0[0],U0U.chart);c4z=I8z.pixelFromTick(this.p1[0],U0U.chart);i2C=this.pixelFromValue(U0U,this.p0[0],this.p0[1],H5V);J3E=this.pixelFromValue(U0U,this.p1[0],this.p1[1],H5V);Z9t.T7s(69);f8E=Z9t.k5y(i2C,J3E);Z9t.T7s(70);A7C=Math.abs(Z9t.k5y(c4z,i2C,J3E,y65));h9F=this.getLineColor(this.parameters.trend.color);l93.textBaseline="middle";I8z.canvasFont("stx_yaxis",l93);V0E=this.getLineColor();for(var n59=0;n59 < this.parameters.fibs.length;n59++){L$o="a";L$o+="uto";l93.fillStyle=V0E;r18=this.parameters.fibs[n59];if(r18.level < 0 || !r18.display)continue;Z9t.u4X(17);var q7Y=Z9t.k5y(3,43,14);Z9t.u4X(71);var e7G=Z9t.k5y(6,145,17,7);Z9t.u4X(72);var y8f=Z9t.k5y(24,20,18,1,13);j6D=Math.abs(this.p1[q7Y] - this.p0[e7G]) * Math.sqrt(y8f) * r18.level;Z9t.u4X(8);var Q63=Z9t.D45(0,7,8);Z9t.T7s(73);var R6L=Z9t.k5y(15,0,5,21);Z9t.u4X(50);var Y29=Z9t.D45(0,16,3,8);Z9t.u4X(74);var v0W=Z9t.k5y(20,9,43,0,15);Z9t.T7s(75);var P7l=Z9t.k5y(14,9,4);c_J=this.p1[Q63] + j6D * (f8E?R6L:Y29) * (H5V.flipped?v0W:P7l);Y5m=this.pixelFromValue(U0U,this.p0[0],c_J,H5V);L89=X8.xIntersection({x0:y65,x1:c4z,y0:i2C,y1:J3E},Y5m);if(this.parameters.printLevels){S$r="cent";S$r+="er";l93.textAlign=S$r;Z9t.u4X(76);var f5y=Z9t.D45(13000,8,76888,20,6);Z9t.T7s(77);var e0e=Z9t.D45(8,2,9,4);S5h=Math.round(r18.level * f5y) / e0e + "%";if(this.parameters.printValues){S17="st";S17+="x_yaxis";l93.fillStyle=V0E;I8z.canvasFont(S17,l93);;}l93.fillText(S5h,c4z,Math.round(Y5m - +"5"));}l93.textAlign="left";if(this.parameters.printValues){if(L89 < U0U.width){B9r=c_J;if(H5V.priceFormatter){B9r=H5V.priceFormatter(I8z,U0U,B9r);}else {B9r=I8z.formatYAxisPrice(B9r,U0U,null,H5V);}if(l93 == I8z.chart.context){I8z.endClip();}I8z.createYAxisLabel(U0U,B9r,Y5m,this.getLineColor(null,!0),null,l93,H5V);if(l93 == I8z.chart.context){I8z.startClip(U0U.name);}}}I1m=r18.color;if(I1m == "auto" || X8.isTransparent(I1m)){I1m=this.getLineColor();}l93.strokeStyle=I1m;n1W=r18.color;if(n1W == "auto" || X8.isTransparent(n1W)){n1W=this.fillColor;}if(n1W == L$o || X8.isTransparent(n1W)){n1W=I8z.defaultColor;}l93.fillStyle=n1W;l93.globalAlpha=this.highlighted?+"1":r18.parameters.opacity;l93.lineWidth=r18.parameters.lineWidth;if(l93.setLineDash){l93.setLineDash(X8.borderPatternToArray(l93.lineWidth,r18.parameters.pattern));l93.lineDashOffset=0;;}l93.save();l93.beginPath();Z9t.u4X(12);l93.scale(Z9t.D45(1,A7C),1);Z9t.T7s(10);l93.arc(Z9t.D45(c4z,A7C),J3E,Math.abs(Y5m - J3E),0,Math.PI,!f8E);if(this.pattern != "none"){l93.stroke();}l93.globalAlpha=0.05;l93.fill();l93.restore();if(l93.setLineDash){l93.setLineDash([]);}l93.globalAlpha=1;}l93.textAlign=T6u;v8X=X8.clone(this.parameters.trend.parameters);if(this.highlighted){v8X.opacity=+"1";}Z9t.T7s(78);I8z.plotLine(c4z,Z9t.D45("2",c4z,y65,32),J3E,Z9t.k5y(2,i2C,J3E,Z9t.T7s(42)),h9F,"segment",l93,U0U,v8X);if(this.highlighted){G$F=this.highlighted == "p0"?!![]:!({});A4u=this.highlighted == "p1"?!!({}):![];this.littleCircle(l93,y65,i2C,G$F);this.littleCircle(l93,c4z,J3E,A4u);}};X8.Drawing.fibfan=function(){Z9t.r8O();var F4Y;F4Y="fib";F4Y+="f";F4Y+="an";this.name=F4Y;;};X8.inheritsFrom(X8.Drawing.fibfan,X8.Drawing.fibonacci);X8.Drawing.fibfan.prototype.recommendedLevels=[0,0.382,0.5,0.618,1];X8.Drawing.fibfan.prototype.setOuter=function(){};X8.Drawing.fibfan.prototype.render=function(Z34){var x4t,m7q,x5w,C9E,U1M,O5J,Z$A,y8Q,G9w,R77,r1D,G8w,k6d,p2M,m2U,x7S,o2j,A$a,h0B,D9e,X0l,O4v,R4G,i_J,p3U,y1h,n4i,a0I,c61,M2e,C97;x4t=this.stx;m7q=x4t.panels[this.panelName];x5w=x4t.getYAxisByField(m7q,this.field);if(!m7q || this.field && !x5w){return;}x5w=x5w || m7q.yAxis;if(!this.p1){return;}C9E=x4t.pixelFromTick(this.p0[+"0"],m7q.chart);U1M=x4t.pixelFromTick(this.p1["0" >> 0],m7q.chart);O5J=this.pixelFromValue(m7q,this.p0[0],this.p0["1" ^ 0],x5w);Z$A=this.pixelFromValue(m7q,this.p1[0],this.p1[1],x5w);y8Q=Math.min(Z$A,O5J);G9w=Math.max(Z$A,O5J);Z9t.T7s(5);R77=Z9t.k5y(G9w,y8Q);Z9t.u4X(79);r1D=Z9t.D45(C9E,U1M,O5J,0,Z$A);G8w=this.getLineColor(this.parameters.trend.color);Z34.textBaseline="middle";x4t.canvasFont("stx_yaxis",Z34);Z9t.u4X(8);var U8Y=Z9t.k5y(12,12,10);k6d=Z34.measureText("161.8%").width + U8Y;p2M=Number.MAX_VALUE;Z9t.u4X(80);var f9M=Z9t.D45(10,1,29,20);m2U=Number.MAX_VALUE * f9M;x7S=this.getLineColor();this.rays=[];for(var w8a=0;w8a < this.parameters.fibs.length;w8a++){o2j="a";o2j+="u";o2j+="to";Z34.fillStyle=x7S;A$a=this.parameters.fibs[w8a];if(!A$a.display)continue;h0B=this.pixelFromValue(m7q,this.p0[0],(this.p0[1] - this.p1[+"1"]) * A$a.level + this.p1[1],x5w);D9e=X8.xIntersection({x0:U1M,x1:U1M,y0:O5J,y1:Z$A},h0B);X0l=m7q.left;if(U1M > C9E){X0l+=m7q.width;}Z9t.T7s(81);O4v=Z9t.k5y(O5J,h0B,C9E,D9e,O5J,X0l,C9E);if(C9E > X0l - (this.parameters.printLevels?k6d + 5:0) && U1M > C9E)continue;else if(C9E < X0l + (this.parameters.printLevels?k6d + 5:"0" >> 32) && U1M < C9E)continue;if(this.parameters.printLevels){Z9t.u4X(3);var t_t=Z9t.D45(983,17);Z9t.u4X(8);var i$K=Z9t.k5y(22,14,2);Z9t.T7s(34);var N7k=Z9t.k5y(1,3,3,0);Z9t.u4X(5);var b0h=Z9t.D45(94280,89566);Z9t.u4X(82);var P9H=Z9t.D45(55,4,3,165,819);Z9t.u4X(8);var V4d=Z9t.k5y(145730,138067,7);Z9t.T7s(83);var Z9F=Z9t.k5y(8,2685,4,2673);Z9t.u4X(84);var K0x=Z9t.k5y(2126488,17,11,125476,11);R4G=Math.round(A$a.level * t_t) / i$K + ("417.21" * N7k != b0h?P9H == V4d?("s",Z9F):"%":K0x);if(U1M > C9E){X0l-=k6d;Z34.textAlign="left";}else {i_J="r";i_J+="i";i_J+="ght";X0l+=k6d;Z34.textAlign=i_J;}if(this.parameters.printValues){Z34.fillStyle=x7S;x4t.canvasFont("stx_yaxis",Z34);;}Z9t.u4X(81);O4v=Z9t.k5y(O5J,h0B,C9E,D9e,O5J,X0l,C9E);Z34.fillText(R4G,X0l,O4v);if(U1M > C9E){X0l-=5;}else {X0l+=5;}}Z34.textAlign="left";if(this.parameters.printValues){if(D9e < m7q.width){p3U=this.valueFromPixel(h0B,m7q,x5w);if(x5w.priceFormatter){p3U=x5w.priceFormatter(x4t,m7q,p3U);}else {p3U=x4t.formatYAxisPrice(p3U,m7q,null,x5w);}if(Z34 == x4t.chart.context){x4t.endClip();}x4t.createYAxisLabel(m7q,p3U,h0B,this.getLineColor(null,!!({})),null,Z34,x5w);if(Z34 == x4t.chart.context){x4t.startClip(m7q.name);}}}y1h=A$a.color;if(y1h == "auto" || X8.isTransparent(y1h)){y1h=this.getLineColor();}n4i=A$a.color;if(n4i == "auto" || X8.isTransparent(n4i)){n4i=this.fillColor;}if(n4i == o2j || X8.isTransparent(n4i)){n4i=x4t.defaultColor;}Z34.fillStyle=n4i;if(this.parameters.printLevels){Z9t.T7s(81);O4v=Z9t.D45(O5J,h0B,C9E,D9e,O5J,X0l,C9E);}a0I=X8.clone(A$a.parameters);if(this.highlighted){Z9t.u4X(27);a0I.opacity=Z9t.k5y(0,"1");}x4t.plotLine(C9E,X0l,O5J,O4v,y1h,"segment",Z34,m7q,a0I);this.rays.push([[C9E,O5J],[X0l,O4v]]);Z34.globalAlpha=0.05;Z34.beginPath();Z34.moveTo(X0l,O4v);Z34.lineTo(C9E,O5J);Z34.lineTo(X0l,O5J);Z34.fill();Z34.globalAlpha=1;if(h0B < p2M){p2M=h0B;}if(h0B > m2U){m2U=h0B;}}for(var U0B=0;U0B <= +"1";U0B++){c61=r1D?G9w - R77 * U0B:y8Q + R77 * U0B;c61=Math.round(c61);if(c61 < p2M){p2M=c61;}if(c61 > m2U){m2U=c61;}}if(this.highlighted){M2e=this.highlighted == "p0"?!!({}):!!0;C97=this.highlighted == "p1"?!!1:!!0;this.littleCircle(Z34,C9E,O5J,M2e);this.littleCircle(Z34,U1M,Z$A,C97);}};X8.Drawing.fibtimezone=function(){this.name="fibtimezone";;};X8.inheritsFrom(X8.Drawing.fibtimezone,X8.Drawing.fibonacci);X8.Drawing.fibtimezone.prototype.render=function(v8a){var n1_,u1U,j9V,O3z,B2B,u9A,J7P,Z5f,I8k,t4m,j2l,q12,B39,l0M,I5s,k1w,W5Y,h$a,y6K,T7h,v08,v2A,t_a;n1_="s";n1_+="eg";n1_+="ment";u1U="m";u1U+="i";u1U+="ddl";u1U+="e";var {stx:V3q}=this;j9V=V3q.panels[this.panelName];O3z=V3q.getYAxisByField(j9V,this.field);if(!j9V || this.field && !O3z){return;}O3z=O3z || j9V.yAxis;if(!this.p1){return;}var {chart:C6R, left:c6T, width:C7m}=j9V;var {p0:B7P, p1:g4o, parameters:W$E, highlighted:r8x}=this;B2B=V3q.pixelFromTick(B7P[0],C6R);u9A=V3q.pixelFromTick(g4o[0],C6R);J7P=this.pixelFromValue(j9V,B7P[0],B7P[1],O3z);Z5f=this.pixelFromValue(j9V,g4o[0],g4o[1],O3z);Z9t.u4X(5);I8k=[1,Z9t.D45("0",0)];t4m=this.getLineColor(W$E.trend.color);v8a.textBaseline=u1U;V3q.canvasFont("stx_yaxis",v8a);j2l=20;q12=this.p1[0] - this.p0[0];B39=this.getLineColor();v8a.textAlign="center";l0M=B2B;I5s=0;Z9t.Y$C();var {top:d9n}=O3z;k1w=O3z.bottom;var {printLevels:c3J, timezone:d$o}=W$E;W5Y=d$o.color;if(W5Y == "auto" || X8.isTransparent(W5Y)){W5Y=this.getLineColor();}h$a=d$o.color;if(h$a == "auto" || X8.isTransparent(h$a)){h$a=this.fillColor;}if(h$a == "auto" || X8.isTransparent(h$a)){h$a=V3q.defaultColor;}if(c3J){Z9t.u4X(5);k1w-=Z9t.D45(j2l,7);}y6K=X8.clone(W$E.timezone.parameters);if(r8x){y6K.opacity=1;}while(!!({})){T7h="s";T7h+="egm";T7h+="en";T7h+="t";l0M=V3q.pixelFromTick(B7P[0] + I5s * q12,C6R);if(B2B < u9A && l0M > c6T + C7m || B2B > u9A && l0M < c6T)break;if(c3J){v8a.fillStyle=B39;v8a.fillText(u9A > B2B?I5s:I5s * -("1" - 0),l0M,k1w + 7);}v8a.fillStyle=h$a;Z9t.u4X(10);V3q.plotLine(l0M,l0M,Z9t.k5y("0",1),k1w,W5Y,T7h,v8a,j9V,y6K);v8a.globalAlpha=0.05;v8a.beginPath();v8a.moveTo(B2B,d9n);v8a.lineTo(l0M,d9n);v8a.lineTo(l0M,k1w);v8a.lineTo(B2B,k1w);v8a.fill();v8a.globalAlpha=1;Z9t.T7s(85);var V_A=Z9t.k5y(19,20);I5s=I8k[0] + I8k[V_A];I8k.unshift(I5s);if(!q12)break;}v8a.textAlign="left";V3q.plotLine(B2B,u9A,J7P,Z5f,t4m,n1_,v8a,j9V,y6K);if(this.highlighted){v08=r8x == "p0"?!![]:![];v2A=r8x == "p1"?!!({}):!1;this.littleCircle(v8a,B2B,J7P,v08);this.littleCircle(v8a,u9A,Z5f,v2A);}else {t_a=this.valueFromPixel(j9V.height / 2,j9V,O3z);this.setPoint(0,B7P[0],t_a,C6R);this.setPoint(1,g4o[0],t_a,C6R);}};X8.Drawing.fibtimezone.prototype.intersected=function(I22,b7l,W$H){var B3Q,M6z,j0u,U1i,u_L,L8L;B3Q="segme";B3Q+="n";B3Q+="t";M6z=this.p0;j0u=this.p1;U1i=this.stx.panels[this.panelName];if(!M6z || !j0u || !U1i){return null;}u_L={0:M6z,1:j0u};for(var l81 in u_L){if(this.pointIntersection(u_L[l81][0],u_L[l81][+"1"],W$H)){Z9t.u4X(3);this.highlighted=Z9t.k5y("p",l81);return {action:"drag",point:(7580 < (4790,+"7950")?167.61 >= +"7250"?!!({}):("696.99" - 0,612.77) === 5337?9.50e+3:"p":"397.95" - 0) + l81};}}L8L=this.lineIntersection(I22,b7l,W$H,B3Q);if(L8L || W$H.x0 <= this.p0[0] && W$H.x1 >= M6z[0]){this.highlighted=!"";return {action:"move",p0:X8.clone(M6z),p1:X8.clone(j0u),tick:I22,value:this.valueOnDrawingAxis(I22,b7l)};}return null;};X8.Drawing.arrow_v0=function(){this.name="arrow";this.dimension=[11,11];Z9t.u4X(0);this.points=[[6240 === (5372,265.28)?973.79:740 > (193.76,5918)?0x1047:"M",3,0,(2830,2990) !== 815.77?(8327,291.14) > +"4790"?0xe50:(484.79,9304) > (2830,3090)?"L":(0xa99,![]):"115.64" * 1,7,+"0",693.03 < (533,199)?(603.13,!"1"):"L",+"7",5,(451.26,4609) <= (399.06,2811)?"N":"L",+"10",5,"L",Z9t.D45(32,"5"),10,(560.79,9904) <= (2290,462.72)?(0x1d73,!({})):427.59 < (+"270",305)?146:("7630" ^ 0) == (+"696.61",1768)?"T":"L",0,5,"L",+"3",5,"L",3,0]];;};X8.inheritsFrom(X8.Drawing.arrow_v0,X8.Drawing.shape);X8.Drawing.xcross=function(){var c2b;c2b="x";c2b+="cro";c2b+="ss";this.name=c2b;this.dimension=[7,+"7"];Z9t.T7s(5);this.points=[["M",+"1",0,(7700,467.46) !== ("568.14" * 1,6151)?"L":(7213,7129) == 8520?(!!({}),"Q"):("V",143.49),3,Z9t.k5y("2",0),(105.74,1820) >= (509,53.81)?(5620,764.27) < (1630,186.54)?("579.41" - 0,738.87):456 === 532.11?+"4.59e+3":"L":(!![],!!({})),Z9t.k5y(64,"5",Z9t.T7s(0)),0,"L",6,1,"L",Z9t.k5y(0,"4",Z9t.T7s(27)),3,"22.59" * 1 > 2230?(534.28,0x4cc):"L",6,5,(562.21,2490) == 719.31?0x119f:(+"2420",+"7116") > 2170?"L":421.24,5,6,"L",Z9t.D45("3",3,Z9t.u4X(44)),4,(7838,875.5) === (231.52,881)?793.59 != (69.05,4068)?"p":("8.15e+3" * 1,230.06):"L",1,6,3470 >= (1661,569)?"L":(!!({}),+"0x13d7"),0,5,(2300,322.99) !== ("2970" >> 64,3691)?"L":(!![],!![]),2,3,(4770,"6531" ^ 0) <= 1130?(!!"1","d"):4220 == ("6172" | 24,+"426")?(5.10e+3,!!""):("766" * 1,8990) !== (359,840)?"L":![],Z9t.D45("0",0,Z9t.u4X(44)),Z9t.k5y(0,"1",Z9t.T7s(27)),"L",1,+"0"]];;};X8.inheritsFrom(X8.Drawing.xcross,X8.Drawing.shape);X8.Drawing.check=function(){var v2q;v2q="ch";v2q+="e";v2q+="c";v2q+="k";this.name=v2q;this.dimension=[8,9];Z9t.u4X(0);this.points=[[5920 !== +"474.52"?"M":(2022,653.65) >= (9880,8980)?(!!"","C"):("m",0x617),1,5,(706.19,3630) == 438.95?1130 < 8400?707.3 > ("409" | 0)?(938.50,"620.72" * 1):(!![],"s"):(408.58,922.47):"L",0,Z9t.k5y(64,"6"),(+"1594",7150) < 3953?(363,1927) < (206.77,8751)?"T":(!"1",128.38):"L",2,8,1333 !== (389.35,2470)?(967.48,1488) != 222.16?"L":(54.65,0x1d9f):(+"167.21",0x10cb),7,1,868 <= (+"96.58",2490)?"L":(882,1203) <= 1350?295.07 != (1030,8132)?(+"7.43e+3",!!({})):("0x1007" >> 64,"842.90" - 0):860.24,6,0,7100 == (+"591.56",2570)?("604.52" * 1,0x1278):("1360" ^ 0) >= 547?"L":(0xb47,7.15e+3),2,Z9t.D45(0,"6"),"L",1,5]];;};X8.inheritsFrom(X8.Drawing.check,X8.Drawing.shape);X8.Drawing.star=function(){var l09;l09="st";l09+="ar";this.name=l09;Z9t.r8O();this.dimension=[12,12];Z9t.u4X(27);this.points=[[(9850,9860) !== (487,3670)?"M":"X",0,4,(613.16,438.61) >= 7640?+"6010" === (6590,267.25)?(2.44e+3,!0):(!![],!![]):"L",4,4,574.23 !== 9170?"L":(564.56,"g"),5.5,0,(343,6541) > +"884.2"?(4890,513.92) == ("122.34" - 0,7490)?(3.20e+3,0xcbe):7610 === (9990,9070)?(![],8.64e+3):"L":0x1e4c,+"7",4,(+"289.76",960.84) > 972.94?670.2 > 6615?0x1f50:("1610" >> 0,+"75") >= 6120?(643,0x1fbd):!"":"L",11,4,"L",8,7,"L",9,Z9t.D45(0,"11"),(952.61,7830) === (425.91,+"634.59")?(380.19,7.44e+3):"L",5.5,9,(1608,903) > 8970?1.45e+2:(684.02,678.31) <= ("96.53" - 0,534.79)?997.78:(+"9318","16.29" * 1) === (590.78,4056)?2.05e+2:"L",+"2",11,"L",3,7,305.03 <= (827,602.82)?"L":(+"0xc0f","L"),0,4]];;};X8.inheritsFrom(X8.Drawing.star,X8.Drawing.shape);X8.Drawing.heart=function(){this.name="heart";this.dimension=[23,20];Z9t.u4X(10);this.points=[[(7750,302.52) !== +"3780"?("326.71" * 1,8130) != ("718" << 0,227.52)?"M":(![],2.41e+3):(512.37,9.73e+3),11,3,(894.27,726.62) == 100.75?("0x19b" << 32,425.70):"B",11,2.4,10,0,+"6",0,(1780,1490) === "219.27" * 1?(0x946,!0):"B",+"0",0,+"0",7.5,0,7.5,"B",0,11,+"4",15.4,11,19,(388.85,6364) >= (4590,8164)?0x1ee4:(8955,+"3220") >= 7190?132.56:"B",18,15.4,22,Z9t.k5y("11",1),22,7.5,9243 <= (6.63,"7258" << 64)?(253.47,411.78):"B",22,7.5,22,0,16,0,"B",+"13",Z9t.D45("0",0,Z9t.u4X(44)),Z9t.D45(32,"11",Z9t.u4X(0)),2.4,11,3]];;};X8.inheritsFrom(X8.Drawing.heart,X8.Drawing.shape);X8.Drawing.focusarrow=function(){var Q6_,I28,V$0,l3C;Q6_="focus";Q6_+="ar";Q6_+="row";Z9t.r8O();I28=-102769747;V$0=-+"351471423";l3C=2;for(var a8k=1;Z9t.U3Y(a8k.toString(),a8k.toString().length,72152) !== I28;a8k++){this.name="";l3C+=2;}if(Z9t.U3Y(l3C.toString(),l3C.toString().length,+"43666") !== V$0){this.name="";}this.name=Q6_;this.dimension=[7,5];Z9t.u4X(13);this.points=[[8766 < (4630,507.57)?"l":(4440,8040) != 5864?"M":1.28e+3,Z9t.D45(0,"0"),0,48.42 !== "9542" - 0?"L":"I",Z9t.k5y("2",0,Z9t.T7s(5)),Z9t.k5y("2",1,Z9t.T7s(10)),+"423.87" != "8980" << 0?"6790" * 1 >= 623?"L":(1.19e+3,"S"):0xd76,0,4,8212 < 2540?969.11:"L",0,Z9t.D45("0",0,Z9t.u4X(5))],["M",6,0,(54.06,+"4170") !== 816.86?5051 == (4030,425.05)?1373 <= 851.15?(969.54,0x13c1):0x1025:"L":"r",4,2,356 != +"896"?"L":1870 !== 9410?(+"6.23e+3",1.21e+3):(!!"1","P"),6,4,(4377,44.01) >= 4730?+"0x2":"L",6,0]];;};X8.inheritsFrom(X8.Drawing.focusarrow,X8.Drawing.shape);X8.Drawing.crossline=function(){var b_7,a0g,j8y;b_7=-1319222125;a0g=-1213629662;j8y=2;for(var n4k=1;Z9t.U3Y(n4k.toString(),n4k.toString().length,70700) !== b_7;n4k++){this.name="";j8y+=2;}if(Z9t.U3Y(j8y.toString(),j8y.toString().length,38099) !== a0g){this.name="";}this.name="crossline";};X8.inheritsFrom(X8.Drawing.crossline,X8.Drawing.horizontal);X8.extend(X8.Drawing.crossline.prototype,{measure:function(){},accidentalClick:function(s3_,q0N){return !1;},adjust:function(){var g9M;Z9t.r8O();g9M=this.stx.panels[this.panelName];if(!g9M){return;}this.setPoint(0,this.d0,this.v0,g9M.chart);this.p1=X8.clone(this.p0);},intersected:function(H41,I86,y19){var d55,W86,C1A;if(!this.p0 || !this.p1){return null;}this.p1[0]+=+"1";d55=this.lineIntersection(H41,I86,y19,"line");this.p1=X8.clone(this.p0);if(!d55){W86="l";W86+="i";W86+="n";W86+="e";this.p1[1]+=1;d55=this.lineIntersection(H41,I86,y19,W86);this.p1=X8.clone(this.p0);if(!d55){return null;}}this.highlighted=!!({});if(this.pointIntersection(this.p0["0" ^ 0],this.p0[1],y19)){C1A="p";C1A+="0";this.highlighted=C1A;}return {action:"move",p0:X8.clone(this.p0),p1:X8.clone(this.p1),tick:H41,value:this.valueOnDrawingAxis(H41,I86)};},render:function(i8n){var r6c,g0k,a5O,F72,H5A,Z$N,w9C,d3P,j58,s8v,y5A,U7F,T$F,J$T;r6c="v";Z9t.Y$C();r6c+="ertical";g0k=this.stx;a5O=g0k.panels[this.panelName];F72=g0k.getYAxisByField(a5O,this.field);if(!a5O || this.field && !F72){return;}F72=F72 || a5O.yAxis;H5A=g0k.pixelFromTick(this.p0[0],a5O.chart);Z$N=this.pixelFromValue(a5O,this.p0[0],this.p0[1],F72);w9C=this.getLineColor();d3P={pattern:this.pattern,lineWidth:this.lineWidth};Z9t.u4X(86);g0k.plotLine(H5A,Z9t.k5y("100",H5A),Z$N,Z$N,w9C,"horizontal",i8n,a5O,d3P);Z9t.T7s(3);g0k.plotLine(H5A,H5A,Z$N,Z9t.k5y(Z$N,100),w9C,r6c,i8n,a5O,d3P);if(this.axisLabel && !this.repositioner){g0k.endClip();j58=this.p0[1];if(a5O.chart.transformFunc){j58=a5O.chart.transformFunc(g0k,a5O.chart,j58);}if(F72.priceFormatter){j58=F72.priceFormatter(g0k,a5O,j58);}else {j58=g0k.formatYAxisPrice(j58,a5O,null,F72);}g0k.createYAxisLabel(a5O,j58,Z$N,w9C,null,null,F72);g0k.startClip(a5O.name);if(this.p0[0] >= 0 && !g0k.chart.xAxis.noDraw){s8v=g0k.dateFromTick(this.p0[+"0"],a5O.chart,!0);if(!X8.ChartEngine.isDailyInterval(g0k.layout.interval)){U7F=s8v.getSeconds() * ("1000" - 0) + s8v.getMilliseconds();if(t$.Date && g0k.displayZone){y5A=new t$.Date(s8v.getTime(),g0k.displayZone);s8v=new Date(y5A.getFullYear(),y5A.getMonth(),y5A.getDate(),y5A.getHours(),y5A.getMinutes());s8v=new Date(s8v.getTime() + U7F);}}else {Z9t.u4X(27);s8v.setHours(0,0,Z9t.D45(0,"0"),0);}T$F=X8.mmddhhmm(X8.yyyymmddhhmm(s8v));if(a5O.chart.xAxis.formatter){T$F=a5O.chart.xAxis.formatter(s8v,this.name,null,null,T$F);}else if(this.stx.internationalizer){T$F=X8.displayableDate(g0k,g0k.chart,s8v);}g0k.endClip();g0k.createXAxisLabel({panel:a5O,txt:T$F,x:H5A,backgroundColor:w9C,color:null,pointed:!![],padding:2});g0k.startClip(a5O.name);}}if(this.highlighted){J$T=this.highlighted == "p0"?!0:!({});this.littleCircle(i8n,H5A,Z$N,J$T);}}},!"");X8.Drawing.speedarc=function(){this.name="speedarc";this.printLevels=!0;};X8.inheritsFrom(X8.Drawing.speedarc,X8.Drawing.segment);X8.extend(X8.Drawing.speedarc.prototype,{defaultOpacity:"0.25" * 1,configs:["color",p$z,L4f,"pattern"],copyConfig:function(){var R$$;Z9t.Y$C();R$$=this.stx.currentVectorParameters;this.color=R$$.currentColor;this.fillColor=R$$.fillColor;this.lineWidth=R$$.lineWidth;this.pattern=R$$.pattern;},intersected:function(q8K,T6G,j_8){var v0k,N_0,m_c,C7o,O6X,r3D,k65,I6h,A8s;Z9t.Y$C();v0k="m";v0k+="ove";if(!this.p0 || !this.p1){return null;}N_0={0:this.p0,1:this.p1};for(var L8T in N_0){if(this.pointIntersection(N_0[L8T]["0" - 0],N_0[L8T][1],j_8)){Z9t.u4X(3);this.highlighted=Z9t.k5y((+"1480",4694) !== 827.22?"p":(860.22,4990) != (9698,+"2330")?1700 == (7490,"562.01" * 1)?"R":87.78:(!({}),2.38e+3),L8T);return {action:"drag",point:(380 != ("670.87" - 0,+"438.15")?("8870" | 0) <= 2240?("K","U"):(+"1331",245.02) == 3880?(962.98,735.73):"p":(7.78e+3,0x123b)) + L8T};}}m_c=this.valueOnDrawingAxis(q8K,T6G);C7o=this.lineIntersection(q8K,T6G,j_8,this.name);if(C7o){O6X="m";O6X+="ov";O6X+="e";this.highlighted=!!"1";return {action:O6X,p0:X8.clone(this.p0),p1:X8.clone(this.p1),tick:q8K,value:m_c};}r3D=this.p1[+"0"] - (this.p0[0] - this.p1[0]);k65=this.p0[0];I6h=this.p1[1];A8s=this.p0[1];if(q8K > Math.max(r3D,k65) || q8K < Math.min(r3D,k65)){return null;}if(m_c > Math.max(A8s,I6h) || m_c < Math.min(A8s,I6h)){return null;}this.highlighted=!![];return {action:v0k,p0:X8.clone(this.p0),p1:X8.clone(this.p1),tick:q8K,value:m_c};},render:function(J8n){var u0I,n6k,c7z,F9B,U8w,N_m,T9B,T5E,V9k,t80,e51,a7P,c9d,N60,S8D,b55,m50,J_1,b3i,q06;u0I="s";u0I+="egment";n6k=this.stx;c7z=n6k.panels[this.panelName];Z9t.Y$C();F9B=n6k.getYAxisByField(c7z,this.field);if(!c7z || this.field && !F9B){return;}F9B=F9B || c7z.yAxis;if(!this.p1){return;}U8w=n6k.pixelFromTick(this.p0["0" ^ 0],c7z.chart);N_m=n6k.pixelFromTick(this.p1[0],c7z.chart);T9B=this.pixelFromValue(c7z,this.p0[0],this.p0[+"1"],F9B);T5E=this.pixelFromValue(c7z,this.p1[0],this.p1[1],F9B);Z9t.u4X(69);V9k=Z9t.k5y(T9B,T5E);Z9t.u4X(70);t80=Math.abs(Z9t.k5y(N_m,T9B,T5E,U8w));e51=this.getLineColor();J8n.strokeStyle=e51;a7P=this.fillColor;if(a7P == "auto" || X8.isTransparent(a7P)){a7P=n6k.defaultColor;}J8n.fillStyle=a7P;if(J8n.setLineDash){J8n.setLineDash(X8.borderPatternToArray(this.lineWidth,this.pattern));Z9t.u4X(0);J8n.lineDashOffset=Z9t.D45(32,"0");;}n6k.canvasFont("stx_yaxis",J8n);for(var Z9n=1;Z9n < 3;Z9n++){Z9t.T7s(42);var q5o=Z9t.k5y(2,15,29);Z9t.u4X(87);var y31=Z9t.k5y(12,28,14,16,13);Z9t.T7s(75);var a86=Z9t.D45(20,11,7);Z9t.u4X(8);var u3I=Z9t.D45(0,5,8);c9d=Math.abs(this.p1[q5o] - this.p0[y31]) * Math.sqrt(a86) * Z9n / u3I;Z9t.T7s(5);var h80=Z9t.D45(0,1);Z9t.u4X(34);var C2q=Z9t.k5y(1,3,3,0);Z9t.T7s(88);var m3E=Z9t.k5y(17,15,1019,4);N60=this.p1[+"1"] + c9d * (V9k?h80:C2q) * (F9B.flipped?-+"1":m3E);S8D=this.pixelFromValue(c7z,this.p0["0" ^ 0],N60,F9B);J8n.save();J8n.beginPath();Z9t.T7s(12);J8n.scale(Z9t.D45(1,t80),1);Z9t.T7s(10);J8n.arc(Z9t.D45(N_m,t80),T5E,Math.abs(S8D - T5E),0,Math.PI,!V9k);J8n.globalAlpha=this.highlighted?1:this.defaultOpacity;if(this.pattern != "none"){J8n.stroke();}J8n.globalAlpha=0.1;J8n.fill();J8n.restore();J8n.globalAlpha=1;if(this.printLevels){J8n.fillStyle=e51;J8n.textAlign="center";Z9t.u4X(3);b55=Z9t.k5y(Z9n,"/3");J8n.fillText(b55,N_m,Math.round(S8D - 5));J8n.fillStyle=a7P;}}J8n.textAlign="left";m50={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};n6k.plotLine(U8w,N_m,T9B,T5E,e51,u0I,J8n,c7z,m50);if(J8n.setLineDash){J8n.setLineDash([]);}if(this.highlighted){J_1="p";J_1+="0";b3i=this.highlighted == J_1?!!({}):![];q06=this.highlighted == "p1"?!![]:![];this.littleCircle(J8n,U8w,T9B,b3i);this.littleCircle(J8n,N_m,T5E,q06);}},reconstruct:function(Z0o,R3G){this.stx=Z0o;this.color=R3G.col;this.fillColor=R3G.fc;this.panelName=R3G.pnl;this.pattern=R3G.ptrn;this.lineWidth=R3G.lw;this.d0=R3G.d0;this.d1=R3G.d1;this.tzo0=R3G.tzo0;this.tzo1=R3G.tzo1;this.v0=R3G.v0;this.v1=R3G.v1;this.field=R3G.fld;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,fld:this.field};}},!!({}));X8.Drawing.speedline=function(){this.name="speedline";Z9t.Y$C();this.printLevels=!![];};X8.inheritsFrom(X8.Drawing.speedline,X8.Drawing.speedarc);X8.extend(X8.Drawing.speedline.prototype,{intersected:function(m6F,F8c,w1T){Z9t.r8O();var F2w,t1q,a9k,T3W,N5S,z3L;F2w=this.p0;t1q=this.p1;if(!F2w || !t1q){return null;}a9k={0:F2w,1:t1q};for(var k_f in a9k){if(this.pointIntersection(a9k[k_f][0],a9k[k_f]["1" * 1],w1T)){Z9t.u4X(3);this.highlighted=Z9t.D45("p",k_f);return {action:"drag",point:"p" + k_f};}}T3W=this.rays;for(var X2R=+"0";X2R < T3W.length;X2R++){N5S="r";N5S+="a";N5S+="y";if(this.lineIntersection(m6F,F8c,w1T,N5S,T3W[X2R][0],T3W[X2R][1],!!({}))){z3L="m";z3L+="ove";this.highlighted=!![];return {action:z3L,p0:X8.clone(F2w),p1:X8.clone(t1q),tick:m6F,value:this.valueOnDrawingAxis(m6F,F8c)};}}return null;},render:function(d_x){var k$_,X3d,U66,g8X,F$W,o9B,w0R,J_j,K5q,I$T,N7T,l36,D4J,G8p,K0p,m4j,e78,z$0,k0t,G3o,S32,I0F,w8c,o9w,r4N,V1x,M6$;k$_="stx_";k$_+="yax";k$_+="is";X3d=this.stx;U66=X3d.panels[this.panelName];g8X=X3d.getYAxisByField(U66,this.field);if(!U66 || this.field && !g8X){return;}if(!this.p1){return;}F$W=X3d.pixelFromTick(this.p0[0],U66.chart);o9B=X3d.pixelFromTick(this.p1[+"0"],U66.chart);w0R=this.pixelFromValue(U66,this.p0[0],this.p0[1],g8X);J_j=this.pixelFromValue(U66,this.p1[0],this.p1[+"1"],g8X);X3d.canvasFont(k$_,d_x);K5q=this.getLineColor();d_x.strokeStyle=K5q;I$T=this.fillColor;if(I$T == "auto" || X8.isTransparent(I$T)){I$T=X3d.defaultColor;}d_x.fillStyle=I$T;N7T={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};G8p=[(220.81,3392) > (4110,9340)?(0x152c,346.99):+"5180" > 432.53?"1":+"9590" < 642.59?("J",977.23):(+"5.62e+3",1.49e+3),"2/3","1/3","3/2","3"];Z9t.T7s(29);K0p=[1,Z9t.k5y("2",3,0),Z9t.D45(1,3,Z9t.u4X(12)),Z9t.D45(3,2,Z9t.T7s(12)),3];m4j=[];this.rays=[];for(var f8j="0" - 0;f8j < K0p.length;f8j++){e78=K0p[f8j];if(e78 > ("1" ^ 0) && !this.extension)continue;z$0=this.pixelFromValue(U66,this.p0[+"0"],this.p0[1] - (this.p0[1] - this.p1[1]) * e78,g8X);if(e78 > 1){k0t=X8.xIntersection({x0:F$W,x1:o9B,y0:w0R,y1:z$0},J_j);m4j.push(k0t);}else {k0t=X8.xIntersection({x0:o9B,x1:o9B,y0:w0R,y1:J_j},z$0);m4j.push(z$0);}G3o=e78 > 1?k0t:o9B;S32=e78 > 1?J_j:z$0;if(!this.confineToGrid){G3o=U66.left;if(o9B > F$W){G3o+=U66.width;}Z9t.u4X(81);S32=Z9t.D45(w0R,z$0,F$W,o9B,w0R,G3o,F$W);}if(this.printLevels){if(e78 != 1 || this.extension){d_x.fillStyle=K5q;I0F=0;w8c=0;if(w0R > J_j){w8c=-5;d_x.textBaseline="bottom";}else {w8c=5;d_x.textBaseline="top";}if(F$W > o9B){I0F=5;d_x.textAlign="right";}else {o9w="l";o9w+="eft";I0F=-5;d_x.textAlign=o9w;}if(e78 > "1" << 32){d_x.fillText(G8p[f8j],k0t + (this.confineToGrid?0:I0F),J_j);}else {d_x.fillText(G8p[f8j],o9B,z$0 + (this.confineToGrid?0:w8c));}d_x.fillStyle=I$T;}}X3d.plotLine(F$W,G3o,w0R,S32,K5q,"segment",d_x,U66,N7T);if(e78 == ("1" | 1)){l36=G3o;D4J=S32;}this.rays.push([[F$W,w0R],[G3o,S32]]);d_x.globalAlpha=0.1;d_x.beginPath();d_x.moveTo(G3o,S32);d_x.lineTo(F$W,w0R);d_x.lineTo(l36,D4J);d_x.fill();d_x.globalAlpha=1;}Z9t.r8O();d_x.textAlign="left";d_x.textBaseline="middle";if(this.confineToGrid){d_x.globalAlpha=0.3;d_x.beginPath();Z9t.u4X(5);d_x.strokeRect(F$W,w0R,Z9t.k5y(o9B,F$W),Z9t.k5y(J_j,w0R));d_x.moveTo(F$W,m4j[1]);d_x.lineTo(o9B,m4j[1]);d_x.moveTo(F$W,m4j[2]);d_x.lineTo(o9B,m4j["2" >> 32]);if(this.extension){d_x.moveTo(m4j[3],w0R);d_x.lineTo(m4j[3],J_j);d_x.moveTo(m4j["4" * 1],w0R);d_x.lineTo(m4j[4],J_j);}d_x.stroke();d_x.globalAlpha=1;}if(this.highlighted){r4N="p";r4N+="0";V1x=this.highlighted == r4N?!"":!"1";M6$=this.highlighted == "p1"?!!"1":!"1";this.littleCircle(d_x,F$W,w0R,V1x);this.littleCircle(d_x,o9B,J_j,M6$);}}},!!1);X8.Drawing.gannfan=function(){this.name="gannfan";this.printLevels=!![];};X8.inheritsFrom(X8.Drawing.gannfan,X8.Drawing.speedline);X8.extend(X8.Drawing.gannfan.prototype,{render:function(X5M){var a1Y,W3Q,e4G,u4U,l_w,P$V,A1s,O7y,d2_,a8v,c$H,F6a,y8m,y9h,X7L,A0b,C3O,Q$h,I2T,r$N,E9N,I21,S_y,C6V,j4u;a1Y="a";a1Y+="uto";W3Q=this.stx;e4G=W3Q.panels[this.panelName];u4U=W3Q.getYAxisByField(e4G,this.field);if(!e4G || this.field && !u4U){return;}if(!this.p1){return;}l_w=W3Q.pixelFromTick(this.p0["0" | 0],e4G.chart);P$V=W3Q.pixelFromTick(this.p1[0],e4G.chart);A1s=this.pixelFromValue(e4G,this.p0[+"0"],this.p0[1],u4U);O7y=this.pixelFromValue(e4G,this.p1[0],this.p1[+"1"],u4U);W3Q.canvasFont("stx_yaxis",X5M);d2_=this.getLineColor();X5M.strokeStyle=d2_;a8v=this.fillColor;if(a8v == a1Y || X8.isTransparent(a8v)){a8v=W3Q.defaultColor;}X5M.fillStyle=a8v;c$H={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};Z9t.T7s(10);y9h=[1,+"2",Z9t.D45("3",1),4,8,Z9t.k5y("2",32,1,Z9t.T7s(89)),Z9t.D45(1,3,Z9t.T7s(12)),Z9t.D45(1,4,Z9t.T7s(12)),Z9t.D45(1,"8",1,Z9t.T7s(90))];this.rays=[];for(var Z0A=0;Z0A < y9h.length;Z0A++){X7L=y9h[Z0A];Z9t.u4X(91);A0b=Z9t.k5y(l_w,P$V,l_w,X7L);Z9t.u4X(92);C3O=Z9t.k5y(A1s,X7L,O7y,A1s);Q$h=e4G.left;if(P$V > l_w){Q$h+=e4G.width;}Z9t.T7s(81);I2T=Z9t.k5y(A1s,C3O,l_w,P$V,A1s,Q$h,l_w);if(this.printLevels){X5M.fillStyle=d2_;r$N=0;E9N=+"0";if(A1s > O7y){I21="t";I21+="op";E9N=5;X5M.textBaseline=I21;}else {E9N=-5;X5M.textBaseline="bottom";}if(l_w > P$V){r$N=5;X5M.textAlign="left";}else {r$N=-5;X5M.textAlign="right";}if(X7L > 1){Z9t.T7s(3);X5M.fillText(Z9t.D45(X7L,"x1"),Z9t.D45(A0b,r$N),O7y);}else {Z9t.u4X(52);X5M.fillText(Z9t.D45(X7L,1,"1x"),P$V,Z9t.D45(C3O,E9N,Z9t.u4X(3)));}X5M.fillStyle=a8v;}W3Q.plotLine(l_w,Q$h,A1s,I2T,d2_,"segment",X5M,e4G,c$H);this.rays.push([[l_w,A1s],[Q$h,I2T]]);if(X7L == 1){F6a=Q$h;y8m=I2T;}X5M.globalAlpha=0.1;X5M.beginPath();X5M.moveTo(Q$h,I2T);X5M.lineTo(l_w,A1s);X5M.lineTo(F6a,y8m);X5M.fill();X5M.globalAlpha=1;}X5M.textAlign="left";X5M.textBaseline="middle";if(this.highlighted){S_y="p";S_y+="0";C6V=this.highlighted == S_y?!!"1":!1;j4u=this.highlighted == "p1"?!0:!({});this.littleCircle(X5M,l_w,A1s,C6V);this.littleCircle(X5M,P$V,O7y,j4u);}}},!!1);X8.Drawing.timecycle=function(){var q3m;q3m="ti";Z9t.r8O();q3m+="m";q3m+="ecycle";this.name=q3m;this.printLevels=!!({});};X8.inheritsFrom(X8.Drawing.timecycle,X8.Drawing.speedarc);X8.extend(X8.Drawing.timecycle.prototype,{intersected:function(d63,H_i,I1l){var e2w,a_G,Y38,u4I,X8d,d3o;e2w="s";e2w+="e";e2w+="gment";a_G=this.p0;Y38=this.p1;u4I=this.stx.panels[this.panelName];if(!a_G || !Y38 || !u4I){return null;}X8d={0:a_G,1:Y38};for(var H4v in X8d){if(this.pointIntersection(X8d[H4v][0],X8d[H4v][1],I1l)){Z9t.u4X(3);this.highlighted=Z9t.k5y(227.1 !== 340.37?"p":"951.21" - 0 !== (4470,5822)?"2575" * 1 !== 617.85?5.09e+2:(!"",417):(0x206,"l"),H4v);return {action:"drag",point:(9587 <= (243.17,+"250.92")?(5850,5390) < 4740?(+"4.43e+3",0x119):6.16e+3:"p") + H4v};}}d3o=this.lineIntersection(d63,H_i,I1l,e2w);if(d3o || I1l.x0 <= this.p0[0] && I1l.x1 >= a_G[0]){this.highlighted=!!1;return {action:"move",p0:X8.clone(a_G),p1:X8.clone(Y38),tick:d63,value:this.valueOnDrawingAxis(d63,H_i)};}return null;},render:function(q8l){var j05,b8G,M3x,q1A,U2A,k_s,T0Q,A8t,E1f,q_7,C1I,U3y,F5_,M$L,K$Z,j0r,b8F,M65,z7a,j$m,G4U,S9S,b4n,g6m,G5h;j05="segm";j05+="ent";b8G="a";b8G+="ut";b8G+="o";M3x=this.stx;q1A=M3x.panels[this.panelName];U2A=M3x.getYAxisByField(q1A,this.field);if(!q1A || this.field && !U2A){return;}U2A=U2A || q1A.yAxis;if(!this.p1){return;}k_s=M3x.pixelFromTick(this.p0[0],q1A.chart);T0Q=M3x.pixelFromTick(this.p1[0],q1A.chart);A8t=this.pixelFromValue(q1A,this.p0[0],this.p0[1],U2A);E1f=this.pixelFromValue(q1A,this.p1[0],this.p1[1],U2A);q_7=0;q8l.textBaseline="middle";M3x.canvasFont("stx_yaxis",q8l);C1I=20;U3y=this.p1[+"0"] - this.p0[0];q8l.textAlign="center";F5_=k_s;M$L=U2A.top;K$Z=U2A.bottom;j0r=this.getLineColor();b8F=this.fillColor;if(b8F == b8G || X8.isTransparent(b8F)){b8F=M3x.defaultColor;}if(this.printLevels){Z9t.T7s(5);K$Z-=Z9t.D45(C1I,7);}M65={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};z7a=[];q8l.save();q8l.fillStyle=b8F;q8l.globalAlpha=0.05;while(!!"1"){F5_=M3x.pixelFromTick(this.p0[0] + q_7 * U3y,q1A.chart);q_7++;if(k_s < T0Q && F5_ > q1A.left + q1A.width)break;else if(k_s > T0Q && F5_ < q1A.left)break;else if(F5_ < q1A.left || F5_ > q1A.left + q1A.width)continue;q8l.beginPath();q8l.moveTo(k_s,M$L);q8l.lineTo(F5_,M$L);q8l.lineTo(F5_,K$Z);q8l.lineTo(k_s,K$Z);q8l.fill();z7a.push({c:q_7,x:F5_});if(!U3y)break;}q8l.globalAlpha=1;Z9t.T7s(0);j$m=Z9t.k5y(0,"0");for(var g_Q=0;g_Q < z7a.length;g_Q++){M3x.plotLine(z7a[g_Q].x,z7a[g_Q].x,0,K$Z,j0r,"segment",q8l,q1A,M65);if(this.printLevels){q8l.fillStyle=j0r;G4U=M3x.chart.context.measureText(z7a[g_Q].c).width + +"3";if(G4U < M3x.layout.candleWidth + j$m){q8l.fillText(z7a[g_Q].c,z7a[g_Q].x,K$Z + 7);j$m=0;}else {j$m+=M3x.layout.candleWidth;}}}q8l.restore();q8l.textAlign="left";M3x.plotLine(k_s,T0Q,A8t,E1f,j0r,j05,q8l,q1A,M65);if(this.highlighted){S9S="p";S9S+="0";b4n=this.highlighted == S9S?!!"1":!1;g6m=this.highlighted == "p1"?!!({}):!!0;this.littleCircle(q8l,k_s,A8t,b4n);this.littleCircle(q8l,T0Q,E1f,g6m);}else {G5h=this.valueFromPixel(q1A.height / +"2",q1A,U2A);this.setPoint(0,this.p0[0],G5h,q1A.chart);this.setPoint(1,this.p1["0" * 1],G5h,q1A.chart);}}},!0);X8.Drawing.regression=function(){Z9t.Y$C();this.name="regression";};X8.inheritsFrom(X8.Drawing.regression,X8.Drawing.segment);X8.extend(X8.Drawing.regression.prototype,{configs:[w$M,"lineWidth","pattern","active1",o06,f6R,"pattern1","active2",Z1U,"lineWidth2",K3z,"active3","color3",N$h,v5k],copyConfig:function(w8G){var d6j,p08;d6j="a";d6j+="u";d6j+="t";d6j+="o";X8.Drawing.copyConfig(this,w8G);p08=this.stx.currentVectorParameters;this.active1=!!p08.active1;this.active2=!!p08.active2;this.active3=!!p08.active3;Z9t.r8O();this.color1=p08.color1 || d6j;this.color2=p08.color2 || "auto";this.color3=p08.color3 || "auto";this.lineWidth1=p08.lineWidth1;this.lineWidth2=p08.lineWidth2;this.lineWidth3=p08.lineWidth3;this.pattern1=p08.pattern1;this.pattern2=p08.pattern2;this.pattern3=p08.pattern3;},$controls:['cq-cvp-controller[cq-cvp-header="1"]','cq-cvp-controller[cq-cvp-header="2"]','cq-cvp-controller[cq-cvp-header="3"]'],click:function(S3D,R$5,i_z){var O89,F5n;if(R$5 < +"0"){return;}this.copyConfig();O89=this.stx;F5n=O89.panels[this.panelName];if(!this.penDown){this.setPoint(0,R$5,i_z,F5n.chart);if(!this.isAllowed(O89,this.field)){O89.undo();return !![];}this.penDown=!!({});return !!0;}if(this.accidentalClick(R$5,i_z)){return !!({});}Z9t.r8O();this.setPoint(1,R$5,i_z,F5n.chart);this.penDown=!!"";return !0;;},getYValue:function(R_d){var X18,c$Y,E0E,V8P,L6M,Z1i,Q_G,D3_;X18=this.stx;c$Y=X18.chart.dataSet[R_d];E0E=X18.chart.dataSet[R_d];if(!c$Y){return null;}V8P=X18.panels[this.panelName];L6M=X18.getYAxisByField(V8P,this.field) || V8P.yAxis;if(X18.charts[V8P.name] && V8P.chart.transformFunc && L6M == V8P.yAxis){E0E=c$Y.transform;}if(!E0E){return null;}Z9t.r8O();Z1i=null;Q_G=null;D3_=X18.defaultPlotField || "Close";if(this.field){Q_G=X8.existsInObjectChain(E0E,this.field);if(!Q_G){return null;}Z1i=Q_G=Q_G.obj[Q_G.member];if(c$Y != E0E){Z1i=X8.existsInObjectChain(c$Y,this.field);Z1i=Z1i.obj[Z1i.member];}if(typeof Q_G == "object"){Q_G=Q_G[D3_];Z1i=Z1i[D3_];}}else {Q_G=E0E[D3_];Z1i=c$Y[D3_];}return {transformed:Q_G,untransformed:Z1i};},render:function(L53){var n0g,k5e,T_L,Y9F,R_J,w2u,o$C,E78,j$6,E61,q2Z,g3G,O18,P2J,t8x,j3A,D8i,n22,a4f,Y3q,Z7N,E_U,d$C,P15,O8$,F4$,H3w,U8z,K33,f9l,n_m,c0V,N_8,U7A,R3h,o1J,J7k,Z1h,W5A;n0g="seg";n0g+="men";n0g+="t";k5e=this.stx;T_L=k5e.panels[this.panelName];Y9F=k5e.getYAxisByField(T_L,this.field);if(!T_L || this.field && !Y9F){return;}if(!this.p1){return;}if(this.p0[0] < +"0" || this.p1[+"0"] < 0){return;}R_J=k5e.pixelFromTick(this.p0[0],T_L.chart);w2u=k5e.pixelFromTick(this.p1[0],T_L.chart);if(R_J < T_L.left && w2u < T_L.left){return;}if(R_J > T_L.right && w2u > T_L.right){return;}o$C=[];E78=[];j$6=0;E61=0;q2Z=0;g3G=0;O18=Math.min(this.p1[0],this.p0[0]);Z9t.u4X(93);var K1B=Z9t.k5y(19,16,17,26,7);P2J=Math.max(this.p1[0],this.p0[0]) + K1B;Z9t.u4X(5);t8x=Z9t.D45(P2J,O18);for(var h_g=O18;h_g < P2J;h_g++){j3A=this.getYValue(h_g);if(j3A){o$C.push(j3A.transformed);E78.push(j3A.untransformed);}}D8i=o$C.length;Z9t.u4X(94);n22=Z9t.k5y(1,"2",D8i,D8i,0);Z9t.T7s(0);a4f=Math.pow(n22,Z9t.k5y(64,"2"));Z9t.u4X(95);Y3q=Z9t.k5y(1,n22,3,D8i,"2");for(h_g=0;h_g < D8i;h_g++){q2Z+=D8i * o$C[h_g] - j$6;j$6+=o$C[h_g];g3G+=D8i * E78[h_g] - E61;E61+=E78[h_g];}Z9t.T7s(96);Z7N=Z9t.k5y(Y3q,n22,q2Z,j$6,D8i,D8i,a4f);Z9t.T7s(97);E_U=Z9t.D45(D8i,j$6,Z7N,n22);Z9t.T7s(96);d$C=Z9t.D45(Y3q,n22,g3G,E61,D8i,D8i,a4f);Z9t.u4X(97);P15=Z9t.D45(D8i,E61,Z7N,n22);if(this.p0[0] < this.p1[0]){O8$=E_U;Z9t.u4X(98);F4$=Z9t.D45(t8x,E_U,Z7N);this.p0[1]=P15;Z9t.u4X(98);this.p1[1]=Z9t.D45(t8x,P15,d$C);}else {Z9t.T7s(98);O8$=Z9t.k5y(t8x,E_U,Z7N);F4$=E_U;Z9t.u4X(98);this.p0[1]=Z9t.k5y(t8x,P15,d$C);this.p1[+"1"]=P15;}H3w=k5e.pixelFromTransformedValue(O8$,T_L,Y9F);U8z=k5e.pixelFromTransformedValue(F4$,T_L,Y9F);K33=this.getLineColor();f9l={pattern:this.pattern,lineWidth:this.lineWidth};k5e.plotLine(R_J,w2u,H3w,U8z,K33,n0g,L53,T_L,f9l);Z9t.T7s(5);k5e.plotLine(R_J,R_J,Z9t.D45(H3w,20),Z9t.k5y(H3w,20,Z9t.u4X(3)),K33,"segment",L53,T_L,f9l);Z9t.u4X(5);k5e.plotLine(w2u,w2u,Z9t.D45(U8z,20),Z9t.D45(U8z,20,Z9t.u4X(3)),K33,"segment",L53,T_L,f9l);if(this.active1 || this.active2 || this.active3){Z9t.T7s(12);n_m=Z9t.k5y(j$6,D8i);Z9t.T7s(0);c0V=Z9t.D45(96,"0");for(h_g=0;h_g < D8i;h_g++){c0V+=Math.pow(o$C[h_g] - n_m,2);}Z9t.u4X(12);N_8=Math.sqrt(Z9t.D45(c0V,D8i));U7A={context:L53,panel:T_L,points:{0:{x:R_J,v:O8$},1:{x:w2u,v:F4$}},stddev:N_8,yAxis:Y9F};this.lines={};if(this.active1){this.renderStddev((3047,8810) <= (2375,+"8305")?(6330,4400) !== "712.34" * 1?(9673,838.51) >= ("8553" - 0,6420)?(0x1039,"G"):!"":![]:"1",(16.55,9838) != 841.82?"p":"m",U7A);this.renderStddev(741.67 === ("611" ^ 0)?0x710:"1","3830" << 32 != (9810,"8100" ^ 0)?"n":563.50,U7A);}if(this.active2){R3h=1961278358;o1J=-995309573;J7k=2;for(var Y_E=1;Z9t.L3M(Y_E.toString(),Y_E.toString().length,23713) !== R3h;Y_E++){this.renderStddev(2635 < (712626,9179)?0x1bb4:"3806" >> 0 < (2022,2820)?("2534" ^ 0) >= 982478?"e":(1587819,!![]):"e","2",U7A);this.renderStddev(9965 > (3155,255)?"e":8340 != 2293?(0xc17,!({})):(+"762899",7497319),6642 < (1621,511)?("7891" ^ 0,"2208" ^ 0) < (4635,2976)?"1262987" >> 64:9934 == "54" >> 0?(3900556,1529323):"B":"n",U7A);J7k+=2;}if(Z9t.U3Y(J7k.toString(),J7k.toString().length,58979) !== o1J){this.renderStddev(8175 > (358430,7811)?0xface:+"1736" > ("5552" >> 0,3560)?7904 < "976254" >> 32?"e":(6550671,!({})):"e","e",U7A);this.renderStddev("4196" * 1 < (2837,667)?"e":8380 == 3867?(0xb4d,!!1):(978280,9049249),7491 <= (2413,524)?(6695,3364) > (2062,+"9727")?+"4068466":1440 === +"57"?(+"8888324",9146471):"n":"n",U7A);}this.renderStddev("3260" >> 32 >= (151.73,9679)?0x15be:1280 > (8731,1603)?2560 < 945.98?"e":(2.02e+3,![]):"2","p",U7A);this.renderStddev("9386" * 1 >= (9887,871)?"2":6568 !== 9690?(0x792,!!"1"):(280.47,3.64e+3),5330 <= (3710,"917" | 21)?(5770,5980) <= (7250,"2990" ^ 0)?+"3.51e+2":("3660" ^ 0) != 16?(+"6.94e+3",3.21e+3):"B":"n",U7A);}if(this.active3){this.renderStddev((3941,4810) != 649.95?"426.36" - 0 == (7200,5300)?313 != (6719,910.22)?!({}):(!!0,!!({})):"3":241.41,9870 === (549.65,+"684.87")?(!!1,!"1"):+"1.04" < 640.43?("3738" | 24) >= 6810?+"0xc4a":"p":(![],!!1),U7A);this.renderStddev((5830,269.09) == (1170,+"4240")?(781,"111.77" - 0):"3",("375.44" - 0,6675) < (2505,683.23)?(2469,764.35) == 245.14?(2.93e+3,0x4bb):+"0xbd0":"n",U7A);}}if(!this.highlighted){this.pixelX=[R_J,w2u];this.pixelY=[H3w,U8z];}else {Z1h=this.highlighted == "p0"?!!"1":!1;W5A=this.highlighted == "p1"?!"":!!0;this.littleCircle(L53,R_J,H3w,Z1h);this.littleCircle(L53,w2u,U8z,W5A);}},renderStddev:function(C8D,H23,f20){var J33,f$5,L60,o_z,K26,j3m,q5A,L7M,A16,y1c,T2L,A06,W$B,y_3,Y$8,T5V,h44,d91,A$n,Z_d,S73,u1E,W1_;J33="se";J33+="gmen";J33+="t";f$5="l";f$5+="ineWidth";L60="pat";L60+="tern";Z9t.u4X(65);o_z=Z9t.D45("stddev",C8D,H23);Z9t.T7s(3);K26=Z9t.k5y("color",C8D);Z9t.T7s(3);j3m=Z9t.k5y(L60,C8D);Z9t.T7s(3);q5A=Z9t.k5y(f$5,C8D);L7M=f20.points;A16=L7M[0].v;y1c=L7M[1].v;T2L=f20.stddev;A06=H23 === "n"?C8D * -("1" - 0):C8D * 1;W$B=this.stx;y_3=f20.panel;Y$8=f20.yAxis;T5V={name:o_z,color:this.getLineColor(this[K26]),type:J33,y0:W$B.pixelFromTransformedValue(A16 + T2L * A06,y_3,Y$8),y1:W$B.pixelFromTransformedValue(y1c + T2L * A06,y_3,Y$8),params:{pattern:this[j3m],lineWidth:this[q5A]}};if(this.lines){this.lines[o_z]=T5V;}h44=f20.context;d91=L7M[0].x;A$n=L7M[+"1"].x;W$B.plotLine(d91,A$n,T5V.y0,T5V.y1,T5V.color,T5V.type,h44,y_3,T5V.params);W$B.plotLine(d91,d91,T5V.y0 - 10,T5V.y0 + 10,T5V.color,T5V.type,h44,y_3,T5V.params);W$B.plotLine(A$n,A$n,T5V.y1 - 10,T5V.y1 + 10,T5V.color,T5V.type,h44,y_3,T5V.params);Z9t.u4X(3);Z_d=Z9t.D45(C8D,346.86 === 4060?+"657.75" < (+"7360",9120)?983.16:(+"6.71e+3","5.73e+3" << 0):"\u03c3");Z9t.u4X(5);var A1U=Z9t.D45(22,17);S73=Math.max(d91,A$n) + A1U;u1E=d91 < A$n?T5V.y1:T5V.y0;h44.fillStyle=T5V.color;h44.save();h44.textBaseline="middle";h44.fillText(Z_d,S73,u1E);h44.restore();if(f20.formatPrice && this.axisLabel && !this.highlighted && !this.penDown){if(d91 >= y_3.chart.left && d91 <= y_3.chart.right || A$n >= y_3.chart.left && A$n <= y_3.chart.right){Z9t.u4X(99);W1_=Z9t.k5y(T2L,A06,d91 < A$n?y1c:A16);W$B.endClip();W$B.createYAxisLabel(y_3,f20.formatPrice(W1_,Y$8),u1E,T5V.color,null,h44,Y$8);W$B.startClip(y_3.name);}}},intersected:function(P2L,p7X,u1J){var J88,Q9s,g0x,j6W,o5e,y2A,s5Y;if(!this.pixelX || !this.pixelY){return null;}J88=this.repositionIntersection(P2L,p7X);if(J88){return J88;}Q9s={0:this.pixelX,1:this.pixelY};for(var z96=0;z96 < 2;z96++){if(this.pointIntersection(Q9s[0][z96],Q9s[+"1"][z96],u1J,!!"1")){Z9t.u4X(3);this.highlighted=Z9t.k5y((4330,+"6690") <= (346.3,+"3423")?2.26e+3:"p",z96);return {action:"drag",point:"p" + z96};}}g0x=this;j6W=this.pixelX[0];o5e=this.pixelX[1];y2A=function(U8a){var h$e,L4Z;h$e=[j6W,U8a.y0];L4Z=[o5e,U8a.y1];return g0x.lineIntersection(P2L,p7X,u1J,g0x.name,h$e,L4Z,!![]);};s5Y=y2A({y0:this.pixelY[0],y1:this.pixelY[1]});if(!s5Y && this.lines){for(var l0N in this.lines){if(y2A(this.lines[l0N])){s5Y=!![];break;}}}if(s5Y){this.highlighted=!0;return {action:"move",p0:X8.clone(this.p0),p1:X8.clone(this.p1),tick:P2L,value:this.valueOnDrawingAxis(P2L,p7X)};}return null;},repositionIntersection:function(S0j,T9M){if(!this.p0 || !this.p1){return !({});}Z9t.r8O();if(this == this.stx.repositioningDrawing && this.highlighted){if(this.highlighted === !!1){return {action:"move",p0:X8.clone(this.p0),p1:X8.clone(this.p1),tick:S0j,value:this.valueOnDrawingAxis(S0j,T9M)};}return {action:"drag",point:this.highlighted};}return ![];},lineIntersection:function(h$k,p9_,S8h,N$T,a4Q,v$L,L2S){var n$E,s1F;if(!L2S){Z9t.u4X(3);console.log(Z9t.D45(N$T," lineIntersection must accept p0 and p1 in pixels.  Please verify and set isPixels=true."));return !!"";}if(!a4Q){a4Q=this.p0;}if(!v$L){v$L=this.p1;}if(!(a4Q && v$L)){return !!"";}n$E=this.stx;if(S8h.cx0 === undefined){return ![];}s1F={x0:a4Q[0],x1:v$L["0" | 0],y0:a4Q[1],y1:v$L[1]};return X8.boxIntersects(S8h.cx0,S8h.cy0,S8h.cx1,S8h.cy1,s1F.x0,s1F.y0,s1F.x1,s1F.y1);},boxIntersection:function(f0K,e7v,Q3d){if(Q3d.cx0 > Math.max(this.pixelX[0],this.pixelX[1]) || Q3d.cx1 < Math.min(this.pixelX[+"0"],this.pixelX[1])){return !!"";}if(!this.stx.repositioningDrawing && (Q3d.cy1 < this.pixelY[+"0"] || Q3d.cy0 > this.pixelY[+"1"])){return ![];}return !!({});},reconstruct:function(c5e,B0N){this.stx=c5e;this.color=B0N.col;this.color1=B0N.col1;this.color2=B0N.col2;this.color3=B0N.col3;this.active1=B0N.dev1;this.active2=B0N.dev2;this.active3=B0N.dev3;this.panelName=B0N.pnl;this.pattern=B0N.ptrn;this.pattern1=B0N.ptrn1;this.pattern2=B0N.ptrn2;this.pattern3=B0N.ptrn3;this.lineWidth=B0N.lw;this.lineWidth1=B0N.lw1;this.lineWidth2=B0N.lw2;this.lineWidth3=B0N.lw3;this.d0=B0N.d0;this.d1=B0N.d1;Z9t.Y$C();this.tzo0=B0N.tzo0;this.tzo1=B0N.tzo1;this.field=B0N.fld;this.adjust();},serialize:function(){Z9t.Y$C();return {name:this.name,pnl:this.panelName,dev1:this.active1,dev2:this.active2,dev3:this.active3,col:this.color,col1:this.color1,col2:this.color2,col3:this.color3,ptrn:this.pattern,ptrn1:this.pattern1,ptrn2:this.pattern2,ptrn3:this.pattern3,lw:this.lineWidth,lw1:this.lineWidth1,lw2:this.lineWidth2,lw3:this.lineWidth3,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},!!1);X8.Drawing.trendline=function(){var q5N;q5N="tr";q5N+="endline";this.name=q5N;};X8.inheritsFrom(X8.Drawing.trendline,X8.Drawing.segment);X8.Drawing.trendline.prototype.configs=[o3c,"fillColor","lineWidth",O$g,J1j];X8.Drawing.trendline.prototype.measure=function(){Z9t.r8O();;};X8.Drawing.trendline.prototype.reconstruct=function(J5I,N6A){X8.Drawing.segment.prototype.reconstruct.call(this,J5I,N6A);this.callout=new X8.Drawing.callout();this.callout.reconstruct(J5I,N6A.callout);};X8.Drawing.trendline.prototype.serialize=function(){var D8L;Z9t.r8O();D8L=X8.Drawing.segment.prototype.serialize.call(this);D8L.callout=this.callout.serialize();return D8L;};X8.Drawing.trendline.prototype.render=function(I16){var W6u,V6W,u6S,F$7,y$x,Y90,i0j,h6P,N0X,H3E,z7I,a8y,G64,r1l,V8K,o_i,U6s,I4Y,G$3,M8$,O7F,Y9W,B2t,Y7O;W6u=" Ba";W6u+="rs";V6W="%";V6W+=")";V6W+=" ";u6S=this.stx;F$7=u6S.panels[this.panelName];y$x=u6S.getYAxisByField(F$7,this.field);if(!F$7 || this.field && !y$x){return;}X8.Drawing.segment.prototype.render.call(this,I16);if(!this.callout){this.callout=new X8.Drawing.callout();Y90=X8.Drawing.segment.prototype.serialize.call(this);this.callout.reconstruct(u6S,Y90);}this.callout.p0=X8.clone(this.p0);i0j=u6S.pixelFromTick(this.p0[0],F$7.chart);h6P=u6S.pixelFromTick(this.p1[0],F$7.chart);N0X=this.pixelFromValue(F$7,this.p0[0],this.p0[+"1"],y$x);H3E=this.pixelFromValue(F$7,this.p1[0],this.p1[1],y$x);if(!isFinite(N0X) || !isFinite(H3E)){return;}Z9t.T7s(7);z7I=Z9t.k5y(i0j,h6P,2);Z9t.T7s(100);a8y=Z9t.k5y(N0X,H3E,0,"2");this.fontSize=X8.stripPX(this.font && this.font.size || 13);Z9t.T7s(5);var z24=Z9t.D45(81,17);Z9t.u4X(66);var R78=Z9t.k5y(414,1,6621);Z9t.T7s(101);var a2T=Z9t.k5y(6465,16,6447,2158,7);Z9t.u4X(30);var Y6C=Z9t.D45(15,114,2,67);G64=this.callout.w * 1.2 + (this.callout.stemEntry[0] == (("9540" << z24,R78) != (a2T,852.85)?"c":!!({}))?0:Y6C);r1l=Math.sqrt(Math.pow(h6P - i0j,2) + Math.pow(H3E - N0X,+"2"));Z9t.T7s(33);var E2S=Z9t.k5y(1,8,1,6);Z9t.T7s(87);var S6s=Z9t.D45(6,3,7,18,55);V8K=G64 / (r1l || G64) * (this.p1[+"1"] < this.p0[E2S]?S6s:-("1" << 0));Z9t.u4X(102);o_i=Z9t.k5y(a8y,V8K,H3E,z7I);Z9t.T7s(103);U6s=Z9t.D45(h6P,a8y,V8K,z7I);this.callout.p0[0]=u6S.tickFromPixel(o_i,F$7.chart);this.callout.p0[1]=this.valueFromPixel(U6s,F$7,y$x);this.callout.v0=this.callout.p0[1];this.callout.p1=X8.clone(this.p0);this.callout.stx=u6S;this.callout.fillColor=this.fillColor || this.callout.fillColor;this.callout.borderColor=this.color;this.callout.font=this.font || this.callout.font;this.callout.noHandles=!!({});Z9t.T7s(5);var Y2b=Z9t.D45(15,14);I4Y=this.p1[Y2b] - this.p0[+"1"];Z9t.T7s(85);var U6r=Z9t.k5y(2,4);Z9t.T7s(104);var m2f=Z9t.k5y(6,8,4,1);Z9t.T7s(9);var I3w=Z9t.k5y(16,16,12,19);this.callout.text="" + Number(I4Y).toFixed(U6r) + (this.p0[+"1"] === 0?"":" (" + Number(100 * I4Y / this.p0[1]).toFixed(m2f) + V6W) + "" + Math.abs(this.p1["0" * I3w] - this.p0[0]) + W6u;G$3=Math.floor((this.p0[+"0"] + this.p1[0]) / 2);if(Math.abs(this.p0[0] - this.p1[0]) > 1 && Math.abs(this.p0[0] - this.p1[0]) < 20){O7F=u6S.pixelFromTick(G$3,F$7.chart);Z9t.T7s(105);Y9W=Z9t.D45(h6P,H3E,i0j,i0j,O7F,N0X,N0X);M8$=this.valueFromPixel(Y9W,F$7,y$x) || a8y;}else {M8$=this.valueFromPixel(a8y,F$7,y$x);}this.callout.stem={t:G$3,v:M8$};this.callout.renderText();this.callout.render(I16);if(this.highlighted){B2t=this.highlighted == "p0"?!![]:!({});Y7O=this.highlighted == "p1"?!!({}):!!"";this.littleCircle(I16,i0j,N0X,B2t);this.littleCircle(I16,h6P,H3E,Y7O);}};X8.Drawing.trendline.prototype.lineIntersection=function(M4S,H26,S_G,w5d){return X8.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,M4S,H26,S_G,"segment");};X8.Drawing.trendline.prototype.intersected=function(O08,p9Z,H17){var V_x,P5z;if(!this.p0 || !this.p1){return null;}V_x=this.callout.intersected(O08,p9Z,H17);P5z=X8.Drawing.segment.prototype.intersected.call(this,O08,p9Z,H17);this.callout.highlighted=!!(V_x || P5z);if(P5z){return P5z;}else if(V_x){return {action:"move",p0:X8.clone(this.p0),p1:X8.clone(this.p1),tick:O08,value:this.valueOnDrawingAxis(O08,p9Z)};}return null;};X8.Drawing.average=function(){this.name="average";};X8.inheritsFrom(X8.Drawing.average,X8.Drawing.regression);X8.extend(X8.Drawing.average.prototype,{configs:X8.Drawing.regression.prototype.configs.concat("axisLabel"),measure:function(){Z9t.r8O();var w$0,N1c,C9I,n0D,O5l,z8n,f6$,v$o,L5e;w$0=this.stx;if(this.p0 && this.p1){N1c=",";N1c+=" ";w$0.setMeasure(0,!({}),this.p0[0],this.p1[+"0"],!![],this.name);C9I=[];n0D="";if(this.active1){C9I.push("1");}if(this.active2){C9I.push(882.17 > (3190,2042)?5189 <= 478?"L":(0x1062,!![]):"2");}if(this.active3){C9I.push("921.28" - 0 !== 1560?"3":"v");}if(C9I.length){n0D="&ensp;" + C9I.join(N1c) + " &sigma;";}O5l=(w$0.drawingContainer || document).querySelector(".mMeasure");z8n=w$0.controls.mSticky;f6$=z8n && z8n.querySelector(".mStickyInterior");if(O5l){O5l.innerHTML+=n0D;}if(f6$){v$o="C";v$o+="l";v$o+="o";v$o+="se";L5e=[];L5e.push(X8.capitalize(this.name));L5e.push(this.field || w$0.defaultPlotField || v$o);L5e.push(f6$.innerHTML + n0D);f6$.innerHTML=L5e.join("<br>");}}},render:function(i2y){var q5q,T85,O0z,T0W,S2o,g2o,R0L,N7D,M6O,s05,F0d,E9A,V8w,t3y,w8y,t_n,F3X,f$T,C6v,c0e,a25;q5q=this.stx;T85=q5q.panels[this.panelName];O0z=q5q.getYAxisByField(T85,this.field);if(!T85 || this.field && !O0z){return;}O0z=O0z || T85.yAxis;if(!this.p1){return;}if(this.p0[0] < 0 || this.p1["0" | 0] < 0){return;}T0W=q5q.pixelFromTick(this.p0[0],T85.chart);S2o=q5q.pixelFromTick(this.p1[0],T85.chart);if(T0W < T85.left && S2o < T85.left){return;}if(T0W > T85.right && S2o > T85.right){return;}g2o=Math.min(this.p1["0" * 1],this.p0[0]);R0L=Math.max(this.p1[+"0"],this.p0[0]) + +"1";N7D=0;M6O=[];for(s05=g2o;s05 < R0L;s05++){F0d=this.getYValue(s05);if(F0d !== null){N7D+=F0d.transformed;M6O.push(F0d);}}E9A=M6O.length;if(!E9A){return;}Z9t.u4X(12);V8w=Z9t.D45(N7D,E9A);t3y=q5q.pixelFromTransformedValue(V8w,T85,O0z);w8y=this.getLineColor();t_n={pattern:this.pattern,lineWidth:this.lineWidth};q5q.plotLine(T0W,S2o,t3y,t3y,w8y,"segment",i2y,T85,t_n);function A3s(e_T,E8C){if(E8C && E8C.priceFormatter){e_T=E8C.priceFormatter(q5q,T85,e_T);}else {e_T=q5q.formatYAxisPrice(e_T,T85,null,E8C);}return e_T;}Z9t.u4X(5);q5q.plotLine(T0W,T0W,Z9t.k5y(t3y,20),Z9t.D45("20",4,t3y,Z9t.u4X(106)),w8y,"segment",i2y,T85,t_n);Z9t.u4X(5);q5q.plotLine(S2o,S2o,Z9t.D45(t3y,20),Z9t.k5y(t3y,20,Z9t.T7s(3)),w8y,"segment",i2y,T85,t_n);if(this.axisLabel && !this.highlighted && !this.penDown){if(T0W >= T85.chart.left && T0W <= T85.chart.right || S2o >= T85.chart.left && S2o <= T85.chart.right){q5q.endClip();q5q.createYAxisLabel(T85,A3s(V8w,O0z),t3y,w8y,null,i2y,O0z);q5q.startClip(T85.name);}}if(this.active1 || this.active2 || this.active3){F3X=0;for(s05=0;s05 < E9A;s05++){F0d=M6O[s05];F3X+=Math.pow(F0d.transformed - V8w,+"2");}Z9t.u4X(12);f$T=Math.sqrt(Z9t.D45(F3X,E9A));C6v={context:i2y,formatPrice:A3s,panel:T85,points:{0:{x:T0W,v:V8w},1:{x:S2o,v:V8w}},stddev:f$T,yAxis:O0z};this.lines={};if(this.active1){this.renderStddev("1",(378.1,3380) != +"603.21"?3290 < 24.71?(0x1315,0x2407):728.18 === 8536?(3.70e+3,+"2.57e+3"):"p":0xc96,C6v);this.renderStddev(7949 <= (7570,1945)?(368.97,"k"):"1",66.8 >= +"7676"?"Q":6600 <= 13.7?(!"",0x6e2):"n",C6v);}if(this.active2){this.renderStddev(+"4550" == 732.25?"c":+"55.1" === (9216,3220)?("g",4.75e+3):(8170,5080) != (8520,5127)?"2":(1.32e+3,!""),1180 <= 764.21?(5940,+"251") == (106.57,+"478.07")?(+"690.42","u"):(459,511) == 2728?(444.65,!!"1"):("1.42e+3" * 1,+"6.95e+3"):"p",C6v);this.renderStddev("2","n",C6v);}if(this.active3){this.renderStddev("3",445 <= 9990?3887 < 9733?"p":(653.35,"z"):(600.30,!!""),C6v);this.renderStddev("3",(7938,702.18) >= (5292,2231)?3150 > 8010?!!"1":(+"780","392.53" - 0):"n",C6v);}}if(!this.highlighted){this.pixelX=[T0W,S2o];this.pixelY=[t3y,t3y];}else {c0e=this.highlighted == "p0"?!![]:!"1";a25=this.highlighted == "p1"?!![]:!!"";this.littleCircle(i2y,T0W,t3y,c0e);this.littleCircle(i2y,S2o,t3y,a25);}},reconstruct:function(t$K,i9s){this.axisLabel=i9s.al;X8.Drawing.regression.prototype.reconstruct.call(this,t$K,i9s);},serialize:function(){var u4C;u4C=X8.Drawing.regression.prototype.serialize.call(this);u4C.al=this.axisLabel;return u4C;}},!![]);X8.Drawing.quadrant=function(){Z9t.Y$C();this.name="quadrant";};X8.inheritsFrom(X8.Drawing.quadrant,X8.Drawing.regression);X8.extend(X8.Drawing.quadrant.prototype,{configs:["color","fillColor","lineWidth",N7w],copyConfig:function(){var I1a;I1a=this.stx.currentVectorParameters;this.color=I1a.currentColor;this.fillColor=I1a.fillColor;this.lineWidth=I1a.lineWidth;this.pattern=I1a.pattern;},$controls:[],render:function(M7a){var n33,m78,k8R,y$e,x5o,J6e,C0G,F0k,Q_5,f7q,g9Y,D2D,l7t,m3W,Q27,R$x,s3Q,p7o,c4N,c3U,v0Y,d7S,a9s,K6r,d16,Y4v;n33="s";n33+="eg";n33+="men";n33+="t";m78="s";m78+="egm";m78+="ent";k8R="s";k8R+="eg";k8R+="m";k8R+="ent";y$e=this.stx;x5o=y$e.panels[this.panelName];J6e=y$e.getYAxisByField(x5o,this.field);if(!x5o || this.field && !J6e){return;}if(!this.p1){return;}C0G=y$e.pixelFromTick(this.p0[0],x5o.chart);F0k=y$e.pixelFromTick(this.p1[0],x5o.chart);if(C0G < x5o.left && F0k < x5o.left){return;}if(C0G > x5o.right && F0k > x5o.right){return;}Q_5=null;f7q=null;for(var m42=Math.max(0,Math.min(this.p1[0],this.p0[0]));m42 <= Math.min(y$e.chart.dataSet.length - 1,Math.max(this.p1[0],this.p0[0]));m42++){g9Y=this.getYValue(m42);if(g9Y !== null){if(Q_5 === null || g9Y.transformed > Q_5){Q_5=g9Y.transformed;}if(f7q === null || g9Y.transformed < f7q){f7q=g9Y.transformed;}}}D2D=y$e.pixelFromTransformedValue(Q_5,x5o,J6e);Z9t.T7s(107);l7t=y$e.pixelFromTransformedValue(Z9t.k5y(f7q,Q_5,3,4),x5o,J6e);Z9t.T7s(107);m3W=y$e.pixelFromTransformedValue(Z9t.D45(f7q,Q_5,2,3),x5o,J6e);Z9t.T7s(7);Q27=y$e.pixelFromTransformedValue(Z9t.D45(Q_5,f7q,2),x5o,J6e);Z9t.u4X(108);R$x=y$e.pixelFromTransformedValue(Z9t.k5y(Q_5,2,3,f7q),x5o,J6e);Z9t.u4X(109);s3Q=y$e.pixelFromTransformedValue(Z9t.D45(Q_5,"3",4,f7q,0),x5o,J6e);p7o=y$e.pixelFromTransformedValue(f7q,x5o,J6e);this.p0[1]=0;Z9t.T7s(13);this.p1[Z9t.D45(32,"1")]=![];c4N=this.getLineColor();c3U=this.fillColor;if(c3U == "auto" || X8.isTransparent(c3U)){c3U=y$e.defaultColor;}M7a.fillStyle=c3U;v0Y={pattern:this.pattern,lineWidth:this.lineWidth};y$e.plotLine(C0G,F0k,D2D,D2D,c4N,k8R,M7a,x5o,v0Y);y$e.plotLine(C0G,F0k,p7o,p7o,c4N,m78,M7a,x5o,v0Y);Z9t.r8O();if(this.name == "quadrant"){d7S="segme";d7S+="nt";y$e.plotLine(C0G,F0k,l7t,l7t,c4N,d7S,M7a,x5o,v0Y);y$e.plotLine(C0G,F0k,s3Q,s3Q,c4N,"segment",M7a,x5o,v0Y);}else if(this.name == "tirone"){y$e.plotLine(C0G,F0k,m3W,m3W,c4N,"segment",M7a,x5o,v0Y);y$e.plotLine(C0G,F0k,R$x,R$x,c4N,"segment",M7a,x5o,v0Y);}y$e.plotLine(C0G,C0G,D2D,p7o,c4N,"segment",M7a,x5o,v0Y);y$e.plotLine(F0k,F0k,D2D,p7o,c4N,n33,M7a,x5o,v0Y);y$e.plotLine(C0G,F0k,Q27,Q27,c4N,"segment",M7a,x5o,X8.extend(v0Y,{opacity:this.name == "tirone"?"0.2" - 0:1}));M7a.globalAlpha=0.1;M7a.beginPath();Z9t.T7s(5);M7a.fillRect(C0G,D2D,Z9t.D45(F0k,C0G),Z9t.k5y(p7o,D2D));if(this.name == "quadrant"){Z9t.u4X(5);M7a.fillRect(C0G,l7t,Z9t.k5y(F0k,C0G),Z9t.D45(s3Q,l7t));}else if(this.name == "tirone"){Z9t.T7s(5);M7a.fillRect(C0G,m3W,Z9t.D45(F0k,C0G),Z9t.k5y(R$x,m3W));}Z9t.T7s(44);M7a.globalAlpha=Z9t.k5y("1",1);if(!this.highlighted){this.pixelX=[C0G,F0k];this.pixelY=[D2D,p7o,Q27];if(this.name === "quadrant"){this.pixelY.push(l7t,s3Q);}if(this.name === "tirone"){this.pixelY.push(m3W,R$x);}}else {a9s="p";a9s+="1";K6r="p";K6r+="0";d16=this.highlighted == K6r?!"":!({});Y4v=this.highlighted == a9s?!0:!({});this.littleCircle(M7a,C0G,Q27,d16);this.littleCircle(M7a,F0k,Q27,Y4v);}},intersected:function(z3V,t2P,D8K){var Z_X,d5D,J0d,C3y,P7A;var {pixelX:o2W, pixelY:k$a}=this;Z9t.r8O();if(!o2W || !k$a){return null;}Z_X=this.repositionIntersection(z3V,t2P);if(Z_X){return Z_X;}for(var a3u=0;a3u < ("2" | 0);a3u++){if(this.pointIntersection(o2W[a3u],k$a[2],D8K,!!1)){d5D="dra";d5D+="g";Z9t.T7s(3);this.highlighted=Z9t.k5y((780.01,822.16) <= 5980?5720 < (8730,7449)?"p":8.67e+3:!"1",a3u);return {action:d5D,point:((983.55,670.92) < 5705?"p":8420 == +"252.03"?+"956.78":395.36 < 6220?(+"6.15e+2",0xb84):!!1) + a3u};}}J0d=[];o2W.forEach(h0n=>{Z9t.Y$C();J0d.push({p0:[h0n,k$a[0]],p1:[h0n,k$a[1]]});});k$a.forEach(E6B=>{var J0z,O1S,g7Q;J0z=-762627520;O1S=-462615059;g7Q=2;for(var X2v=+"1";Z9t.L3M(X2v.toString(),X2v.toString().length,11763) !== J0z;X2v++){J0d.push({p0:[o2W[1],E6B],p1:[o2W["6" | 2],E6B]});g7Q+=2;}Z9t.Y$C();if(Z9t.U3Y(g7Q.toString(),g7Q.toString().length,+"7074") !== O1S){J0d.push({p0:[o2W[+"1"],E6B],p1:[o2W[6],E6B]});}J0d.push({p0:[o2W[0],E6B],p1:[o2W[1],E6B]});});C3y=J0d.some(({p0:P2Z, p1:S8U})=>{Z9t.r8O();return this.lineIntersection(z3V,t2P,D8K,this.name,P2Z,S8U,!![]);});if(C3y){P7A="mo";P7A+="ve";this.highlighted=!!({});return {action:P7A,p0:X8.clone(this.p0),p1:X8.clone(this.p1),tick:z3V,value:this.valueOnDrawingAxis(z3V,t2P)};}return null;},reconstruct:function(x6x,Q1_){this.stx=x6x;this.color=Q1_.col;this.fillColor=Q1_.fc;this.panelName=Q1_.pnl;this.pattern=Q1_.ptrn;this.lineWidth=Q1_.lw;this.d0=Q1_.d0;this.d1=Q1_.d1;this.tzo0=Q1_.tzo0;this.tzo1=Q1_.tzo1;this.field=Q1_.fld;this.adjust();},serialize:function(){Z9t.r8O();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},!!"1");X8.Drawing.tirone=function(){this.name="tirone";};X8.inheritsFrom(X8.Drawing.tirone,X8.Drawing.quadrant);X8.Drawing.volumeprofile=function(){this.name="volumeprofile";};X8.inheritsFrom(X8.Drawing.volumeprofile,X8.Drawing.regression);X8.extend(X8.Drawing.volumeprofile.prototype,{configs:["color",w0O,A_Z,"pattern","parameters"],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;Z9t.r8O();this.pattern=this.stx.currentVectorParameters.pattern;this.priceBuckets=this.stx.currentVectorParameters.volumeProfile.priceBuckets;},$controls:[],getYValue:null,isAllowed:function(z75,k_n){var q49;q49="o";q49+="b";Z9t.Y$C();q49+="je";q49+="ct";return !k_n || typeof z75.getFirstLastDataRecord(z75.chart.dataSegment,k_n)[k_n] === q49;},render:function(S2U){var A_W,l7_,C_j,U6l,c8A,e_J,m6b,Z5i,I5p,L37,v4r,z23,X0D,B62,j3u,x_l,t2R,x5k,L0C,p6w,T6F,B_u,G$1,V6z,R7U,c0S,s_n,a7B,c4p,I8A,O$K,Y_f,S11,p1F,o5y,J37,S9C,l$I,m7o,V9A,Z6X,N5K,z5O,C4L,y_M,X$4,d1K,e_Q,l9$,U_F;var {stx:C10}=this;var {dataSet:i_C}=C10.chart;A_W=C10.panels[this.panelName];l7_=C10.getYAxisByField(A_W,this.field);if(!A_W || this.field && !l7_){return;}if(!this.p1){return;}l7_=l7_ || A_W.yAxis;C_j=C10.pixelFromTick(this.p0[0],A_W.chart);U6l=C10.pixelFromTick(this.p1[0],A_W.chart);if(C_j < A_W.left && U6l < A_W.left){return;}if(C_j > A_W.right && U6l > A_W.right){return;}var {flipped:G4i}=l7_;c8A=null;e_J=null;m6b=Math.min(this.p1[0],this.p0[0]);Z5i=Math.max(this.p1[0],this.p0[0]);for(var J0q=m6b;J0q <= Z5i;J0q++){I5p=i_C[J0q];if(I5p[this.field]){I5p=I5p[this.field];}if(!I5p)continue;var {High:R41, Low:W5l}=I5p;if(c8A === null || R41 > c8A){c8A=R41;}if(e_J === null || W5l < e_J){e_J=W5l;}}var {priceBuckets:g$e}=this;Z9t.u4X(29);L37=Z9t.k5y(c8A,g$e,e_J);v4r=[];if(G4i){[c8A,e_J]=[e_J,c8A];}z23=G4i?-1:1;for(var O5k=e_J,z7v=0;z7v <= g$e;(O5k+=L37 * z23,z7v++)){v4r.push([O5k,+"0"]);if(e_J === c8A)break;}X0D=0;for(var J5_=m6b;J5_ <= Z5i;J5_++){B62=i_C[J5_];if(B62[this.field] || B62[this.field] === 0){B62=B62[this.field];}if(!B62)continue;var {High:c4J, Low:K51, Volume:P0y}=B62;if(!P0y && P0y !== +"0")continue;j3u=[];x_l=v4r[0][0];t2R=null;for(var j5A="1" | 0;j5A < v4r.length;j5A++){t2R=v4r[j5A][0];x5k=K51 >= x_l && K51 <= t2R;L0C=c4J >= x_l && c4J <= t2R;p6w=K51 < x_l && c4J > t2R;if(x5k || L0C || p6w){j3u.push(j5A);}x_l=t2R;}if(j3u.length){T6F=P0y / j3u.length;for(var l6e=0;l6e < j3u.length;l6e++){B_u=v4r[j3u[l6e]][1]+=T6F;if(B_u > X0D){X0D=B_u;}}}}G$1=X0D === 0 && v4r.length > 1;if(G$1){C10.displayErrorAsWatermark("chart",C10.translateIf("Not enough data to render the Volume Profile"));}V6z=P$4=>{Z9t.u4X(110);var Z57=Z9t.k5y(17,20,330,0,11);return Math.round(P$4) + "0.5" * Z57;};R7U=(Z5i - m6b) * C10.layout.candleWidth;Z9t.T7s(111);var S4t=Z9t.k5y(13,15,0,4,7);c0S=V6z(C10.pixelFromTick(m6b)) - "1" * S4t;Z9t.T7s(3);s_n=V6z(Z9t.D45(c0S,R7U));Z9t.T7s(91);a7B=this.pixelFromValue(A_W,m6b,Z9t.D45(e_J,c8A,e_J,2),l7_);c4p=c0S;var [L7p]=v4r[0];I8A=this.getLineColor();var {fillColor:C7L}=this;if(C7L === "auto" || X8.isTransparent(C7L)){C7L=C10.defaultColor;}S2U.fillStyle=C7L;O$K={pattern:this.pattern,lineWidth:this.lineWidth};Y_f=0;S11=0;p1F=(S1_,w5$)=>{return [Y_f,S11]=[S1_,w5$];};o5y=(O1Y,d0N,l_K)=>{Z9t.Y$C();if(!l_K){C10.plotLine(Y_f,O1Y,S11,d0N,I8A,"segment",S2U,A_W,O$K);}[Y_f,S11]=[O1Y,d0N];};if(this.highlighted || G$1){J37="s";J37+="egm";J37+="ent";C10.plotLine(c0S,s_n,a7B,a7B,C10.defaultColor,J37,S2U,A_W,Object.assign({},O$K,{opacity:0.3}));}for(var T9a=1;T9a < v4r.length;T9a++){var [g1E,v7C]=v4r[T9a];if(v7C){Z9t.u4X(112);S9C=Z9t.k5y(X0D,v7C,R7U);Z9t.T7s(3);l$I=V6z(Z9t.k5y(c0S,S9C));m7o=V6z(this.pixelFromValue(A_W,m6b,g1E,l7_));V9A=V6z(this.pixelFromValue(A_W,m6b,L7p,l7_));Z6X=Math.max(m7o,l7_.top);N5K=Math.min(V9A,l7_.bottom);Z9t.u4X(113);z5O=Z9t.k5y(Z6X,m7o);Z9t.T7s(113);C4L=Z9t.D45(N5K,V9A);y_M=Z6X <= l7_.bottom && N5K >= l7_.top;if(y_M){if(!this.highlighted){S2U.globalAlpha=0.3;}p1F(c0S,N5K);o5y(c0S,Z6X);o5y(l$I,Z6X,z5O);o5y(l$I,N5K);if(l$I > c4p){o5y(c4p,N5K,C4L);}S2U.globalAlpha=0.2;Z9t.u4X(5);S2U.fillRect(c0S,Z6X,Z9t.k5y(l$I,c0S),Z9t.k5y(N5K,Z6X));S2U.globalAlpha=1;}c4p=l$I;}else {c4p=c0S;;}L7p=g1E;}if(this.highlighted){X$4=this.highlighted === "p0";d1K=this.highlighted === "p1";e_Q=this.p0[0] > this.p1[0];l9$=e_Q?d1K:X$4;U_F=e_Q?X$4:d1K;this.littleCircle(S2U,c0S,a7B,l9$);this.littleCircle(S2U,s_n,a7B,U_F);}Z9t.u4X(3);this.pixelX=[c0S,Z9t.k5y(c0S,R7U)];this.pixelY=[this.pixelFromValue(A_W,m6b,c8A,l7_),this.pixelFromValue(A_W,m6b,e_J,l7_),a7B];this.p0[1]=0;this.p1[+"1"]=!({});;},intersected:function(T5o,I8g,l__){var o0f;var {p0:w0j, p1:G41, stx:x2N}=this;if(!w0j || !G41){return null;}var [,,E7g]=this.pixelY || [];if(E7g === undefined){return;}o0f=this.repositionIntersection(T5o,I8g);if(o0f){return o0f;}for(var [d99,[S1t]] of [[0,w0j],[1,G41]]){if(this.pointIntersection(x2N.pixelFromTick(S1t),E7g,l__,!![])){Z9t.T7s(3);this.highlighted=Z9t.D45("p",d99);return {action:"drag",point:(38.49 === 888?(859.43,0xfa4):(964.1,"620.6" - 0) === (514.46,3140)?(7.60e+3,9.43e+2):(5460,8980) !== (909,138)?"p":!![]) + d99};}}if(this.boxIntersection(T5o,I8g,l__)){this.highlighted=!!1;return {action:"move",p0:X8.clone(this.p0),p1:X8.clone(this.p1),tick:T5o,value:I8g};}Z9t.Y$C();return null;},reconstruct:function(p05,s1c){this.stx=p05;this.color=s1c.col;this.fillColor=s1c.fc;this.panelName=s1c.pnl;this.pattern=s1c.ptrn;this.lineWidth=s1c.lw;this.d0=s1c.d0;this.d1=s1c.d1;this.tzo0=s1c.tzo0;this.tzo1=s1c.tzo1;this.field=s1c.fld;Z9t.Y$C();this.priceBuckets=s1c.pb;this.adjust();},serialize:function(){Z9t.r8O();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field,pb:this.priceBuckets};}},!![]);X8.Drawing.elliottwave=function(){this.name="elliottwave";Z9t.u4X(0);this.lastPoint=Z9t.D45(64,"0");this.points=[];this.pts=[];this.dx=0;this.dy=-20;this.dragToDraw=![];this.annotationPoints=[];Z9t.r8O();this.edit=null;};X8.inheritsFrom(X8.Drawing.elliottwave,X8.Drawing.annotation);X8.Drawing.elliottwave.defaultTemplate={impulse:["I","II","III","IV",(8880,6421) == 1019?("5930" - 0,2770) <= "1040" >> 64?4.15e+2:(2.04e+3,616.97):"V"],corrective:["A","B","232.07" - 0 > (643,+"680")?(!![],161.57):"C"],decoration:"enclosed",showLines:!!1};X8.Drawing.elliottwave.prototype.initializeSettings=function(D3c){D3c.currentVectorParameters.waveParameters=X8.clone(X8.Drawing.elliottwave.defaultTemplate);};X8.Drawing.elliottwave.prototype.configs=["color",X7i,"lineColor","pattern","font","waveParameters"];X8.Drawing.elliottwave.prototype.$controls=["br[cq-wave-parameters]","cq-wave-parameters"];X8.Drawing.elliottwave.prototype.construct=function(W$W,o8d){var L4j;this.stx=W$W;this.panelName=o8d.name;L4j=W$W.currentVectorParameters;Object.assign(this,L4j.waveParameters);};X8.Drawing.elliottwave.prototype.serialize=function(){var H$c,q_0,S6B;H$c="f";Z9t.Y$C();H$c+="l";q_0={};for(var W5y=0;W5y < this.points.length;W5y++){S6B="t";S6B+="z";S6B+="o";Z9t.u4X(3);q_0[Z9t.k5y(6477 < 3310?!![]:6100 >= ("7910" * 1,418.85)?(2905,9560) === 196?(0xc31,!!"1"):"d":(807.68,0x1912),W5y)]=this[Z9t.D45((4750,559) == 684?"B":8520 <= (7870,756.69)?(0x9ae,148.26):"d",W5y)];Z9t.u4X(3);q_0[Z9t.D45("tzo",W5y)]=this[Z9t.k5y(S6B,W5y)];Z9t.u4X(3);q_0[Z9t.D45(2895 != (243.39,1250)?(4807,679) !== 387.74?"v":("h",!!({})):"5.82e+3" ^ 0,W5y)]=this[Z9t.D45(("7750" << 0,2137) === 6920?(0x114d,0x2597):(8778,4320) != 140.12?812.46 <= 8380?"v":!!({}):"r",W5y)];}q_0.annotations=this.annotationPoints.join((123.1,959) < (8675,502.51)?"382.82" - 0 != (617.95,294.44)?(4.83e+3,![]):0x200:",");return Object.assign({name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,mxSeg:this.maxSegments,show:this.showLines,decor:this.decoration,dx:this.dx,dy:this.dy,trend:this.trend,fld:this.field,fnt:X8.removeNullValues(X8.replaceFields(this.font,{style:"st",size:"sz",weight:"wt",family:H$c}))},q_0);};X8.Drawing.elliottwave.prototype.reconstruct=function(Q4g,y5Y){var L5W;L5W="fa";L5W+="m";L5W+="il";L5W+="y";this.stx=Q4g;this.color=y5Y.col;this.panelName=y5Y.pnl;this.pattern=y5Y.ptrn;this.lineWidth=y5Y.lw;this.font=X8.replaceFields(y5Y.fnt,{st:"style",sz:"size",wt:"weight",fl:L5W});this.decoration=y5Y.decor;this.showLines=y5Y.show;this.dx=y5Y.dx;this.dy=y5Y.dy;this.trend=y5Y.trend;this.field=y5Y.fld;this.annotationPoints=y5Y.annotations.split(",");if(y5Y.decor === "enclosed"){this.calculateRadius(Q4g.chart.tempCanvas.context);}this.maxSegments=y5Y.mxSeg;this.reconstructPoints(y5Y);this.adjust();};X8.Drawing.elliottwave.prototype.reconstructPoints=function(M1k){var I$h,U2a,U38,A5r;I$h=this.stx.panels[this.panelName];if(!I$h){return;}for(var w1y="0" >> 64;w1y < this.annotationPoints.length;w1y++){U2a="tz";U2a+="o";Z9t.T7s(3);this[Z9t.k5y(8490 == (2517,"761.93" * 1)?"v":259.51 != 133.24?"d":8.93e+3,w1y)]=M1k[Z9t.D45("d",w1y)];Z9t.u4X(3);this[Z9t.k5y((9660,5257) > (+"344.04",697.09)?"v":8290 <= (2244,"3643" * 1)?("b","N"):7.53e+3,w1y)]=M1k[Z9t.D45((828.22,849.2) > (6180,7039)?+"0x1c96":7870 == 8232?"b":"v",w1y)];Z9t.T7s(3);this[Z9t.D45("tzo",w1y)]=M1k[Z9t.D45(U2a,w1y)];U38=X8.strToDateTime(M1k["d" + w1y]);A5r=this.stx.tickFromDate(U38,I$h.chart);this.points.push([A5r,M1k[((+"9349","3760" ^ 0) !== (1988,5430)?8860 != (5490,1168)?"v":("k",!!""):("0x18e1" << 64,"f")) + w1y]]);}};X8.Drawing.elliottwave.prototype.calculateRadius=function(u3i){var X8L,p$u;this.getFontString();u3i.font=this.fontString;X8L=0;for(var T5x=0;T5x < this.annotationPoints.length;T5x++){p$u=u3i.measureText(this.annotationPoints[T5x]).width;if(X8L < p$u){X8L=p$u;}}this.enclosedRadius=X8L;};X8.Drawing.elliottwave.prototype.check=function(m8J,P4G,y4W){var j8t,J7F;Z9t.T7s(23);Z9t.Y$C();j8t=this.points[Z9t.k5y(y4W,1,"1")];if(j8t && m8J <= j8t[0]){return !({});}if(y4W === 1 && this.points.length === 2){return !!1;}Z9t.T7s(3);J7F=this.points[Z9t.D45(y4W,1)];if(J7F && m8J >= J7F[0]){return !!0;}if(!S70(this.points)){return ![];}function S70(Y21){for(var D6z=2;D6z < Y21.length;D6z++){if(Math.sign(Y21[D6z][+"1"] - Y21[D6z - 1][1]) == Math.sign(Y21[D6z - +"1"][1] - Y21[D6z - 2][1])){return !!"";}}return !0;}return !"";};X8.Drawing.elliottwave.prototype.move=function(P$P,R9G,t7a){Z9t.r8O();this.copyConfig();Z9t.T7s(85);var Q5s=Z9t.k5y(16,17);this.points[this.lastPoint + Q5s]=[R9G,t7a];this.render(P$P);};X8.Drawing.elliottwave.prototype.adjust=function(){var O_I,k5k;O_I=this.stx.panels[this.panelName];if(!O_I){return;}for(var X6j=0;this.maxSegments + +"1" > X6j;X6j++){Z9t.T7s(3);k5k=this[Z9t.D45((192,"8918" - 0) <= 2173?(431.09,0x73):"d",X6j)];this.setPoint(X6j,k5k,this["v" + X6j],O_I.chart);this.points[X6j][0]=this.stx.tickFromDate(X8.strToDateTime(k5k),O_I.chart);Z9t.u4X(3);this.points[X6j][+"1"]=this[Z9t.D45("v",X6j)];}};X8.Drawing.elliottwave.prototype.click=function(B$T,O9l,o3f){var g_m;g_m=this.stx.panels[this.panelName];if(!g_m){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,O9l,o3f,g_m.chart);this.points.push(this.p0);this.penDown=!!({});this.segment=0;this.lastPoint=0;if(this.impulse){this.annotationPoints=this.annotationPoints.concat(this.impulse);}if(this.corrective){this.annotationPoints=this.annotationPoints.concat(this.corrective);}this.annotationPoints.unshift("0");if(this.decoration === "enclosed"){this.calculateRadius(B$T);}Z9t.T7s(9);var l6E=Z9t.D45(16,0,8,7);this.maxSegments=this.annotationPoints.length - l6E;this.trend=1;return ![];}if(this.accidentalClick(O9l,o3f)){this.penDown=!!({});return !!"";}if(this.check(O9l,o3f,this.lastPoint + 1)){this.lastPoint++;this.setPoint(this.lastPoint,O9l,o3f,g_m.chart);if(this.lastPoint === "1" >> 64){this.trend=Math.sign(this.v1 - this.v0);}this.segment++;if(this.segment >= this.maxSegments){this.penDown=!!0;return !!"1";}}return !1;};X8.Drawing.elliottwave.prototype.render=function(i7c){var h3c,a5Z,C6j,a5b,B4b,i9B,c8a,Y0l,m$v,G1f,k36,O6o,j2y,S0n,v2x,K29,p$e,j2T,r1_,z$U,f0A,L8h,x3U,V3o,q5K,n8E,Y3a,L_b,G$w;h3c=this.stx;a5Z=h3c.panels[this.panelName];C6j=h3c.getYAxisByField(a5Z,this.field);if(!a5Z || this.field && !C6j){return;}C6j=C6j || a5Z.yAxis;a5b=this.annotationPoints;B4b=this.pattern?X8.borderPatternToArray(this.lineWidth,this.pattern):[];this.getFontString();i7c.font=this.fontString;i7c.textAlign="center";i7c.textBaseline="middle";i7c.lineWidth=this.lineWidth;if(this.fontString !== this.lastFontString){this.calculateRadius(i7c);}this.lastFontString=this.fontString;i9B=this.getLineColor();i7c.fillStyle=i7c.strokeStyle=i9B;i7c.save();i7c.setLineDash(B4b);c8a=this.dx;Y0l=this.dy;m$v=this.points;G1f=this.pts;k36=!this.showLines && this.highlighted;O6o=m$v.length;if(this.penDown && this.segment){S0n="h";S0n+="i";S0n+="g";S0n+="h";Z9t.T7s(57);var p$0=Z9t.D45(4,16,14,6);j2y=this.trend * (O6o % ("2" * p$0) - 0.5) < 0;this.drawDropZone(i7c,m$v[O6o - 2][1],C6j[j2y?S0n:"low"],m$v[O6o - +"2"]["0" - 0]);}else if(typeof this.highlighted === "string" && h3c.repositioningDrawing){v2x="l";v2x+="o";v2x+="w";K29=parseInt(this.highlighted.substring(1,this.highlighted.length),10);Z9t.u4X(4);var V3S=Z9t.D45(10,12,0);j2y=this.trend * (K29 % V3S - 0.5) > 0;Z9t.u4X(114);p$e=m$v[Z9t.k5y(0,"1",K29)];Z9t.T7s(3);j2T=m$v[Z9t.k5y(K29,1)];r1_=K29 > 0?p$e[1]:j2T[+"1"];if(j2T){r1_=Math[j2y?"max":"min"](r1_,j2T[+"1"]);}this.drawDropZone(i7c,r1_,C6j[j2y?"high":v2x],p$e?p$e[+"0"]:null,j2T?j2T[0]:null);}for(var w_F=0;w_F < O6o;w_F++){z$U=m$v[w_F];f0A=h3c.pixelFromTick(z$U[0],a5Z.chart);L8h=this.pixelFromValue(a5Z,z$U[+"0"],z$U["1" * 1],h3c.getYAxisByField(a5Z,this.field));G1f[w_F]=[f0A,L8h];}w_F=0;if(this.showLines || k36){i7c.beginPath();if(k36){i7c.globalAlpha=0.3;}for(;w_F < G1f.length;w_F++){i7c.lineTo(G1f[w_F][0],G1f[w_F][1]);}i7c.stroke();w_F=0;}i7c.restore();for(;w_F < O6o;w_F++){x3U=w_F % 2?c8a:-c8a;V3o=w_F % 2?Y0l:-Y0l;x3U*=this.trend;V3o*=this.trend;if(C6j.flipped){Z9t.T7s(10);x3U*=-Z9t.k5y("1",1);V3o*=-1;}q5K=G1f[w_F];Z9t.T7s(13);n8E=q5K[Z9t.D45(0,"2")]=q5K[+"0"] + x3U;Z9t.T7s(57);var Q1m=Z9t.k5y(9,20,0,2);Y3a=q5K[3]=q5K[Q1m] + V3o;L_b=this.enclosedRadius || 8;G$w=a5b[w_F];if(this.decoration === "parentheses"){Z9t.u4X(65);G$w=Z9t.k5y("(",G$w,")");}i7c.fillText(G$w,n8E,Y3a);if(this.decoration === "enclosed"){i7c.beginPath();i7c.arc(n8E,Y3a,L_b,0,2 * Math.PI,![]);i7c.stroke();}if(this.highlighted){i7c.save();this.littleCircle(i7c,this.pts[w_F][0],this.pts[w_F]["1" ^ 0],this.highlighted === ((0.92,+"9042") != 5230?"p":342 === 4996?![]:2510 != ("9830" ^ 0,"2.05" - 0)?!!({}):4.41e+3) + w_F);i7c.restore();}}};X8.Drawing.elliottwave.prototype.reposition=function(V0g,Q$i,d07,Q5q){var u2I,M6H,C6q,H7g,q1S,a9l,D$Y;u2I="d";u2I+="r";u2I+="a";u2I+="g";if(!Q$i){return;}M6H=this.stx.panels[this.panelName];C6q=Q$i.tick - d07;H7g=Q$i.value - Q5q;if(Q$i.action === "move"){for(var n9X=+"0";Q$i.points.length > n9X;n9X++){q1S=Q$i.points[n9X];this.setPoint(n9X,q1S[0] - C6q,q1S[1] - H7g,M6H.chart);Z9t.T7s(115);var N13=Z9t.D45(2,6,1,15,12);this.points[n9X]=[q1S[0] - C6q,q1S["1" * N13] - H7g];}}if(Q$i.action === u2I){a9l=Q$i.point;D$Y=this.points;D$Y[a9l]=[d07,Q5q];if(this.check(d07,Q5q,a9l)){this.setPoint(a9l,d07,Q5q,M6H.chart);;};}this.render(V0g);};X8.Drawing.elliottwave.prototype.intersected=function(Z7z,V5T,z9T){var Q1z,c_Q;Z9t.Y$C();if(!this.p0 || !this.p1){return null;}for(var m6q=0;this.points.length > m6q;m6q++){c_Q=this.points[m6q];if(this.pointIntersection(c_Q[0],c_Q[1],z9T)){Z9t.u4X(3);this.highlighted=Z9t.D45((759.27,7060) === 8100?(1222,9472) <= (474,1030)?!({}):(0x1a5e,"E"):"p",m6q);return {action:"drag",point:m6q,tick:Z7z,value:this.valueOnDrawingAxis(Z7z,V5T)};}if(this.points[m6q + 1] && this.lineIntersection(Z7z,V5T,z9T,"segment",c_Q,this.points[m6q + 1])){this.highlighted=!"";Q1z={action:"move",points:X8.clone(this.points),tick:Z7z,value:this.valueOnDrawingAxis(Z7z,V5T)};}}return Q1z;};X8.Drawing.elliottwave.prototype.measure=function(){var E2A,d$v,Z3a,T46,l_C,A8m,e$x,O36,S5y;if(this.points.length >= 2){E2A=this.points;this.stx.setMeasure(E2A[0]["1" * 1],E2A[E2A.length - 1][1],E2A[0][0],E2A[E2A.length - +"1"]["0" << 0],!!({}));d$v=this.stx.controls.mSticky;Z3a=d$v && d$v.querySelector(".mStickyInterior");if(Z3a){T46=[];T46.push(X8.capitalize("Elliott Wave"));l_C=-167812147;A8m=-1758096836;e$x=2;for(var O3P=1;Z9t.U3Y(O3P.toString(),O3P.toString().length,52857) !== l_C;O3P++){if(this.getYValue){T46.push(this.field || this.stx.defaultPlotField || "Close");}T46.push(Z3a.innerHTML);Z3a.innerHTML=T46.join("<br>");e$x+=2;}if(Z9t.L3M(e$x.toString(),e$x.toString().length,87864) !== A8m){O36="<";O36+="b";O36+="r";O36+=">";S5y="C";S5y+="l";S5y+="os";S5y+="e";if(this.getYValue){T46.push(this.field && this.stx.defaultPlotField && S5y);}T46.push(Z3a.innerHTML);Z3a.innerHTML=T46.join(O36);}}}};X8.Drawing.printProjection=function(d_S,B_W,A7y){var Q_Q,Z$b,O3s,r0C,b5h,C$4,q_$,U$H,A6q,M_N,l_Z,A7L,Y5q,F7G,X2$,q0r;Q_Q=B_W.arr;if(Q_Q.length > 1){Z$b=Q_Q[+"0"][0];O3s=Math.round(d_S.chart.maxTicks * ("0.75" - 0));for(var u97=1;u97 < Q_Q.length;u97++){Z9t.T7s(5);r0C=Q_Q[Z9t.D45(u97,1)][0];b5h=Q_Q[u97][0];C$4=X8.strToDateTime(r0C);q_$=X8.strToDateTime(b5h).getTime();U$H=d_S.standardMarketIterator(C$4);A6q=0;while(C$4.getTime() < q_$){C$4=U$H.next();A6q+=1;}M_N=X8.strToDateTime(r0C).getTime();if(M_N > X8.strToDateTime(A7y[A7y.length - 1].Date).getTime()){Z9t.T7s(116);var p9Q=Z9t.D45(11,13,0,13,12);l_Z=A7y.length - p9Q;A6q+=1;}else {for(l_Z=A7y.length - 1;l_Z >= 0;l_Z--){if(M_N <= X8.strToDateTime(A7y[l_Z].Date).getTime())break;}}A7L={x0:0,x1:A6q,y0:A7y[l_Z].Close,y1:Q_Q[u97]["1" << 64]};Z$b=X8.strToDateTime(r0C);U$H=d_S.standardMarketIterator(Z$b);Y5q=!!"";for(var V4P=0;V4P <= A6q;V4P++){if(!Y5q){Y5q=!!({});}else {Z$b=U$H.next();}if(Z$b.getTime() <= A7y[A7y.length - 1].DT.getTime())continue;F7G=X8.yIntersection(A7L,V4P);if(!F7G){F7G=0;}Z9t.u4X(117);var j7T=Z9t.D45(26000,20000,13,9990);X2$=Math.round(F7G * j7T) / ("10000" - 0);if(X2$ === 0){X2$=Q_Q[u97][1];}q0r={Date:X8.yyyymmddhhmmssmmm(Z$b),DT:Z$b,Open:X2$,Close:X2$,High:X2$,Low:X2$,Volume:"0" * 1,Adj_Close:X2$,Split_Close:X2$,projection:!!"1"};if(d_S.layout.interval == "minute")if(O3s-- < +"0")break;A7y[A7y.length]=q0r;}}}};}};Y=p8K=>{var x4L=l9y8Y;var V4x,T1a,G2d,M$K;V4x=452466631;T1a=1625650045;G2d=2;for(var f49=1;x4L.L3M(f49.toString(),f49.toString().length,42860) !== V4x;f49++){M$K=typeof _CIQ !== "undefined"?_CIQ:p8K.CIQ;G2d+=2;}if(x4L.L3M(G2d.toString(),G2d.toString().length,52921) !== T1a){M$K=+_CIQ === ""?_CIQ:p8K.CIQ;}if(!M$K.computeEquationChart){console.error("equationsAdvanced feature requires first activating equations feature.");}else {M$K.formatEquation=function(N6T){var n56,U3V,C5w,P$M,Z8a;n56="";U3V=[];C5w="";P$M=!"1";for(var P5o=1;P5o < N6T.length;P5o++){Z8a=N6T[P5o];if(Z8a == "[" && !P$M){P$M=!"";}else if(Z8a == ((+"2850","680" ^ 0) != (+"17.25","991.69" * 1)?("9770" << 32,4893) > 221?"]":!"1":("787.71" - 0,597.32)) && P$M){P$M=!1;if(C5w !== ""){U3V.push(C5w);x4L.T7s(65);n56+=x4L.D45("[",C5w,"]");}C5w="";}else if(P$M){C5w+=Z8a;}else if(Z8a == "+" || Z8a == "-" || Z8a == "*" || Z8a == (152 > (8870,37)?"/":(0x7ac,!![])) || Z8a == ":" || Z8a == ((906,5688) !== 5880?"%":199.67) || Z8a == ((2270,+"6368") <= 6545?"(":611) || Z8a == ((8310,116) != (8210,"460.68" - 0)?135.46 < (+"6722",+"9380")?")":0xe9a:("B",6.39e+3))){if(C5w !== "" && isNaN(C5w)){U3V.push(C5w);x4L.u4X(65);n56+=x4L.k5y("[",C5w,(352.76,829.87) != 8160?"]":(2948,7989) > (466.55,"32.71" - 0)?5850 > (4832,"7858" ^ 0)?(8.43e+3,"306.91" * 1):!!"1":("933" >> 32,149.02));}else {n56+=C5w;}if(Z8a == ("248.37" - 0 < 5830?"907.59" * 1 !== (725.67,391)?":":(2.90e+3,+"3.48e+3"):(3.72e+3,206.11))){Z8a=(4871,121) < 402.32?"/":("1.45e+3" << 32,0xdb8);}n56+=Z8a;C5w="";}else if(Z8a != " "){C5w+=Z8a;}}x4L.r8O();if(C5w !== "" && isNaN(C5w)){U3V.push(C5w);x4L.T7s(65);n56+=x4L.D45("[",C5w,"]");}else {n56+=C5w;}return {equation:n56,symbols:U3V};};M$K.fetchEquationChart=function(V9m,B0f){var B2H,i2R,H$Z,o9X,s7r,B8L,u2C,Q8I;B2H=M$K.formatEquation(V9m.symbol);i2R=B2H.symbols;H$Z=[];o9X=V9m.stx;s7r=-831917704;x4L.u4X(44);B8L=-x4L.D45("1367451093",20);u2C=2;for(var Y$v=1;x4L.U3Y(Y$v.toString(),Y$v.toString().length,+"63511") !== s7r;Y$v++){V9m.stx=null;u2C+=2;}if(x4L.L3M(u2C.toString(),u2C.toString().length,3798) !== B8L){x4L.T7s(13);V9m.stx=x4L.k5y(32,"1");}for(var V3n=0;V3n < i2R.length;V3n++){Q8I=M$K.shallowClone(V9m);Q8I.stx=o9X;Q8I.symbol=i2R[V3n];Q8I.symbolObject={symbol:i2R[V3n]};H$Z.push(Q8I);}V9m.stx=o9X;o9X.quoteDriver.multiFetch(H$Z,function(X8j){var I1k,F_J,v$R,n6t,D8r;I1k={};V9m.loadMoreReplace=!!"1";F_J={charge:0};for(var I_T=0;I_T < X8j.length;I_T++){v$R=X8j[I_T];if(v$R.dataCallback.error){B0f({error:v$R.dataCallback.error});return;}I1k[v$R.params.symbol]=v$R.dataCallback.quotes;V9m.loadMoreReplace=V9m.loadMoreReplace && v$R.params.loadMoreReplace;V9m.moreToLoad=V9m.moreToLoad || v$R.dataCallback.moreAvailable;n6t=v$R.dataCallback.attribution;if(n6t){if(n6t.charge){F_J.charge+=n6t.charge;}F_J.source=n6t.source;if(F_J.exchange === undefined){F_J.exchange=n6t.exchange;}else if(F_J.exchange != n6t.exchange){F_J.exchange="";};}}x4L.r8O();if(H$Z.length || !(V9m.loadMore || V9m.update)){try{D8r=M$K.computeEquationChart(B2H.equation,I1k);B0f({quotes:D8r,moreAvailable:V9m.moreToLoad,attribution:F_J});}catch(l4V){var U2s;U2s={error:"Invalid equation: " + B2H.equation};if(l4V.name && l4V.name == "NoException"){U2s.suppressAlert=!!({});}B0f(U2s);}}});};}};o=G3z=>{var N_e=l9y8Y;var h6O,K36;h6O="undef";h6O+="i";h6O+="ned";K36=typeof _CIQ !== h6O?_CIQ:G3z.CIQ;N_e.Y$C();if(!K36.Marker){console.error("highPerformanceMarkers feature requires first activating markers feature.");}else if(!K36.Marker.Performance){K36.ChartEngine.prototype.removeDOMMarker=function(p12){console.warn("CIQ.ChartEngine#removeDOMMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance#remove instead.");K36.Marker.Performance.prototype.removeDOMMarker.call(p12.params.node,p12);};K36.ChartEngine.prototype.drawMarkers=function(){N_e.r8O();console.warn("CIQ.ChartEngine#drawMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.");K36.Marker.Performance.drawMarkers(this);};K36.ChartEngine.prototype.calculateMarkerStyles=function(t4c,K2P){N_e.Y$C();console.warn("CIQ.ChartEngine#calculateMarkerStyles is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.calculateStyles instead.");K36.Marker.Performance.calculateMarkerStyles(this,t4c,K2P);};K36.ChartEngine.prototype.drawCircleMarker=function(K_L,L0g,t_8){var F3L;F3L="CIQ.ChartEngine#drawCircleMarker is scheduled for deprecation in a future releas";F3L+="e\n Please use CIQ.Marker";F3L+=".Performance.drawCircleMarker instead.";N_e.r8O();console.warn(F3L);K36.Marker.Performance.drawCircleMarker(K_L,L0g,t_8);};K36.ChartEngine.prototype.drawSquareMarker=function(A7K,B6Q,w6s){console.warn("CIQ.ChartEngine#drawSquareMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawSquareMarker instead.");K36.Marker.Performance.drawSquareMarker(A7K,B6Q,w6s);};K36.ChartEngine.prototype.drawCalloutMarker=function(P4F,j80,T5A){console.warn("CIQ.ChartEngine#drawCalloutMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCalloutMarker instead.");K36.Marker.Performance.drawCalloutMarker(P4F,j80,T5A);};K36.ChartEngine.prototype.drawMarkerStem=function(v2r,N8r,M2f){var G8O;G8O="CIQ.ChartEngine#drawMarkerStem is scheduled ";G8O+="for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkerStem instead.";console.warn(G8O);K36.Marker.Performance.drawMarkerStem(v2r,N8r,M2f);};K36.ChartEngine.prototype.positionDOMMarkers=function(){console.warn("CIQ.ChartEngine#positionDOMMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.");K36.Marker.Performance.drawMarkers(this);};K36.Marker.Performance=function(L27){var j2d,f6e,h1j,O1E,r$h,N_k,u1i,a6q,M6K,o$8,i2I,N4h;j2d="h";j2d+="4";f6e="<";f6e+="/";f6e+="div";f6e+=">";h1j="</di";h1j+="v";h1j+=">";O1E="<div class";O1E+="=\"s";O1E+="tx-marker-conte";O1E+="nt\">";this.params={displayCategory:!!1,displayStem:!!1,invert:!!0,story:"",headline:""};K36.extend(this.params,L27);r$h=this.template=document.createElement("TEMPLATE");N_e.T7s(118);r$h.innerHTML=N_e.k5y(O1E,"</div>",'<div class="stx-marker highlight">','<div class="stx-stem"></div>','<div class="stx-marker stx-performance-marker stx-marker-expand"><h4></h4><p></p></div>',h1j,f6e,'<div class="stx-visual">');N_k=this.template.content.cloneNode(!"");u1i=N_k.querySelector(".stx-marker");u1i.classList.add(L27.type);u1i.classList.add(L27.category);if(L27.size){u1i.classList.add(L27.size);}a6q=N_k.querySelector(".stx-visual");M6K=N_k.querySelector(".stx-marker-expand");o$8=N_k.querySelector(j2d);i2I=N_k.querySelector(734 <= 174.06?!1:721.87 === 7290?"X":"p");o$8.innerText=this.params.headline;i2I.innerText=this.params.story;this.hasText=!!L27.headline || !!L27.story;N_e.Y$C();this.deferAttach=!!"1";this.node=N_k.firstChild;this.node.params=this.params;this.visual=a6q;this.expand=M6K;if(L27.type === "callout"){N4h=M6K.removeChild(o$8);N_k.querySelector(".stx-marker-content").insertBefore(N4h,M6K);}};K36.inheritsFrom(K36.Marker.Performance,K36.Marker.NodeCreator,![]);K36.Marker.Performance.consolidateExpanded=function(N20){var G5b,u8h,Q9o,E8Q;G5b=N20.markerHelper.highlighted;N_e.Y$C();if(!G5b.length){return;}u8h=N20.activeMarker;if(!u8h.consolidated){u8h.consolidated=[];}for(var b9i=G5b.length - 1;b9i >= 0;b9i--){if(u8h === G5b[b9i])continue;Q9o=v9$(G5b[b9i]);if(Q9o){E8Q="<consolidated><br><br>" + Q9o.innerHTML.replace(/<consolidated>.*<\/consolidated>/g,"") + "</consolidated>";v9$(u8h).innerHTML+=E8Q;}}u8h.stxNodeCreator.quickCache(u8h);function v9$(M6X){var F$8,Q0D;F$8=M6X.params.node;Q0D=F$8.expand;if(!Q0D){return null;}return Q0D.querySelector(".marker_content") || Q0D;}};K36.Marker.Performance.reconstituteExpanded=function(V8_){if(!V8_.markerHelper.highlighted.length || !V8_.activeMarker){return;}Array.from(V8_.activeMarker.params.node.expand.querySelectorAll("consolidated")).forEach(W0x=>{return W0x.remove();});};K36.Marker.Performance.drawMarkers=function(U_G){var v3C,x96,S2C,A0H,f34,w58;v3C=U_G.getMarkerArray("all");x96=U_G.chart;for(var n2q=0;n2q < v3C.length;n2q++){S2C=v3C[n2q];A0H=S2C.stxNodeCreator;f34=x96.dataSegment["0" >> 64].tick;w58=x96.dataSegment[x96.dataSegment.length - ("1" << 64)].tick;if(f34 <= S2C.tick <= w58){if(A0H && A0H.drawMarker){A0H.drawMarker(S2C);}}}};K36.Marker.Performance.calculateMarkerStyles=function(q46,S8w,f5r){var p0X,R1X,b4H,n9f,L7U,D9z,X3y,b$Y;p0X=q46.container.ownerDocument;R1X=p0X.querySelector(".stx-marker-templates");if(!R1X){b4H="h";b4H+="id";b4H+="den";R1X=document.createElement("DIV");R1X.style.visibility=b4H;R1X.style.left="-1000px";p0X.body.append(R1X);}R1X.appendChild(S8w.node);n9f=getComputedStyle(S8w.stxNodeCreator.visual);if(!q46.styles.stx_marker_stem){L7U=-183764548;D9z=852716217;X3y=+"2";for(var k5N=1;N_e.L3M(k5N.toString(),k5N.toString().length,83911) !== L7U;k5N++){b$Y=getComputedStyle(S8w.node.querySelector(".stx-stem"));q46.styles.stx_marker_stem=q46.cloneStyle(b$Y);N_e.u4X(13);X3y+=N_e.D45(64,"2");}if(N_e.U3Y(X3y.toString(),X3y.toString().length,81963) !== D9z){b$Y=getComputedStyle(S8w.node.querySelector(""));q46.styles.stx_marker_stem=q46.cloneStyle(b$Y);}}q46.styles[f5r]=q46.cloneStyle(n9f);R1X.removeChild(S8w.node);};K36.Marker.Performance.drawCircleMarker=function(O1C,V42,X83){var q$H,F9R,c8z,X4n,H7S,z77,T9C,p20,k6M,X3p,S9n;q$H=O1C.params.stx;F9R=q$H.chart;c8z=F9R.context;X4n=X83.x;H7S=X83.y;z77=X83.radius;T9C=X83.label;p20=X83.color?X83.color:V42.backgroundColor;c8z.save();c8z.beginPath();c8z.setLineDash([]);c8z.lineWidth=1;c8z.fillStyle=p20;c8z.strokeStyle=p20;c8z.textAlign="center";N_e.u4X(119);var n4x=N_e.k5y(22,2,15,16);N_e.T7s(3);var D49=N_e.D45(1,1);N_e.u4X(85);var G5X=N_e.k5y(11,12);c8z.font="normal bold " + Math.min(n4x,D49 * (z77 + G5X)) + "px Roboto, Helvetica, sans-serif";c8z.arc(X4n,H7S,z77,0,2 * Math.PI,!1);c8z.fill();c8z.stroke();c8z.closePath();if(T9C){c8z.fillStyle=K36.chooseForegroundColor(c8z.fillStyle);k6M=-2044715141;X3p=1123089096;S9n=2;for(var N9k=1;N_e.U3Y(N9k.toString(),N9k.toString().length,80978) !== k6M;N9k++){N_e.u4X(89);c8z.fillText(T9C,X4n,N_e.k5y("4",32,H7S));S9n+=+"2";}if(N_e.U3Y(S9n.toString(),S9n.toString().length,93125) !== X3p){N_e.T7s(3);c8z.fillText(T9C,X4n,N_e.D45(H7S,1));}}if(O1C.highlight || O1C.active){if(K36.isTransparent(p20)){c8z.strokeStyle=q$H.defaultColor;}c8z.beginPath();N_e.T7s(86);c8z.arc(X4n,H7S,N_e.D45("4",z77),0,2 * Math.PI,![]);c8z.stroke();c8z.closePath();}c8z.restore();};K36.Marker.Performance.drawSquareMarker=function(J4Z,G4c,X$g){var f1H,H5P,t6b,G1t,W54,m6X,G59,L3a,r9P,l40,F3F;f1H=J4Z.params.stx;H5P=f1H.chart;t6b=H5P.context;G1t=X$g.x;W54=X$g.y;m6X=X$g.half;G59=X$g.label;L3a=X$g.color?X$g.color:G4c.backgroundColor;N_e.u4X(10);r9P=N_e.k5y(m6X,2);t6b.setLineDash([]);t6b.lineWidth=1;t6b.fillStyle=L3a;t6b.strokeStyle=L3a;t6b.save();t6b.beginPath();if(J4Z.node.params.type === "diamond"){t6b.translate(G1t,W54);t6b.rotate(Math.PI / 4);t6b.translate(-G1t,-W54);m6X/=1.42;N_e.u4X(10);r9P=N_e.D45(m6X,2);}N_e.u4X(5);t6b.fillRect(N_e.D45(G1t,m6X),N_e.k5y(W54,m6X),r9P,r9P);if(J4Z.highlight || J4Z.active){N_e.T7s(75);t6b.strokeRect(N_e.k5y(G1t,m6X,4),N_e.k5y(W54,m6X,4,N_e.u4X(75)),N_e.k5y(r9P,8,N_e.T7s(3)),N_e.k5y(r9P,8,N_e.u4X(3)));}t6b.closePath();t6b.restore();if(G59){l40="nor";l40+="m";l40+="al ";l40+="bold ";F3F="cen";F3F+="t";F3F+="er";t6b.save();t6b.textAlign=F3F;N_e.T7s(8);var z3w=N_e.D45(0,7,9);t6b.font=l40 + Math.min(+"12",z3w * m6X) + "px Roboto, Helvetica, sans-serif";t6b.fillStyle=K36.chooseForegroundColor(t6b.fillStyle);N_e.u4X(3);t6b.fillText(G59,G1t,N_e.D45(W54,1));t6b.restore();}};K36.Marker.Performance.drawCalloutMarker=function(m8W,s1P,i0N){var S8A,a0o,t2V,h_N,s$3,c6K,g_Y,g6g,W$9,x6p,i7I,h1f,W4f,H36,D8o;S8A="rgba(";S8A+="255,";S8A+="255,255,0.8)";a0o=m8W.params.stx;t2V=a0o.chart;N_e.r8O();h_N=t2V.context;s$3=m8W.params;c6K=i0N.x;g_Y=i0N.y;g6g=i0N.half;W$9=i0N.midWidth;x6p=i0N.headline;i7I=i0N.color?i0N.color:s1P.backgroundColor;h1f=g6g * 2 || 25;W4f=Math.round(h_N.measureText(x6p).width);H36=W$9?W$9 * 2:W4f + 8;h_N.beginPath();h_N.setLineDash([]);h_N.lineWidth=1;h_N.fillStyle=i7I;h_N.strokeStyle=i7I;h_N.font="normal bold 12px Roboto, Helvetica, sans-serif";h_N.rect(s$3.box.x0,s$3.box.y0,H36,h1f);h_N.fill();h_N.stroke();h_N.closePath();h_N.beginPath();h_N.fillStyle=m8W.highlight || m8W.active?S8A:"rgba(255,255,255,0.65)";N_e.T7s(120);D8o=N_e.D45(H36,W4f,2,20);h_N.rect(s$3.box.x0 + D8o,g_Y - g6g,W4f + +"40",22);h_N.fill();h_N.stroke();h_N.closePath();h_N.fillStyle="black";h_N.fillText(x6p,s$3.box.x0 + D8o + ("10" - 0),g_Y);};K36.Marker.Performance.drawMarkerStem=function(C$p,N8n,J8I){var U$$,W_7,w3I,j6u,R0M,B5H,H6L,V77;U$$=C$p.params.stx;W_7=U$$.chart;w3I=W_7.context;j6u=J8I.x;R0M=J8I.y;w3I.beginPath();w3I.strokeStyle=N8n.borderLeftColor;w3I.setLineDash([+"1",+"1"]);B5H=K36.stripPX(N8n.height);H6L=J8I.invert?C$p.params.box.y0:C$p.params.box.y1;V77=J8I.invert?C$p.params.box.y0 - B5H:C$p.params.box.y1 + B5H;w3I.moveTo(j6u,H6L);w3I.lineTo(j6u,V77);w3I.stroke();w3I.closePath();};K36.Marker.Performance.prototype.drawMarker=function(p15){var J2x,T1P,V12,t5M,M1H,U_B,O4s,K_G,T7P,W9I,X6u,W56,o8h,K1n,k62,N_W,g$k,c1U,R76,o2V,S3M,E13,F0I,G1p,t2b,j92;J2x="c";J2x+="i";J2x+="rcl";N_e.Y$C();J2x+="e";T1P=p15.params;V12=p15.params.stx;if(!V12){return;}t5M=V12.chart;M1H=t5M.dataSegment;if(!M1H || !M1H.length){return;}U_B=V12.panels[p15.params.panelName];if(U_B.hidden){return;}O4s=p15.params.yAxis || U_B.yAxis;K_G=p15.stxNodeCreator.params;if(K_G.hide){return;}T7P=K_G.type;W9I=K_G.category;X6u=K_G.headline;W56=K_G.displayCategory;o8h=K_G.color;K1n=K_G.displayLabel;k62=K_G.invert;N_W=K_G.size;if(o8h === "auto"){o8h=V12.defaultColor;}N_e.T7s(83);g$k=N_e.k5y(9746 == 713.43?(1039,3530) != (4776,2689)?(272.26,9310) !== (6173,1452)?+"0x26ad":7.08e+3:(![],5.59e+3):"_","stx_marker_",T7P,W9I);if(N_W){N_e.u4X(3);g$k+=N_e.D45(6360 < (5050,+"7600")?920 !== 811.26?"_":("N",+"0x19d"):("V",2.24e+3),N_W);}if(!V12.styles[g$k]){K36.Marker.Performance.calculateMarkerStyles(V12,p15,g$k);}c1U=p15.style=V12.styles[g$k];R76=V12.styles.stx_marker_stem;N_e.T7s(117);var J2B=N_e.D45(1100,100,11,9);N_e.T7s(4);var w4n=N_e.D45(8,2,8);o2V=parseInt(c1U.height,J2B) / w4n;N_e.u4X(93);var e7j=N_e.D45(140,7,2,145,20);N_e.u4X(21);var I$7=N_e.k5y(2,6,38,12);S3M=parseInt(c1U.width,e7j) / I$7;if(T7P === "diamond"){o2V*=1.42;S3M*=+"1.42";}E13=K_G.displayStem?parseInt(R76.height,10) + parseInt(R76.marginBottom,"10" ^ 0):0;N_e.T7s(99);F0I=N_e.k5y(o2V,2,E13);G1p=T1P.offset || 0;t2b=V12.pixelFromTick(p15.tick);j92=T1P.node.calculateYPosition({marker:p15,panel:U_B,yAxis:O4s,height:F0I,half:o2V,offset:G1p,stemHeight:E13,inverted:k62,field:T1P.field,x:t2b});if(!p15.tick && p15.tick !== 0){return;}T1P.box={x0:t2b - (S3M || o2V),y0:j92 - o2V,x1:t2b + (S3M || o2V),y1:j92 + o2V,midY:o2V,midX:S3M || o2V,stemHeight:E13};if(!W56){W9I="";}else {W9I=W9I[0].toUpperCase();}V12.startClip(U_B.name);if(T7P === J2x){K36.Marker.Performance.drawCircleMarker(p15,c1U,{x:t2b,y:j92,radius:o2V,label:K1n || W9I,color:o8h});}else if(T7P === "square" || T7P === "diamond"){K36.Marker.Performance.drawSquareMarker(p15,c1U,{x:t2b,y:j92,half:o2V,label:K1n || W9I,color:o8h});}else if(T7P === "callout"){K36.Marker.Performance.drawCalloutMarker(p15,c1U,{x:t2b,y:j92,half:o2V,midWidth:S3M,headline:X6u,color:o8h});}else {N_e.T7s(65);console.warn(N_e.k5y("Marker type: ",T7P," is unsupported with canvas markers!\nSupported Styles are Square, Diamond, Circle, and Callout."));}if(K_G.displayStem){K36.Marker.Performance.drawMarkerStem(p15,R76,{x:t2b,y:j92,invert:k62});}V12.endClip();if(p15.attached){this.positionPopUpNode(p15);}};K36.Marker.Performance.prototype.positionPopUpNode=function(n0x){var m$A,V41,B_K,Y9X,B_2,J4O,F6D,k20,A6w,l$o,x1u,I5H,I8L,S8N,R3C,f8z,l8o,c5V,m5x,w$Y,N9L,k1O;m$A="px) tra";N_e.Y$C();m$A+="nslateY";m$A+="(";V41="hi";V41+="dde";V41+="n";if(!n0x.attached || !n0x.params.box){return;}B_K=n0x.params;Y9X=B_K.stx;B_2=B_K.box;J4O=n0x.params.node.expand;F6D=Y9X.chart.dataSet;k20=Y9X.chart.dataSegment;A6w=Y9X.panels[B_K.panelName];if(n0x.tick){x1u="D";x1u+="a";x1u+="t";x1u+="e";I5H=[F6D[k20[0] && k20[0].tick - ("1" >> 32)],F6D[k20[0] && k20[0].tick - 2]];I8L=Y9X.getFirstLastDataRecord(I5H.concat(k20),x1u);N_e.T7s(57);var w6a=N_e.D45(0,9,13,22);N_e.T7s(85);var e8N=N_e.k5y(16,18);S8N=[F6D[k20[k20.length - ("1" ^ 0)].tick + ("1" << 0)],F6D[k20[k20.length - w6a].tick + e8N]];R3C=Y9X.getFirstLastDataRecord(k20.concat(S8N),"Date",!"");l$o=I8L.DT <= F6D[n0x.tick].DT && F6D[n0x.tick].DT <= R3C.DT && n0x.params.box.y0 <= A6w.yAxis.bottom && n0x.params.box.y1 >= A6w.yAxis.top;}else {l$o=!!"";}if(!n0x.highlight && !n0x.active){l$o=!"1";}J4O.style.visibility=l$o?"":V41;if(!l$o){return;}if(J4O.style.height !== ""){J4O.style.height="";}f8z=J4O.rects;N_e.u4X(121);var R6e=N_e.k5y(0,8,4,19,610);l8o=f8z.height / R6e;m5x=n0x.node.params.infoOffset || 0;if(n0x.node.params.infoOnLeft){c5V=B_2.x0 - f8z.width - m5x < A6w.left?B_2.x1 + m5x:B_2.x0 - f8z.width - m5x;}else {c5V=B_2.x0 + f8z.width > A6w.right?B_2.x0 - f8z.width - m5x:B_2.x1 + m5x;}c5V-=Y9X.chart.left;w$Y=B_K.avoidFlush?5:0;N9L=B_2.y0 - l8o >= A6w.yAxis.top?B_2.y0 + B_2.midY - l8o:A6w.yAxis.top + w$Y;if(!B_K.avoidFlush && B_2.y1 + B_2.stemHeight === A6w.yAxis.bottom && f8z.height > B_2.y1 - B_2.y0 + B_2.stemHeight){N9L=B_2.y1 - f8z.height + B_2.stemHeight;}if(B_2.y1 + l8o > A6w.yAxis.bottom){N9L=A6w.yAxis.bottom - f8z.height - w$Y;}if(f8z.height > A6w.yAxis.height){N9L=A6w.yAxis.top + w$Y;N_e.T7s(8);var N$w=N_e.D45(12,27,17);J4O.style.height=A6w.yAxis.height - N$w * w$Y + "px";}N9L-=A6w.yAxis.top;k1O="translateX(" + Math.floor(c5V) + m$A + Math.floor(N9L) + "px) translateZ(0)";J4O.style.transform=k1O;J4O.transform={translateX:c5V,translateY:N9L};};K36.Marker.Performance.prototype.quickCache=function(L0v){var Z_m,J6_,T8m,X36;Z_m=L0v.params.node;J6_=Z_m.expand;T8m=L0v.style;X36=K36.stripPX(T8m.marginLeft) + K36.stripPX(T8m.marginRight) + K36.stripPX(T8m.borderRight) + K36.stripPX(T8m.borderLeft);N_e.Y$C();J6_.rects=J6_.getBoundingClientRect();J6_.scrollBarWidth=J6_.rects.width - J6_.clientWidth - X36;};K36.Marker.Performance.prototype.calculateYPosition=function(D$4){var S_M,I0f,d0R,p6R,o6t,C6k,r4w,H_r,X7G,o9T,X8O,A44,T25,V3R,b08,n__,e9k,h8K,L1R,z7z,A5t,w07,N4N,B5j,K8z;S_M="bott";S_M+="om";I0f="abov";I0f+="e_";I0f+="c";I0f+="andle";d0R=D$4.marker;p6R=D$4.panel;o6t=D$4.yAxis;C6k=D$4.height;r4w=D$4.half;H_r=D$4.offset;X7G=D$4.stemHeight;o9T=D$4.inverted;X8O=D$4.field;A44=d0R.params.stx;T25=A44.chart;V3R=A44.chart.highLowBars;b08=T25.dataSet[d0R.tick];if(!b08){return;}if(X8O){b08=b08[X8O];}if(!b08){return;}if(typeof b08 === "number"){b08={Close:b08};b08[T25.defaultPlotField]=b08.Close;V3R=!!0;}n__=A44.getBarBounds(b08,!!X8O);e9k=V3R?n__[o6t.flipped?"low":"high"]:b08[T25.defaultPlotField];h8K=V3R?n__[o6t.flipped?"high":"low"]:b08[T25.defaultPlotField];L1R=d0R.params.yPositioner;if(isNaN(e9k)){e9k=(o6t.high + o6t.low) / +"2";}if(isNaN(h8K)){N_e.u4X(122);var x3Q=N_e.k5y(20,8,4,0,5);h8K=(o6t.high + o6t.low) / x3Q;}A5t=0;if(L1R != "none"){N_e.u4X(123);var R7W=N_e.D45(16,240,17,19,4);w07=L1R.indexOf("_lane") > R7W;N4N=A44.markerHelper.placementMap;N_e.T7s(62);var q9V=N_e.D45(12,6,19);N_e.u4X(4);var X0n=N_e.D45(14,19,1345);N_e.T7s(5);var U2y=N_e.D45(7288,19);N_e.T7s(66);var V5S=N_e.D45(1897,1,16);N_e.u4X(1);var x6C=N_e.k5y(97489,1,92358);N_e.u4X(5);var E0H=N_e.D45(3423,19);N_e.T7s(5);var D0G=N_e.D45(47845,38276);B5j=L1R + ("665" * q9V == (X0n,U2y)?V5S:x6C > (E0H,82.32)?"|":D0G) + p6R.name;if(w07 && typeof N4N[B5j] == "undefined"){N_e.u4X(0);N4N[B5j]=N_e.D45(32,"2");}K8z=B5j + "-" + (w07?d0R.params.label:D$4.x);if(typeof N4N[K8z] == "undefined"){N4N[K8z]=w07?N4N[B5j]:0;N_e.u4X(3);N4N[B5j]+=N_e.k5y(C6k,2);}A5t=N4N[K8z];if(!w07){N_e.u4X(124);N4N[K8z]+=N_e.D45("1",64,C6k);}}switch(L1R){case "value":if(d0R.params.y || d0R.params.y === 0){z7z=A44.pixelFromPrice(d0R.params.y,p6R,o6t) - C6k * ("0.5" - 0) + r4w;break;}case I0f:z7z=A44.pixelFromPrice(e9k,p6R,o6t) - r4w - (!o9T && X7G || H_r) - A5t;break;case "below_candle":z7z=A44.pixelFromPrice(h8K,p6R,o6t) + r4w + (o9T && X7G || H_r) + A5t;break;case "on_candle":N_e.T7s(43);var i9r=N_e.D45(12,12,3);z7z=A44.pixelFromPrice((e9k + h8K) / i9r,p6R,o6t) - C6k * 0.5 + r4w;break;case "top":case "top_lane":z7z=p6R.yAxis.top + r4w + (o9T && X7G || H_r) + A5t;break;case S_M:case "bottom_lane":z7z=p6R.yAxis.bottom - r4w - (!o9T && X7G || H_r) - A5t;break;default:break;}N_e.T7s(1);var G$T=N_e.k5y(24,12,0);N_e.u4X(5);var b2b=N_e.k5y(9,7);return Math.round(G$T * z7z) / b2b;};K36.Marker.Performance.prototype.prepareForHolder=function(e0t){var e0A,h$j;e0A=this.expand;N_e.r8O();h$j=e0t.params.stx;e0A.classList.add(this.params.type);e0A.classList.add(this.params.category);h$j.markerHelper.domMarkers.push(e0t);return e0A;};K36.Marker.Performance.prototype.addToHolder=function(p_t){var a5t,d8F,C7u,e9Y;a5t="tou";a5t+="chsta";a5t+="rt";d8F="moused";d8F+="own";C7u=this.expand;e9Y=p_t.params.stx;K36.Marker.Performance.reconstituteExpanded(e9Y);K36.Marker.Performance.consolidateExpanded(e9Y);this.quickCache(p_t);if(C7u.clickClosure){return;}C7u.addEventListener(d8F,v8R);C7u.addEventListener(a5t,v8R,{passive:!!""});C7u.clickClosure=v8R;function v8R(z66){e9Y.activeMarker=p_t;e9Y.activeMarker.click({cx:z66.clientX,cy:z66.clientY,panel:e9Y.currentPanel});z66.stopPropagation();}};K36.Marker.Performance.prototype.remove=function(u3x){var f9T,b$j,y9s,K9G;f9T=u3x.params.stx;if(!f9T){return;}if(!f9T.markerHelper.domMarkers){return;}b$j=f9T.markerHelper.domMarkers.indexOf(u3x);if(b$j != -1){N_e.u4X(13);f9T.markerHelper.domMarkers.splice(b$j,N_e.D45(64,"1"));}if(u3x.attached){y9s=f9T.panels[u3x.params.panelName];K9G=u3x.params.node.expand;if(K9G.parentNode === y9s.subholder){y9s.subholder.removeChild(K9G);}K9G.removeEventListener("click",K9G.clickClosure);}};K36.Marker.Performance.prototype.click=function(l4Z){var E_5,h7K,W3e,F73,N8U,e9C;N_e.Y$C();if(!this.hasText){return;}if(arguments.length > 1){l4Z={cx:arguments[0],cy:arguments[+"1"],marker:arguments[+"2"],panel:arguments[3]};}var {cx:S8G, cy:a1w, marker:O$o, panel:h6b}=l4Z;E_5=O$o.params.stx;if(O$o.attached){W3e=1066015995;F73=413559663;N8U=2;for(var k_D=1;N_e.U3Y(k_D.toString(),k_D.toString().length,1984) !== W3e;k_D++){e9C=this.expand;N8U+=2;}if(N_e.L3M(N8U.toString(),N8U.toString().length,1582) !== F73){e9C=this.expand;}if(e9C.rects && e9C.transform && e9C.rects.width - e9C.scrollBarWidth + e9C.transform.translateX < E_5.backOutX(S8G) && E_5.backOutX(S8G) < e9C.rects.width + e9C.transform.translateX){return;}this.remove(O$o);}else {E_5.addToHolder(O$o);h7K=!!1;}O$o.attached=!O$o.attached;O$o.active=!O$o.active;if(h7K){O$o.stxNodeCreator.positionPopUpNode(O$o);}};}};G=M7Y=>{var Z9T=l9y8Y;var J5X,E9P;J5X="unde";J5X+="f";J5X+="in";J5X+="ed";E9P=typeof _CIQ !== J5X?_CIQ:M7Y.CIQ;E9P.Renderer.OHLC.requestNew=function(B1i,v$b){var K0i,G9g,u3H,T45,D4x,X1G,u9G,f8Q,I0E,F4y;K0i=null;G9g=v$b.hlc;u3H=v$b.colored;T45=v$b.hollow;D4x=v$b.volume;X1G=v$b.histogram;for(var C_z=0;C_z < B1i.length;C_z++){u9G="vol";u9G+="ume";f8Q="ca";f8Q+="nd";f8Q+="le";I0E=B1i[C_z];switch(I0E){case "bar":case f8Q:K0i=I0E;break;case u9G:D4x=!!"1";break;case "hollow":T45=!![];break;case "colored":u3H=!![];break;case "histogram":X1G=!!({});K0i="candle";break;case "hlc":F4y="b";F4y+="ar";G9g=!0;K0i=F4y;break;default:return null;}}if(K0i === null){return null;}return new E9P.Renderer.OHLC({params:E9P.extend(v$b,{type:K0i,hlc:G9g,colored:u3H,hollow:T45,volume:D4x,histogram:X1G})});};E9P.Renderer.OHLC.getChartParts=function(p7c,p8i){var I$B,y4m,S$2,D8E,j7G,G4z,k7Z,q7j,x2L,l0k,n2j,c1k,U2o,g8w,d6q,l4c,E_P,M6E,l1l,E0R,w7j,b9Y,N51,E2C,v57,k1l,r7o,y6d,f9R,E30,H$1,G6l,x94,i8M,w5W,d2W,f9m,X2A;I$B="border_c";I$B+="olor_ev";I$B+="en";y4m="bo";y4m+="rde";y4m+="r_col";y4m+="or_down";S$2="candl";S$2+="e";D8E="holl";D8E+="o";D8E+="w";j7G="fill_";j7G+="color_";j7G+="eve";j7G+="n";G4z="ca";G4z+="n";G4z+="dle";k7Z="stx_hollow_";k7Z+="c";k7Z+="andle_";k7Z+="down";q7j="bo";q7j+="rder_col";q7j+="or_";q7j+="up";x2L="c";x2L+="and";x2L+="le";l0k="border_";l0k+="color";l0k+="_even";n2j="stx_hol";n2j+="l";n2j+="o";n2j+="w_candle_even";c1k="b";c1k+="order_co";c1k+="lor_down";U2o="sha";U2o+="dow";g8w="h";g8w+="ol";g8w+="lo";g8w+="w";d6q="bo";d6q+="rde";d6q+="r_color_";d6q+="up";l4c="h";l4c+="ol";l4c+="l";l4c+="ow";E_P="fill_";E_P+="co";E_P+="lor_";E_P+="up";M6E="stx_candle_";M6E+="up";l1l="borde";l1l+="r_colo";l1l+="r_d";l1l+="own";E0R="ca";E0R+="nd";E0R+="le";w7j="border_";w7j+="color_up";b9Y="stx_candl";b9Y+="e_shadow_up";N51="stx_bar_";N51+="ev";N51+="e";N51+="n";E2C="s";E2C+="t";E2C+="x_b";E2C+="ar_up";v57="b";v57+="a";v57+="r";k1l="border_co";k1l+="lor";r7o="ba";r7o+="r";y6d="border_color_ev";y6d+="en";f9R="stx";f9R+="_histo";f9R+="gram_e";f9R+="ven";E30="stx_hi";E30+="stogram_do";E30+="w";E30+="n";H$1="histog";H$1+="ram";G6l="his";G6l+="t";G6l+="ogram";x94=1;i8M=2;w5W=4;d2W=8;f9m=+"16";X2A=32;return [{type:G6l,drawType:"histogram",style:"stx_histogram_up",condition:d2W,fill:"fill_color_up",border:"border_color_up",useColorInMap:!!"1",useBorderStyleProp:!!({})},{type:H$1,drawType:"histogram",style:E30,condition:f9m,fill:"fill_color_down",border:"border_color_down",useColorInMap:!0,useBorderStyleProp:!![]},{type:"histogram",drawType:"histogram",style:f9R,condition:X2A,fill:"fill_color_even",border:y6d,skipIfPass:!![],useColorInMap:!!1,useBorderStyleProp:!""},{type:r7o,drawType:"bar",style:p7c || "stx_bar_chart",border:k1l,useColorInMap:!![]},{type:v57,drawType:"bar",style:E2C,condition:p8i?d2W:x94,border:"border_color_up",useColorInMap:!0},{type:"bar",drawType:"bar",style:"stx_bar_down",condition:p8i?f9m:i8M,border:"border_color_down",useColorInMap:!!1},{type:"bar",drawType:"bar",style:N51,condition:p8i?X2A:w5W,border:"border_color_even",skipIfPass:!!"1",useColorInMap:!!"1"},{type:"candle",drawType:"shadow",style:"stx_candle_shadow",border:"border_color_up"},{type:"candle",drawType:"shadow",style:b9Y,condition:d2W,border:w7j},{type:E0R,drawType:"shadow",style:"stx_candle_shadow_down",condition:f9m,border:l1l},{type:"candle",drawType:"shadow",style:"stx_candle_shadow_even",condition:X2A,border:"border_color_even",skipIfPass:!""},{type:"candle",drawType:"candle",style:M6E,condition:d2W,fill:E_P,border:"border_color_up",useColorInMap:!![],useBorderStyleProp:!""},{type:"candle",drawType:"candle",style:"stx_candle_down",condition:f9m,fill:"fill_color_down",border:"border_color_down",useColorInMap:!!1,useBorderStyleProp:!!1},{type:l4c,drawType:"shadow",style:"stx_hollow_candle_up",condition:x94,border:d6q},{type:g8w,drawType:U2o,style:"stx_hollow_candle_down",condition:i8M,border:c1k},{type:"hollow",drawType:"shadow",style:n2j,condition:w5W,border:l0k,skipIfPass:!!1},{type:"hollow",drawType:x2L,style:"stx_hollow_candle_up",condition:x94 | f9m,fill:"fill_color_up",border:q7j,useColorInMap:!""},{type:"hollow",drawType:"candle",style:k7Z,condition:i8M | f9m,fill:"fill_color_down",border:"border_color_down",useColorInMap:!![]},{type:"hollow",drawType:G4z,style:"stx_hollow_candle_even",condition:w5W | f9m,fill:j7G,border:"border_color_even",skipIfPass:!0,useColorInMap:!![]},{type:D8E,drawType:S$2,style:"stx_hollow_candle_up",condition:x94 | d2W,fill:"fill_color_up",border:"border_color_up"},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_down",condition:i8M | d2W,fill:"fill_color_down",border:y4m},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_even",condition:w5W | d2W,fill:"fill_color_even",border:I$B}];;};E9P.Renderer.Bars=function(M6d){var h_x,v_q;h_x="b";h_x+="a";h_x+="r";this.construct(M6d);v_q=this.params;v_q.type=h_x;this.highLowBars=this.barsHaveWidth=this.standaloneBars=!!"1";v_q.hlc=v_q.volume=v_q.hollow=v_q.histogram=!({});};E9P.inheritsFrom(E9P.Renderer.Bars,E9P.Renderer.OHLC,!!"");E9P.Renderer.HLC=function(m_0){var T8P;this.construct(m_0);T8P=this.params;T8P.type="bar";T8P.hlc=!![];Z9T.Y$C();this.highLowBars=this.barsHaveWidth=this.standaloneBars=!!1;T8P.volume=T8P.hollow=T8P.histogram=!"1";};Z9T.r8O();E9P.inheritsFrom(E9P.Renderer.HLC,E9P.Renderer.Bars,!!0);E9P.Renderer.Shading=function(b2L){this.construct(b2L);this.beenSetup=!!0;this.errTimeout=null;this.params.useChartLegend=!!0;this.shading=[];if(this.params.type == "rangechannel"){this.highLowBars=!!({});}};E9P.inheritsFrom(E9P.Renderer.Shading,E9P.Renderer.Lines,!({}));E9P.Renderer.Shading.requestNew=function(L5s,G9C){var t7Q,H0k,q6g,l8p;t7Q=null;H0k=null;for(var b2t=0;b2t < L5s.length;b2t++){q6g="ran";q6g+="gechan";q6g+="n";q6g+="el";l8p=L5s[b2t];if(l8p == "rangechannel"){t7Q=q6g;}else if(l8p == "step"){H0k=!"";}}if(t7Q === null){return null;}return new E9P.Renderer.Shading({params:E9P.extend(G9C,{type:t7Q,step:H0k})});};E9P.Renderer.Shading.prototype.setShading=function(c3g){Z9T.Y$C();if(c3g.constructor != Array){c3g=[c3g];}this.shading=c3g;};E9P.Renderer.Shading.prototype.draw=function(){var H4p,T2R,m9I,t4u,P81,w5Z,f3Z,X2E,m89,Y1k,M3D,s73,R6s,m0G,O2Y,z$E,v2W,L$B,s7m,C9y,L9Z,G_P,s1D,N4E;H4p=this.stx;T2R=this.params;m9I=H4p.panels[T2R.panel].chart;if(T2R.type == "rangechannel"){if(this.beenSetup){if(this.seriesParams.length > 2){this.removeSeries(this.seriesParams[2].id);}}else {t4u="L";t4u+="o";t4u+="w";this.beenSetup=!![];T2R.display=this.seriesParams[0].display;T2R.yAxis=this.seriesParams[0].yAxis;P81=this.seriesParams[0].color || "auto";w5Z=this.seriesParams[0].symbol;f3Z="";if(w5Z){Z9T.T7s(3);f3Z=Z9T.k5y(w5Z,(5100,573) == (3674,443.68)?(![],1.32e+3):".");}this.removeAllSeries(!"");X2E=T2R.name;H4p.addSeries(null,{symbol:w5Z,loadData:!!w5Z,field:"High",renderer:"Shading",name:X2E,style:"stx_line_up",display:T2R.display,shareYAxis:!!({})});H4p.addSeries(null,{symbol:w5Z,loadData:!!w5Z,field:t4u,renderer:"Shading",name:X2E,style:"stx_line_down",display:T2R.display,shareYAxis:!!({})});this.setShading({primary:this.seriesParams[0].id,secondary:this.seriesParams[1].id,color:P81});}}if(!this.shading){if(!this.errTimeout){m89="W";m89+="arning: no shading scheme set.  Use myRenderer.setShading(scheme) to set.";console.log(m89);Y1k=this;this.errTimeout=setTimeout(function(){Z9T.Y$C();Y1k.errTimeout=null;},10000);}}M3D={};for(s73=0;s73 < this.seriesParams.length;s73++){R6s={};if(m9I.series[this.seriesParams[s73].id]){R6s=E9P.clone(m9I.series[this.seriesParams[s73].id].parameters);}M3D[this.seriesParams[s73].id]={parameters:E9P.extend(E9P.extend(R6s,T2R),this.seriesParams[s73]),yValueCache:this.caches[this.seriesParams[s73].id]};}H4p.drawSeries(m9I,M3D,T2R.yAxis,this);if(m9I.legend && T2R.type == "rangechannel"){if(!m9I.legend.colorMap){m9I.legend.colorMap={};}m0G=T2R.display;O2Y=[H4p.getCanvasColor("stx_line_up"),H4p.getCanvasColor("stx_line_down")];m9I.legend.colorMap[m0G]={color:O2Y,display:m0G,isBase:this == H4p.mainSeriesRenderer};;}for(s73 in M3D){this.caches[s73]=M3D[s73].yValueCache;}for(s73=0;s73 < this.shading.length;s73++){z$E="Cl";z$E+="o";z$E+="s";z$E+="e";v2W="Cl";v2W+="o";v2W+="s";v2W+="e";L$B="C";L$B+="l";L$B+="o";L$B+="se";s7m="a";s7m+="u";s7m+="to";C9y=this.shading[s73];L9Z=C9y.color;if(C9y.color == s7m){L9Z=H4p.defaultColor;}if(!C9y.primary){C9y.primary=L$B;}if(!C9y.secondary && this.seriesParams[0]){C9y.secondary=this.seriesParams["0" | 0].field;}if(!C9y.secondary)continue;else if(!M3D[C9y.primary] && C9y.primary != v2W)continue;else if(!M3D[C9y.secondary])continue;else if(C9y.primary == z$E && T2R.yAxis && T2R.yAxis != m9I.yAxis)continue;G_P=M12(C9y.primary).split(".");s1D=M12(C9y.secondary).split((351.6,+"8327") != (140.7,+"65")?(33.94,726.44) > 60.24?".":"668" - 0:(218.35,+"316.65"));N4E={topBand:G_P[+"0"],topSubBand:G_P[1],topColor:C9y.greater || L9Z || H4p.containerColor,topAxis:T2R.yAxis,bottomBand:s1D[+"0"],bottomSubBand:s1D[1],bottomColor:C9y.lesser || L9Z || H4p.containerColor,bottomAxis:C9y.primary == "Close"?null:T2R.yAxis,tension:T2R.tension || m9I.tension,opacity:0.1,step:T2R.step};if(!N4E.topColor && !N4E.bottomColor)continue;if(!T2R.highlight && H4p.highlightedDraggable){N4E.opacity*=0.3;}E9P.fillIntersecting(H4p,T2R.panel,N4E);}function M12(e1H){var P6$,v4n,O6t;P6$=M3D[e1H];if(P6$){v4n=P6$.parameters.field;O6t=P6$.parameters.subField;Z9T.T7s(3);return Z9T.k5y(v4n,O6t?"." + O6t:"");}return e1H;}};E9P.Renderer.Histogram=function(R4U){var f0i,D1r,m_w,F8h,I_A;f0i="hi";f0i+="st";f0i+="o";f0i+="gram";this.construct(R4U);this.params.type=f0i;this.barsHaveWidth=this.standaloneBars=!![];Z9T.r8O();if(this.params.yAxis){D1r="num";D1r+="b";D1r+="er";this.params.bindToYAxis=!0;if(typeof this.params.yAxis.baseline == D1r){m_w=1966530684;F8h=1443903702;I_A=2;for(var l$C=1;Z9T.U3Y(l$C.toString(),l$C.toString().length,25082) !== m_w;l$C++){this.params.yAxis.baseline={value:this.params.yAxis.baseline};I_A+=2;}if(Z9T.U3Y(I_A.toString(),I_A.toString().length,39725) !== F8h){this.params.yAxis.baseline={value:this.params.yAxis.baseline};}this.params.yAxis.baseline={value:this.params.yAxis.baseline};}}};E9P.inheritsFrom(E9P.Renderer.Histogram,E9P.Renderer,!"1");E9P.Renderer.Histogram.prototype.adjustYAxis=function(){var p7f;p7f=this.params.yAxis;Z9T.Y$C();if(!p7f || p7f.baseline){return;}p7f.min=0;p7f.highValue/=this.params.heightPercentage || 1;};E9P.Renderer.Histogram.prototype.draw=function(){var I_C,Y3y,m8G,t_U;I_C=E9P.clone(this.params);I_C.type=I_C.subtype;this.useSum=I_C.subtype == "stacked";Z9T.r8O();if(!I_C.yAxis || I_C.yAxis == this.stx.chart.yAxis){I_C.bindToYAxis=!!1;}this.stx.drawHistogram(I_C,this.seriesParams);Y3y=I_C.yAxis && I_C.yAxis.baseline;if(Y3y && Y3y.color){m8G=this.stx.panels[this.params.panel];t_U=this.stx.pixelFromPrice(Y3y.value,m8G,this.params.yAxis) - 0.5;this.stx.plotLine({x0:m8G.left,x1:m8G.right,y0:t_U,y1:t_U,color:Y3y.color,type:"line",context:m8G.chart.context,confineToPanel:m8G,pattern:Y3y.pattern || "solid",lineWidth:Y3y.lineWidth || 1,opacity:Y3y.opacity || 0.8,globalCompositeOperation:"destination-over"});}};E9P.Renderer.Histogram.prototype.getBasis=function(N7x,A0t,T9s){var M8n,k06,M1$;Z9T.u4X(5);M8n=Z9T.k5y("0",0);Z9T.r8O();if(N7x && this.useSum){for(var P_h=0;P_h < this.seriesParams.length;P_h++){k06=this.seriesParams[P_h].field;if(k06 === A0t)break;M1$=N7x[k06];if(M1$ && typeof M1$ === "object"){M1$=M1$[T9s || this.seriesParams[P_h].subField || this.stx.chart.defaultPlotField || "Close"];}if(M1$){M8n+=M1$;}}}return M8n;};E9P.Renderer.Heatmap=function(r24){var f8a;f8a="he";f8a+="a";f8a+="tm";f8a+="ap";Z9T.r8O();this.construct(r24);this.params.type=f8a;this.params.highlightable=!1;this.barsHaveWidth=this.standaloneBars=!!1;};E9P.inheritsFrom(E9P.Renderer.Heatmap,E9P.Renderer,!({}));E9P.Renderer.Heatmap.requestNew=function(r4s,h1Y){var f$L,P_K;f$L=null;for(var r2A=0;r2A < r4s.length;r2A++){P_K=r4s[r2A];if(P_K == "heatmap"){f$L="heatmap";}}if(f$L === null){return null;}return new E9P.Renderer.Heatmap({params:E9P.extend(h1Y,{type:f$L})});};E9P.Renderer.Heatmap.prototype.draw=function(){this.stx.drawHeatmap(E9P.clone(this.params),this.seriesParams);};E9P.Renderer.Scatter=function(G9U){this.construct(G9U);this.standaloneBars=this.barsHaveWidth=!!({});this.bounded=!0;};E9P.inheritsFrom(E9P.Renderer.Scatter,E9P.Renderer.Lines,!!"");E9P.Renderer.Scatter.requestNew=function(E_t,o6$){Z9T.Y$C();var z4A,k97,x2m;z4A=null;for(var N3L=0;N3L < E_t.length;N3L++){k97="s";k97+="cat";k97+="te";k97+="r";x2m=E_t[N3L];if(x2m == "scatterplot"){z4A=k97;}}if(z4A === null){return null;}return new E9P.Renderer.Scatter({params:E9P.extend(o6$,{type:z4A})});};E9P.Renderer.Scatter.prototype.drawIndividualSeries=function(f67,j4o){var s_m,a4X,E_w;s_m="Error, Scatter rende";s_m+="re";s_m+="r require";Z9T.r8O();s_m+="s customChart.js";a4X=this.stx.panels[j4o.panel] || f67.panel;E_w={colors:[]};if(this.stx.scatter){E_w=this.stx.scatter(a4X,j4o);}else {console.warn(s_m);}return E_w;};};Z=k0r=>{var O4M,a68;O4M="undefin";O4M+="ed";a68=typeof _CIQ !== O4M?_CIQ:k0r.CIQ;if(!a68.Studies){console.error("accumulationDistribution feature requires first activating studies feature.");}else {a68.Studies.calculateAccumulationDistribution=function(k38,y_W){var r6s,L63,F4d,T_5,k6n,e4l;r6s=y_W.chart.scrubbed;for(var Q7w=y_W.startFrom;Q7w < r6s.length;Q7w++){L63="Re";L63+="sult ";if(!Q7w)continue;F4d=r6s[Q7w];if(F4d.futureTick)break;l9y8Y.u4X(5);T_5=r6s[l9y8Y.D45(Q7w,1)];k6n=+"0";if(F4d.Close > T_5.Close){k6n=F4d.Close - Math.min(F4d.Low,T_5.Close);}else if(F4d.Close < T_5.Close){k6n=F4d.Close - Math.max(F4d.High,T_5.Close);}if(y_W.inputs["Use Volume"]){k6n*=F4d.Volume;}e4l=T_5["Result " + y_W.name];if(!e4l){e4l=+"0";}e4l+=k6n;if(!isNaN(F4d.Close)){F4d[L63 + y_W.name]=e4l;}}};a68.Studies.studyLibrary=a68.extend(a68.Studies.studyLibrary,{"W Acc Dist":{name:"Accumulation/Distribution",calculateFN:a68.Studies.calculateAccumulationDistribution,inputs:{"Use Volume":!({})}}});}};g=b3A=>{var g6R=l9y8Y;var n8u,e0u,A29;g6R.r8O();n8u=typeof _CIQ !== "undefined"?_CIQ:b3A.CIQ;if(!n8u.Studies){console.error("adx feature requires first activating studies feature.");}else {e0u="#F";e0u+="F00";e0u+="0";e0u+="0";A29="#00";A29+="FF00";n8u.Studies.calculateADX=function(F4F,x19){g6R.r8O();var a$K,t1b,w_Q,I3t,S9a,I5i,V3Z,H9t,e6q,H$n,M2L,K$i,x2T,z7G,B1t,r4I,v0R,U6x,U3i,Y2X,W1N,T1Y;n8u.Studies.calculateStudyATR(F4F,x19);a$K=x19.chart.scrubbed;t1b=x19.days;w_Q=parseInt(x19.inputs["Smoothing Period"],10);if(!w_Q && w_Q !== +"0"){w_Q=t1b;}if(a$K.length < x19.days + ("1" << 32)){x19.error=!!1;return;}g6R.u4X(5);I3t=g6R.D45("0",0);S9a=0;I5i=+"0";V3Z=0;for(var E2M=Math.max(+"1",x19.startFrom);E2M < a$K.length;E2M++){e6q="_sm";e6q+="-";e6q+="DM ";H9t=a$K[E2M];H$n=Math.max(0,H9t.High - a$K[E2M - 1].High);M2L=Math.max(0,a$K[E2M - "1" * 1].Low - H9t.Low);if(H$n > M2L){g6R.T7s(13);M2L=g6R.D45(96,"0");}else if(M2L > H$n){H$n=0;}else {H$n=M2L=0;}if(E2M <= t1b){S9a+=H$n;I5i+=M2L;I3t+=H9t["True Range " + x19.name];}else {K$i="True";K$i+=" Range ";g6R.T7s(103);var H8x=g6R.D45(0,89,8,11);g6R.u4X(43);var L6l=g6R.D45(6,1,7);S9a=a$K[E2M - H8x]["_sm+DM " + x19.name] * (t1b - L6l) / t1b + H$n;g6R.T7s(8);var l7u=g6R.D45(0,19,20);I5i=a$K[E2M - l7u]["_sm-DM " + x19.name] * (t1b - ("1" << 0)) / t1b + M2L;g6R.u4X(8);var W3L=g6R.D45(14,20,7);I3t=a$K[E2M - W3L]["_smTR " + x19.name] * (t1b - +"1") / t1b + H9t[K$i + x19.name];}H9t["_sm+DM " + x19.name]=S9a;H9t[e6q + x19.name]=I5i;H9t["_smTR " + x19.name]=I3t;if(E2M < t1b)continue;g6R.T7s(112);x2T=g6R.D45(I3t,100,S9a);g6R.T7s(112);z7G=g6R.D45(I3t,100,I5i);g6R.T7s(125);var p$p=g6R.k5y(33,120,3,20);B1t=p$p * Math.abs(x2T - z7G) / (x2T + z7G);H9t["+DI " + x19.name]=x2T;H9t["-DI " + x19.name]=z7G;if(x19.inputs.Series !== !"1" && w_Q){if(E2M < t1b + w_Q - 1){if(E2M == x19.startFrom){for(var I$D=t1b;I$D < x19.startFrom;I$D++){r4I="+D";r4I+="I";r4I+=" ";g6R.T7s(8);var Z$I=g6R.D45(107,13,6);V3Z+=Z$I * Math.abs(a$K[I$D]["+DI " + x19.name] - a$K[I$D]["-DI " + x19.name]) / (a$K[I$D][r4I + x19.name] + a$K[I$D]["-DI " + x19.name]);}}V3Z+=B1t;}else if(E2M == t1b + w_Q - 1){v0R="AD";v0R+="X ";g6R.T7s(12);H9t[v0R + x19.name]=g6R.k5y(V3Z,w_Q);}else {g6R.T7s(126);var f7G=g6R.D45(9,4,649,18,1);g6R.u4X(119);var J6T=g6R.D45(7,7,16,16);H9t["ADX " + x19.name]=(a$K[E2M - f7G]["ADX " + x19.name] * (w_Q - J6T) + B1t) / w_Q;}}if(x19.inputs.Histogram){U6x="-D";U6x+="I ";U3i="+";U3i+="D";U3i+="I";U3i+=" ";Y2X="+D";Y2X+="I";Y2X+=" ";W1N="_";W1N+="his";W1N+="t";T1Y=x19.name + W1N;if(!H9t[Y2X + x19.name] && H9t[U3i + x19.name] !== "0" * 1)continue;if(!H9t["-DI " + x19.name] && H9t["-DI " + x19.name] !== "0" >> 64)continue;H9t[T1Y]=H9t["+DI " + x19.name] - H9t[U6x + x19.name];if(x19.inputs.Series === !!""){H9t["+DI " + x19.name]=null;H9t["-DI " + x19.name]=null;}x19.outputMap[T1Y]="";}}};n8u.Studies.displayADX=function(F_3,K7Z,b4A){var L7E,A5k,J73,p8Q,Z3I,y_Q,Y3O,k$l;g6R.r8O();L7E="No";L7E+="thing to dis";L7E+="p";L7E+="lay";A5k=K7Z.underlay?0.3:K7Z.inputs.Series?0.4:1;if(K7Z.inputs.Series && K7Z.inputs.Shading){J73="+DI " + K7Z.name;p8Q="-DI " + K7Z.name;Z3I=n8u.Studies.determineColor(K7Z.outputs[K7Z.outputMap[J73]]);y_Q=n8u.Studies.determineColor(K7Z.outputs[K7Z.outputMap[p8Q]]);Y3O=K7Z.getYAxis(F_3);k$l={topBand:J73,bottomBand:p8Q,topColor:Z3I,bottomColor:y_Q,skipTransform:F_3.panels[K7Z.panel].name != K7Z.chart.name,topAxis:Y3O,bottomAxis:Y3O,opacity:0.3};if(!K7Z.highlight && F_3.highlightedDraggable){k$l.opacity*=0.3;}n8u.fillIntersecting(F_3,K7Z.panel,k$l);}if(K7Z.inputs.Histogram){n8u.Studies.createHistogram(F_3,K7Z,b4A,!"1",A5k);}if(K7Z.inputs.Series !== !1){n8u.Studies.displaySeriesAsLine(F_3,K7Z,b4A);}else if(!K7Z.inputs.Series && !K7Z.inputs.Histogram){F_3.displayErrorAsWatermark(K7Z.panel,F_3.translateIf(K7Z.name) + ": " + F_3.translateIf(L7E));}};n8u.Studies.studyLibrary=n8u.extend(n8u.Studies.studyLibrary,{ADX:{name:"ADX/DMS",calculateFN:n8u.Studies.calculateADX,seriesFN:n8u.Studies.displayADX,inputs:{Period:14,"Smoothing Period":+"14",Series:!!({}),Shading:!1,Histogram:!1},outputs:{"+DI":A29,"-DI":e0u,ADX:"auto","Positive Bar":"#00DD00","Negative Bar":"#FF0000"}}});}};W=U9W=>{var F2Q=l9y8Y;var b7g,h$5,r$J,p87,h2w,R$G;F2Q.r8O();b7g=typeof _CIQ !== "undefined"?_CIQ:U9W.CIQ;if(!b7g.Studies){h$5="alligator feature requ";h$5+="ires firs";h$5+="t activating studies feat";h$5+="ure.";console.error(h$5);}else {r$J="#";r$J+="F";r$J+="F0";r$J+="000";p87="#00";p87+="DD0";p87+="0";h2w="#F";h2w+="F000";h2w+="0";R$G="#";R$G+="000";R$G+="0F";R$G+="F";b7g.Studies.calculateAlligator=function(b0i,S0X){var J1O,v1x,Y4j,s_y,W2U,w9M,y5r,z79,Z5L,p2q,V2I;J1O="Lips Pe";J1O+="riod";v1x={J:Number(S0X.inputs["Jaw Period"]),T:Number(S0X.inputs["Teeth Period"]),L:Number(S0X.inputs[J1O])};Y4j=S0X.chart.scrubbed;if(Y4j.length < Math.max(v1x.J,v1x.T,v1x.L) + 1){S0X.error=!![];return;}if(S0X.type === "Gator" || S0X.inputs["Show Lines"]){s_y="Lips";s_y+=" Off";s_y+="s";s_y+="et";W2U="welles wi";W2U+="lder";b7g.Studies.MA("welles wilder",v1x.J,"hl/2",S0X.inputs["Jaw Offset"],"Jaw",b0i,S0X);b7g.Studies.MA("welles wilder",v1x.T,"hl/2",S0X.inputs["Teeth Offset"],"Teeth",b0i,S0X);b7g.Studies.MA(W2U,v1x.L,"hl/2",S0X.inputs[s_y],"Lips",b0i,S0X);}for(var N9Y=S0X.startFrom;N9Y < Y4j.length;N9Y++){w9M="Ga";w9M+="tor";if(!Y4j[N9Y])continue;if(S0X.type == w9M){y5r="_";y5r+="h";y5r+="ist";y5r+="2";z79=Y4j[N9Y]["Jaw " + S0X.name];Z5L=Y4j[N9Y]["Lips " + S0X.name];p2q=Y4j[N9Y]["Teeth " + S0X.name];if(p2q || p2q === 0){V2I="_h";V2I+="ist1";if(z79 || z79 === 0){F2Q.T7s(5);Y4j[N9Y][S0X.name + V2I]=Math.abs(F2Q.D45(z79,p2q));}if(Z5L || Z5L === 0){F2Q.T7s(5);Y4j[N9Y][S0X.name + "_hist2"]=-Math.abs(F2Q.D45(p2q,Z5L));}}S0X.outputMap={};S0X.outputMap[S0X.name + "_hist1"]="";S0X.outputMap[S0X.name + y5r]="";}if(S0X.inputs["Show Fractals"]){if(!Y4j[N9Y - 2] || !Y4j[N9Y - 1] || !Y4j[N9Y] || !Y4j[N9Y + +"1"] || !Y4j[N9Y + 2])continue;if(Y4j[N9Y - 2].High && Y4j[N9Y - 1].High && Y4j[N9Y].High && Y4j[N9Y + 1].High && Y4j[N9Y + 2].High){if(Y4j[N9Y].High > Y4j[N9Y - 1].High && Y4j[N9Y].High > Y4j[N9Y - 2].High && Y4j[N9Y].High > Y4j[N9Y + 1].High && Y4j[N9Y].High > Y4j[N9Y + 2].High){Y4j[N9Y]["Fractal High " + S0X.name]=1;}}if(Y4j[N9Y - 2].Low && Y4j[N9Y - 1].Low && Y4j[N9Y].Low && Y4j[N9Y + 1].Low && Y4j[N9Y + 2].Low){if(Y4j[N9Y].Low < Y4j[N9Y - 1].Low && Y4j[N9Y].Low < Y4j[N9Y - 2].Low && Y4j[N9Y].Low < Y4j[N9Y + 1].Low && Y4j[N9Y].Low < Y4j[N9Y + 2].Low){Y4j[N9Y]["Fractal Low " + S0X.name]=+"1";}}}}};b7g.Studies.displayAlligator=function(j8m,t6p,C$c){var a5u;F2Q.Y$C();a5u=t6p.getContext(j8m);function y3n(R2G,C_c){F2Q.Y$C();var P6m,Q5d,t6J;P6m="h";P6m+="i";P6m+="g";P6m+="h";t6J=j8m.chart.panel.yAxis.flipped;if(R2G == P6m){a5u.fillStyle=j8m.defaultColor;a5u.textBaseline=t6J?"top":"bottom";Q5d=j8m.pixelFromPrice(C$c[C_c].High);a5u.fillText(t6J?"\u25BC":"\u25B2",j8m.pixelFromBar(L3S,j8m.chart) - a5u.measureText((8356,5645) < 105.36?!1:195 >= (7009,3560)?(536.12,9.51e+2):(1570,1690) < ("7010" ^ 0,+"542")?"2.94e+3" >> 32:"\u25B2").width / ("2" ^ 0) + 1,t6J?Q5d + 5:Q5d - 5);;}else if(R2G == "low"){a5u.fillStyle=j8m.defaultColor;a5u.textBaseline=t6J?"bottom":"top";Q5d=j8m.pixelFromPrice(C$c[C_c].Low);a5u.fillText(t6J?(5622,139.55) > (3170,3640)?!({}):"\u25B2":(491,1660) >= ("200.59" * 1,324)?"\u25BC":(6841,1062) !== (3190,5184)?"U":!!"1",j8m.pixelFromBar(L3S,j8m.chart) - a5u.measureText("\u25BC").width / +"2" + 1,t6J?Q5d - 5:Q5d + 5);;}}if(t6p.inputs["Show Lines"]){b7g.Studies.displaySeriesAsLine(j8m,t6p,C$c);}if(t6p.inputs["Show Fractals"]){j8m.startClip();a5u.globalAlpha=t6p.underlay?0.3:1;if(!t6p.highlight && j8m.highlightedDraggable){a5u.globalAlpha*=0.3;}for(var L3S=2;L3S < C$c.length - 2;L3S++){if(C$c[L3S]){if(C$c[L3S]["Fractal High " + t6p.name]){y3n("high",L3S);}if(C$c[L3S]["Fractal Low " + t6p.name]){y3n("low",L3S);}}}j8m.endClip();}};b7g.Studies.displayGator=function(W_0,I46,l0j){var d4c,w__,G1c,c38,a9_,c0Z,P0m,s9x,o4F,j4G,q9P,Z8r,j1e;d4c="#";d4c+="CC";d4c+="CCCC";w__="Decr";w__+="eas";w__+="ing Bar";G1c=W_0.panels[I46.panel];c38=I46.getContext(W_0);a9_=I46.getYAxis(W_0);c0Z=W_0.pixelFromPrice(0,G1c,a9_);P0m=W_0.layout.candleWidth - ("2" >> 0);if(P0m < +"2"){P0m=1;}s9x=b7g.Studies.determineColor(I46.outputs["Increasing Bar"]);o4F=b7g.Studies.determineColor(I46.outputs[w__]);W_0.canvasColor("stx_histogram");if(!I46.underlay){c38.globalAlpha=1;}c38.fillStyle=d4c;W_0.startClip(I46.panel);if(!I46.highlight && W_0.highlightedDraggable){c38.globalAlpha*=0.3;}for(var e0n=+"0";e0n < l0j.length;e0n++){j4G=l0j[e0n];F2Q.u4X(5);q9P=l0j[F2Q.D45(e0n,1)];if(!j4G)continue;for(var T$V=1;T$V <= 2;T$V++){Z8r="_";Z8r+="h";Z8r+="is";Z8r+="t";j1e="_hi";j1e+="st";if(!q9P){q9P=W_0.getPreviousBar(W_0.chart,I46.name + "_hist" + T$V,e0n);}if(!q9P){c38.fillStyle="#CCCCCC";}else if(Math.abs(q9P[I46.name + "_hist" + T$V]) < Math.abs(j4G[I46.name + "_hist" + T$V])){c38.fillStyle=s9x;}else if(Math.abs(q9P[I46.name + "_hist" + T$V]) > Math.abs(j4G[I46.name + j1e + T$V])){c38.fillStyle=o4F;}if(j4G.candleWidth){P0m=Math.floor(Math.max(1,j4G.candleWidth - 2));}c38.fillRect(Math.floor(W_0.pixelFromBar(e0n,G1c.chart) - P0m / 2),Math.floor(c0Z),Math.floor(P0m),Math.floor(W_0.pixelFromPrice(j4G[I46.name + Z8r + T$V],G1c,a9_) - c0Z));}}W_0.endClip();};b7g.Studies.studyLibrary=b7g.extend(b7g.Studies.studyLibrary,{Alligator:{name:"Alligator",overlay:!!({}),seriesFN:b7g.Studies.displayAlligator,calculateFN:b7g.Studies.calculateAlligator,inputs:{"Show Lines":!0,"Jaw Period":"13" ^ 0,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":5,"Lips Offset":3,"Show Fractals":!"1"},outputs:{Jaw:R$G,Teeth:h2w,Lips:"#00DD00"}},Gator:{name:"Gator Oscillator",seriesFN:b7g.Studies.displayGator,calculateFN:b7g.Studies.calculateAlligator,inputs:{"Jaw Period":13,"Jaw Offset":"8" - 0,"Teeth Period":8,"Teeth Offset":5,"Lips Period":5,"Lips Offset":3},outputs:{"Increasing Bar":p87,"Decreasing Bar":r$J},centerline:0}});}};E=H1G=>{var a5R=l9y8Y;a5R.r8O();var q0K,Q7F;q0K=typeof _CIQ !== "undefined"?_CIQ:H1G.CIQ;if(!q0K.Studies){console.error("aroon feature requires first activating studies feature.");}else {Q7F="0";Q7F+=" to ";Q7F+="100";q0K.Studies.calculateAroon=function(u$_,O2M){var Z3c,z3H,O2k,N4J,Z2G,J8N,Q$z,m45,A1u,F5m,C1O,K39,G$x,R3R,A9E,q6y;Z3c=O2M.chart.scrubbed;if(Z3c.length < O2M.days + 1){O2M.error=!!({});return;}z3H=0;O2k=+"0";N4J=null;Z2G=null;if(O2M.startFrom > 0){J8N="_st";J8N+="ate";J8N+=" ";a5R.u4X(5);var h_4=a5R.k5y(5,4);Q$z=Z3c[O2M.startFrom - h_4][J8N + O2M.name];if(Q$z){z3H=Q$z[0];a5R.u4X(44);O2k=Q$z[a5R.D45("1",0)];a5R.u4X(5);N4J=Q$z[a5R.k5y("2",0)];Z2G=Q$z[3];}}for(var N1p=O2M.startFrom;N1p < Z3c.length;N1p++){A1u="_s";A1u+="tate";A1u+=" ";F5m="A";F5m+="roon ";F5m+="Up ";C1O="Aroon ";C1O+="Down ";K39=Z3c[N1p];if(K39.futureTick)break;if(N4J === null){N4J=K39.High;}if(Z2G === null){Z2G=K39.Low;}N4J=Math.max(N4J,K39.High);if(N4J == K39.High){z3H=0;}else {z3H++;if(z3H > O2M.days){N4J=K39.High;z3H=0;for(m45=1;m45 <= O2M.days;m45++){N4J=Math.max(N4J,Z3c[N1p - m45].High);if(N4J == Z3c[N1p - m45].High){z3H=m45;}}}}Z2G=Math.min(Z2G,K39.Low);if(Z2G == K39.Low){O2k=0;}else {O2k++;if(O2k > O2M.days){Z2G=K39.Low;O2k=0;for(m45=1;m45 <= O2M.days;m45++){Z2G=Math.min(Z2G,Z3c[N1p - m45].Low);if(Z2G == Z3c[N1p - m45].Low){O2k=m45;}}}}G$x=!isNaN(K39.High);R3R=!isNaN(K39.Low);a5R.u4X(42);var a8L=a5R.k5y(97,11,967);A9E=a8L * (+"1" - z3H / O2M.days);if(G$x){K39["Aroon Up " + O2M.name]=A9E;}a5R.u4X(3);var B2S=a5R.D45(50,50);q6y=B2S * (("1" ^ 0) - O2k / O2M.days);if(R3R){K39[C1O + O2M.name]=q6y;}if(G$x && R3R){K39["Aroon Oscillator " + O2M.name]=K39[F5m + O2M.name] - K39["Aroon Down " + O2M.name];}K39[A1u + O2M.name]=[z3H,O2k,N4J,Z2G];}};q0K.Studies.studyLibrary=q0K.extend(q0K.Studies.studyLibrary,{Aroon:{name:"Aroon",range:Q7F,calculateFN:q0K.Studies.calculateAroon,outputs:{"Aroon Up":"#00DD00","Aroon Down":"#FF0000"}},"Aroon Osc":{name:"Aroon Oscillator",calculateFN:q0K.Studies.calculateAroon,outputs:{"Aroon Oscillator":"auto"}}});}};F=I0U=>{var n21,f2B,g7Y;n21=typeof _CIQ !== "undefined"?_CIQ:I0U.CIQ;if(!n21.Studies){f2B="at";f2B+="r feature r";f2B+="equires first activating studies feature.";console.error(f2B);}else {g7Y="s";g7Y+="quarew";g7Y+="av";g7Y+="e";n21.Studies.calculateATRBands=function(t4B,M97){var z6K=l9y8Y;var T3_,j8R,v1d,w4K;n21.Studies.calculateStudyATR(t4B,M97);T3_=M97.inputs.Field;if(!T3_ || T3_ == "field"){T3_="Close";}z6K.r8O();j8R=289363045;z6K.u4X(0);v1d=-z6K.D45(32,"2051834392");w4K=2;for(var W4u=+"1";z6K.U3Y(W4u.toString(),W4u.toString().length,+"73639") !== j8R;W4u++){n21.Studies.calculateGenericEnvelope(t4B,M97,M97.inputs.Shift,T3_,"ATR " + M97.name);w4K+=2;}if(z6K.L3M(w4K.toString(),w4K.toString().length,33139) !== v1d){n21.Studies.calculateGenericEnvelope(t4B,M97,M97.inputs.Shift,T3_,"" / M97.name);}};n21.Studies.calculateSTARCBands=function(f0y,g41){var f_v,W7b;f_v="A";f_v+="T";f_v+="R ";W7b="_MA";W7b+=" ";n21.Studies.calculateStudyATR(f0y,g41);n21.Studies.MA("simple",g41.inputs["MA Period"],"Close","0" - 0,"_MA",f0y,g41);l9y8Y.r8O();n21.Studies.calculateGenericEnvelope(f0y,g41,g41.inputs.Multiplier,W7b + g41.name,f_v + g41.name);};n21.Studies.calculateATRStops=function(O6B,h5y){var o5D=l9y8Y;var u$I,f9P,J55,D3r,T3O,N4W,M2y,E8$,K4u,f4i;o5D.Y$C();u$I="All";u$I+=" Stops";f9P=h5y.chart.scrubbed;if(!f9P){return;}n21.Studies.calculateStudyATR(O6B,h5y);J55=h5y.inputs.HighLow;for(var Z0f=Math.max(h5y.startFrom - 1,1);Z0f < f9P.length - 1;Z0f++){D3r="B";D3r+="uy S";D3r+="t";D3r+="ops ";T3O=f9P[Z0f];o5D.u4X(5);N4W=f9P[o5D.k5y(Z0f,1)];M2y=T3O[D3r + h5y.name];if(!M2y){M2y=T3O["Sell Stops " + h5y.name];}if(!M2y){M2y=0;}if(!T3O || !N4W)continue;E8$=T3O.Close;K4u=E8$;f4i=T3O["ATR " + h5y.name] * h5y.inputs.Multiplier;if(T3O.Close > M2y && N4W.Close > M2y){if(J55){E8$=T3O.High;}o5D.T7s(5);K4u=Math.max(M2y,o5D.D45(E8$,f4i));}else if(T3O.Close <= M2y && N4W.Close <= M2y){if(J55){E8$=T3O.Low;}o5D.u4X(3);K4u=Math.min(M2y,o5D.k5y(E8$,f4i));}else if(T3O.Close > M2y){if(J55){E8$=T3O.High;}o5D.u4X(5);K4u=o5D.D45(E8$,f4i);}else if(T3O.Close <= M2y){if(J55){E8$=T3O.Low;}o5D.T7s(3);K4u=o5D.k5y(E8$,f4i);}if(E8$ <= K4u){o5D.u4X(3);f9P[o5D.D45(Z0f,1)]["Buy Stops " + h5y.name]=K4u;o5D.T7s(127);delete f9P[o5D.k5y("1",64,Z0f)]["Sell Stops " + h5y.name];}else if(E8$ > K4u){o5D.T7s(3);f9P[o5D.D45(Z0f,1)]["Sell Stops " + h5y.name]=K4u;o5D.T7s(3);delete f9P[o5D.k5y(Z0f,1)]["Buy Stops " + h5y.name];}o5D.T7s(86);f9P[o5D.k5y("1",Z0f)]["All Stops " + h5y.name]=K4u;}h5y.referenceOutput=u$I;h5y.outputMap={};h5y.outputMap["All Stops " + h5y.name]="";};n21.Studies.studyLibrary=n21.extend(n21.Studies.studyLibrary,{ATR:{name:"Average True Range",calculateFN:n21.Studies.calculateStudyATR,outputs:{ATR:"auto"}},"ATR Bands":{name:"ATR Bands",overlay:!![],seriesFN:n21.Studies.displayChannel,calculateFN:n21.Studies.calculateATRBands,inputs:{Period:5,Field:"field",Shift:3,"Channel Fill":!!"1"},outputs:{"ATR Bands Top":"auto","ATR Bands Bottom":"auto","ATR Bands Channel":"auto"},attributes:{Shift:{min:"0.1" - 0,step:0.1}}},"STARC Bands":{name:"STARC Bands",overlay:!![],seriesFN:n21.Studies.displayChannel,calculateFN:n21.Studies.calculateSTARCBands,inputs:{Period:15,"MA Period":"5" - 0,Multiplier:"1.3" - 0,"Channel Fill":!!1},outputs:{"STARC Bands Top":"auto","STARC Bands Median":"auto","STARC Bands Bottom":"auto"},attributes:{Multiplier:{min:0.1,step:0.1}}},"ATR Trailing Stop":{name:"ATR Trailing Stops",overlay:!![],seriesFN:n21.Studies.displayPSAR2,calculateFN:n21.Studies.calculateATRStops,inputs:{Period:21,Multiplier:3,"Plot Type":["points",g7Y],HighLow:!!0},outputs:{"Buy Stops":"#FF0000","Sell Stops":"#00FF00"},attributes:{Multiplier:{min:0.1,step:0.1}}}});}};Q=P0h=>{var T3p=l9y8Y;var z7J;z7J=typeof _CIQ !== "undefined"?_CIQ:P0h.CIQ;T3p.r8O();if(!z7J.Studies){console.error("awesomeOscillator feature requires first activating studies feature.");}else {z7J.Studies.calculateAwesomeOscillator=function(q_X,Y1x){T3p.r8O();var T2_,l75;T2_=Y1x.chart.scrubbed;if(T2_.length < 33){Y1x.error=!!({});return;}z7J.Studies.MA("simple",5,"hl/2",0,"_MA5",q_X,Y1x);z7J.Studies.MA("simple",34,"hl/2",0,"_MA34",q_X,Y1x);for(var T__=Math.max(Y1x.startFrom,33);T__ < T2_.length;T__++){l75="_";l75+="MA3";l75+="4";l75+=" ";if(!T2_[T__])continue;T2_[T__][Y1x.name + "_hist"]=T2_[T__]["_MA5 " + Y1x.name] - T2_[T__][l75 + Y1x.name];}Y1x.outputMap={};Y1x.outputMap[Y1x.name + "_hist"]="";};z7J.Studies.displayAwesomeOscillator=function(F7c,R3b,e8r){var q0u,B59,O2D,p8B,U9x,S4P,H6t,I5R,j1R,Z6y,T$H;q0u="stx_";q0u+="histogram";B59=F7c.panels[R3b.panel];O2D=R3b.getContext(F7c);p8B=R3b.getYAxis(F7c);U9x=F7c.pixelFromPrice(0,B59,p8B);T3p.u4X(3);var y18=T3p.D45(0,2);S4P=F7c.layout.candleWidth - y18;if(S4P < 2){S4P=1;}H6t=z7J.Studies.determineColor(R3b.outputs["Increasing Bar"]);I5R=z7J.Studies.determineColor(R3b.outputs["Decreasing Bar"]);F7c.canvasColor(q0u);if(!R3b.underlay){O2D.globalAlpha=1;}O2D.fillStyle="#CCCCCC";F7c.startClip(R3b.panel);if(!R3b.highlight && F7c.highlightedDraggable){T3p.u4X(5);O2D.globalAlpha*=T3p.D45("0.3",0);}for(var x4i=0;x4i < e8r.length;x4i++){j1R="_h";j1R+="is";j1R+="t";Z6y=e8r[x4i];T3p.u4X(5);T$H=e8r[T3p.D45(x4i,1)];if(!T$H){T$H=F7c.getPreviousBar(F7c.chart,R3b.name + "_hist",x4i);}if(!Z6y)continue;if(!T$H);else if(T$H[R3b.name + "_hist"] < Z6y[R3b.name + j1R]){O2D.fillStyle=H6t;}else if(T$H[R3b.name + "_hist"] > Z6y[R3b.name + "_hist"]){O2D.fillStyle=I5R;}if(Z6y.candleWidth){S4P=Math.floor(Math.max(1,Z6y.candleWidth - 2));}O2D.fillRect(Math.floor(F7c.pixelFromBar(x4i,B59.chart) - S4P / 2),Math.floor(U9x),Math.floor(S4P),Math.floor(F7c.pixelFromPrice(Z6y[R3b.name + "_hist"],B59,p8B) - U9x));}F7c.endClip();};z7J.Studies.studyLibrary=z7J.extend(z7J.Studies.studyLibrary,{Awesome:{name:"Awesome Oscillator",seriesFN:z7J.Studies.displayAwesomeOscillator,calculateFN:z7J.Studies.calculateAwesomeOscillator,inputs:{},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};X=Y1t=>{var d8q,f$n;d8q=typeof _CIQ !== "undefined"?_CIQ:Y1t.CIQ;if(!d8q.Studies){f$n="balanceOfPower feature ";f$n+="requ";f$n+="ires first activating studies feature.";console.error(f$n);}else {d8q.Studies.calculateBalanceOfPower=function(k48,l0L){var G3L,y_A,j8Y,x6q;G3L=l0L.chart.scrubbed;if(G3L.length < l0L.days + ("1" - 0)){l0L.error=!!({});return;}for(var C9N=l0L.startFrom;C9N < G3L.length;C9N++){y_A="_Rat";y_A+="io ";j8Y="_";j8Y+="Ratio ";x6q=G3L[C9N];x6q[j8Y + l0L.name]=x6q.Close - x6q.Open;if(x6q.High - x6q.Low !== 0){x6q[y_A + l0L.name]/=x6q.High - x6q.Low;}}d8q.Studies.MA(l0L.inputs["Moving Average Type"],l0L.days,"_Ratio " + l0L.name,+"0","Result",k48,l0L);};d8q.Studies.studyLibrary=d8q.extend(d8q.Studies.studyLibrary,{"Bal Pwr":{name:"Balance of Power",range:"-1 to 1",centerline:0,calculateFN:d8q.Studies.calculateBalanceOfPower,inputs:{Period:14,"Moving Average Type":"ma"}}});}};U=Q92=>{var T0F,C6T,S4Q,Q2G,z2C,o3l,L6t,X6_,R64,Z7Y;T0F="und";T0F+="e";T0F+="fin";T0F+="ed";C6T=typeof _CIQ !== T0F?_CIQ:Q92.CIQ;if(!C6T.Studies){S4Q="bollinge";S4Q+="r feature requires first activati";S4Q+="ng studies feature.";console.error(S4Q);}else {Q2G="a";Q2G+="u";Q2G+="t";Q2G+="o";z2C="m";z2C+="a";o3l="Bollinger Bandwidt";o3l+="h";L6t="a";L6t+="u";L6t+="to";X6_="m";X6_+="a";R64="f";R64+="ie";R64+="l";R64+="d";Z7Y="au";Z7Y+="t";Z7Y+="o";C6T.Studies.calculateBollinger=function(N9O,b9J){var c$P,O6z,z2B,l9w;c$P="%";c$P+="b";O6z="_ST";O6z+="D De";O6z+="v ";z2B="_";z2B+="M";z2B+="A";z2B+=" ";l9w=b9J.inputs.Field;if(!l9w || l9w == "field"){l9w="Close";}C6T.Studies.MA(b9J.inputs["Moving Average Type"],b9J.days,l9w,0,"_MA",N9O,b9J);b9J.std=new C6T.Studies.StudyDescriptor(b9J.name,"STD Dev",b9J.panel);b9J.std.chart=b9J.chart;b9J.std.startFrom=b9J.startFrom;b9J.std.days=b9J.days;b9J.std.inputs={Field:l9w,"Standard Deviations":1,Type:b9J.inputs["Moving Average Type"]};b9J.std.outputs={"_STD Dev":null};C6T.Studies.calculateStandardDeviation(N9O,b9J.std);C6T.Studies.calculateGenericEnvelope(N9O,b9J,b9J.inputs["Standard Deviations"],z2B + b9J.name,O6z + b9J.name);if(b9J.type == "Boll %b"){b9J.zoneOutput=c$P;}};C6T.Studies.studyLibrary=C6T.extend(C6T.Studies.studyLibrary,{"Bollinger Bands":{name:"Bollinger Bands",overlay:!!1,calculateFN:C6T.Studies.calculateBollinger,seriesFN:C6T.Studies.displayChannel,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":"ma","Channel Fill":!!({})},outputs:{"Bollinger Bands Top":"auto","Bollinger Bands Median":Z7Y,"Bollinger Bands Bottom":"auto"},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Boll %b":{name:"Bollinger %b",calculateFN:C6T.Studies.calculateBollinger,inputs:{Period:20,Field:R64,"Standard Deviations":+"2","Moving Average Type":X6_},outputs:{"%b":"auto"},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:100,studyOverBoughtColor:L6t,studyOverSoldValue:0,studyOverSoldColor:"auto"}},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Boll BW":{name:o3l,calculateFN:C6T.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":+"2","Moving Average Type":z2C},outputs:{Bandwidth:Q2G},attributes:{"Standard Deviations":{min:0.1,step:0.1}}}});}};S=o8C=>{var m8p,m2s,c8j,C2U,x_U;m8p="un";m8p+="defi";m8p+="ne";l9y8Y.r8O();m8p+="d";m2s=typeof _CIQ !== m8p?_CIQ:o8C.CIQ;if(!m2s.Studies){c8j="cci feature req";c8j+="uires fir";c8j+="st activating s";c8j+="tudies feature.";console.error(c8j);}else {C2U="aut";C2U+="o";x_U="Commodity C";x_U+="h";x_U+="annel In";x_U+="dex";m2s.Studies.calculateCCI=function(N3o,c69){var q3X,y4U,P1t,s4P,W5a;q3X="h";q3X+="lc/3";y4U=c69.chart.scrubbed;if(y4U.length < c69.days + 1){c69.error=!!({});return;}m2s.Studies.MA("simple",c69.days,q3X,0,"MA",N3o,c69);for(var h_8=Math.max(c69.startFrom,c69.days - 1);h_8 < y4U.length;h_8++){P1t=y4U[h_8];if(!P1t)continue;s4P=0;for(var S9M=0;S9M < c69.days;S9M++){W5a="hl";W5a+="c/3";s4P+=Math.abs(y4U[h_8 - S9M][W5a] - P1t["MA " + c69.name]);}s4P/=c69.days;if(Math.abs(s4P) < +"0.00000001"){P1t["Result " + c69.name]=0;}else {P1t["Result " + c69.name]=(P1t["hlc/3"] - P1t["MA " + c69.name]) / (0.015 * s4P);}}};m2s.Studies.studyLibrary=m2s.extend(m2s.Studies.studyLibrary,{CCI:{name:x_U,calculateFN:m2s.Studies.calculateCCI,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:!![],studyOverBoughtValue:"100" << 32,studyOverBoughtColor:"auto",studyOverSoldValue:-100,studyOverSoldColor:C2U}},attributes:{Period:{min:2}}}});}};U4=K0I=>{var q0j=l9y8Y;var U2V,M$z;q0j.r8O();U2V=typeof _CIQ !== "undefined"?_CIQ:K0I.CIQ;if(!U2V.Studies){console.error("centerOfGravity feature requires first activating studies feature.");}else {M$z="Cen";M$z+="te";M$z+="r Of Grav";M$z+="ity";U2V.Studies.calculateCenterOfGravity=function(u8Z,M$X){var E99,P6r,V6S,c_P,C$b,U5r,I$Q,X1k,K5c;E99="f";E99+="iel";E99+="d";P6r=M$X.chart.scrubbed;if(P6r.length < M$X.days){V6S=995884059;c_P=-181514943;C$b=2;for(var B4d=1;q0j.U3Y(B4d.toString(),B4d.toString().length,8964) !== V6S;B4d++){M$X.error=!"";return;}if(q0j.L3M(C$b.toString(),C$b.toString().length,+"42344") !== c_P){M$X.error=!!0;return;}}U5r=M$X.inputs.Field;if(!U5r || U5r == E99){U5r="Close";}for(var j$i=Math.max(M$X.startFrom,M$X.days - 1);j$i < P6r.length;j$i++){I$Q=0;X1k=0;for(var B1s=0;B1s < M$X.days;B1s++){q0j.u4X(5);K5c=P6r[q0j.D45(j$i,B1s)][U5r];q0j.u4X(128);I$Q-=q0j.D45(1,K5c,B1s);X1k+=K5c;}if(X1k){q0j.T7s(12);P6r[j$i]["Result " + M$X.name]=q0j.k5y(I$Q,X1k);}}};U2V.Studies.studyLibrary=U2V.extend(U2V.Studies.studyLibrary,{COG:{name:M$z,calculateFN:U2V.Studies.calculateCenterOfGravity,inputs:{Period:10,Field:"field"}}});}};m$=s9y=>{var B8U=l9y8Y;var x2F,x0j,R8Z,J4i,e2C,a$n;x2F="u";x2F+="ndefin";x2F+="e";x2F+="d";x0j=typeof _CIQ !== x2F?_CIQ:s9y.CIQ;if(!x0j.Studies){R8Z=-349053425;J4i=-948072864;B8U.T7s(27);e2C=B8U.D45(0,"2");for(var r53=1;B8U.L3M(r53.toString(),r53.toString().length,96175) !== R8Z;r53++){a$n="chaikin featur";a$n+="e requires first activating studies f";a$n+="eature.";console.error(a$n);e2C+=2;}if(B8U.L3M(e2C.toString(),e2C.toString().length,78813) !== J4i){console.error("");}}else {x0j.Studies.calculateChaikinMoneyFlow=function(v1F,O_P){var o0_,a$y,P_$,I32,c5R,a6j,J2r,q$d,T9f,N0D,o7A;o0_=1838215298;a$y=-232068017;P_$=2;for(var X2x=1;B8U.L3M(X2x.toString(),X2x.toString().length,34708) !== o0_;X2x++){I32=O_P.chart.scrubbed;P_$+=2;}if(B8U.L3M(P_$.toString(),P_$.toString().length,38592) !== a$y){I32=O_P.chart.scrubbed;}if(I32.length < O_P.days){O_P.error=!!({});return;}c5R=0;a6j=0;B8U.T7s(35);var m5F=B8U.k5y(1,13,2,14,19);J2r=I32[O_P.startFrom - m5F];if(J2r){q$d="_su";q$d+="mV ";T9f="_";T9f+="su";T9f+="mMF ";if(J2r["_sumMF " + O_P.name]){c5R=J2r[T9f + O_P.name];}if(J2r["_sumV " + O_P.name]){a6j=J2r[q$d + O_P.name];}}B8U.r8O();for(var M8L=O_P.startFrom;M8L < I32.length;M8L++){N0D="_s";N0D+="umMF ";if(I32[M8L].High == I32[M8L].Low){I32[M8L]["_MFV " + O_P.name]=+"0";}else {B8U.T7s(8);var p97=B8U.k5y(0,14,16);I32[M8L]["_MFV " + O_P.name]=I32[M8L].Volume * (p97 * I32[M8L].Close - I32[M8L].High - I32[M8L].Low) / (I32[M8L].High - I32[M8L].Low);}c5R+=I32[M8L]["_MFV " + O_P.name];a6j+=I32[M8L].Volume;if(M8L > O_P.days - +"1"){o7A="Res";o7A+="u";o7A+="l";o7A+="t ";c5R-=I32[M8L - O_P.days]["_MFV " + O_P.name];a6j-=I32[M8L - O_P.days].Volume;if(a6j){B8U.T7s(12);I32[M8L][o7A + O_P.name]=B8U.D45(c5R,a6j);}}I32[M8L][N0D + O_P.name]=c5R;I32[M8L]["_sumV " + O_P.name]=a6j;}};x0j.Studies.calculateChaikinVolatility=function(T9l,Q6p){var v02,Q53,r4t,X4H,i9K;v02="_";v02+="M";v02+="A";Q53=Q6p.chart.scrubbed;if(Q53.length < Q6p.days){Q6p.error=!![];return;}for(r4t=Q6p.startFrom;r4t < Q53.length;r4t++){X4H="_Hi";X4H+="gh-Lo";X4H+="w ";if(Q53[r4t].futureTick)break;Q53[r4t][X4H + Q6p.name]=Q53[r4t].High - Q53[r4t].Low;}x0j.Studies.MA(Q6p.inputs["Moving Average Type"],Q6p.days,"_High-Low " + Q6p.name,0,v02,T9l,Q6p);i9K=Q6p.inputs["Rate Of Change"];if(!i9K){i9K=Q6p.days;}for(r4t=Math.max(Q6p.startFrom,i9K);r4t < Q53.length;r4t++){if(!Q53[r4t - i9K]["_MA " + Q6p.name])continue;if(Q53[r4t].futureTick)break;B8U.u4X(129);var c1Y=B8U.k5y(81,9,10094,12,14);B8U.u4X(1);var S35=B8U.D45(2,2,0);Q53[r4t]["Result " + Q6p.name]=c1Y * (Q53[r4t]["_MA " + Q6p.name] / Q53[r4t - i9K]["_MA " + Q6p.name] - S35);}};x0j.Studies.studyLibrary=x0j.extend(x0j.Studies.studyLibrary,{"Chaikin MF":{name:"Chaikin Money Flow",calculateFN:x0j.Studies.calculateChaikinMoneyFlow,inputs:{Period:"20" ^ 0}},"Chaikin Vol":{name:"Chaikin Volatility",calculateFN:x0j.Studies.calculateChaikinVolatility,inputs:{Period:14,"Rate Of Change":2,"Moving Average Type":"ma"}}});}};Q5=T78=>{var Q6B=l9y8Y;var w0$,a_D,Q6a,b6d,h3A,P$7,o6c,k79,M4A,b9_,S8r,h0L;w0$=typeof _CIQ !== "undefined"?_CIQ:T78.CIQ;Q6B.r8O();if(!w0$.Studies){console.error("chande feature requires first activating studies feature.");}else {a_D="au";a_D+="to";Q6a="au";Q6a+="to";b6d="Varia";b6d+="ble";w0$.Studies.prettify.variable="vma";w0$.Studies.movingAverage.conversions.vma="variable";w0$.Studies.movingAverage.translations.variable="Variable";w0$.Studies.movingAverage.typeMap.vma="Variable";w0$.Studies.movingAverage.typeMap.variable=b6d;w0$.Studies.calculateChandeForecast=function(o_s,a3y){var a2X,l47,P3N,Q66,F0F,x8f;a2X="Clo";a2X+="se";l47="fi";l47+="e";l47+="ld";P3N=a3y.chart.scrubbed;if(P3N.length < a3y.days + 1){a3y.error=!!"1";return;}Q66=a3y.inputs.Field;if(!Q66 || Q66 == l47){Q66=a2X;}w0$.Studies.MA("time series",a3y.days,Q66,0,"MA",o_s,a3y);for(var L7x=Math.max("1" - 0,a3y.startFrom);L7x < P3N.length;L7x++){F0F="ob";F0F+="ject";x8f=P3N[L7x][Q66];if(x8f && typeof x8f == F0F){x8f=x8f[a3y.subField];}Q6B.T7s(26);var H9i=Q6B.D45(6500,1100,6,1);Q6B.u4X(121);var e1d=Q6B.D45(3,3,10,15,361);P3N[L7x]["Result " + a3y.name]=H9i * (e1d - P3N[L7x]["MA " + a3y.name] / x8f);}};w0$.Studies.calculateChandeMomentum=function(g79,I5V){var i8R,l$u,a96,Y13,t5Z,I9T,H1C,Z3q,y6e,R3N,j1d,H7R,v3e;i8R="f";i8R+="i";i8R+="e";i8R+="ld";l$u=I5V.name;for(var x8W in I5V.outputs){Q6B.T7s(65);l$u=Q6B.k5y(x8W,142.81 > (589.56,6160)?"d":"5090" << 0 < (+"1622",7209)?" ":(612.37,880.53),l$u);}a96=I5V.chart.scrubbed;if(a96.length < I5V.days + 1){I5V.error=!0;return;}Y13=I5V.inputs.Field;if(!Y13 || Y13 == i8R){Y13="Close";}t5Z=+"0";I9T=0;H1C=[];for(var W9f=I5V.startFrom - I5V.days + 1;W9f < a96.length;W9f++){Z3q="obje";Z3q+="c";Z3q+="t";y6e="o";y6e+="bject";if(W9f < +"1")continue;R3N=a96[W9f][Y13];Q6B.u4X(5);j1d=a96[Q6B.k5y(W9f,1)][Y13];if(R3N && typeof R3N == y6e){R3N=R3N.Close;}if(j1d && typeof j1d == Z3q){j1d=j1d.Close;}if(j1d === undefined)continue;Q6B.T7s(5);H7R=Q6B.k5y(R3N,j1d);H1C.push(H7R);t5Z+=H7R;I9T+=Math.abs(H7R);if(H1C.length == I5V.days){Q6B.u4X(112);a96[W9f][l$u]=Q6B.D45(I9T,100,t5Z);v3e=H1C.shift();t5Z-=v3e;I9T-=Math.abs(v3e);}}};w0$.Studies.calculateMovingAverageVariable=function(h7l,o41){var X6U,I2n,W3j,r2a,K8b,n_t,C4l,G$O,j6k,X6y,f9v,R3f,E6N,n4_,k7J,J80,x4E,o7U,C39,m3b,P6b,z7Y;X6U="c";X6U+="m";X6U+="o";I2n=1027248520;W3j=-81001697;r2a=2;for(var m23=1;Q6B.L3M(m23.toString(),m23.toString().length,99460) !== I2n;m23++){K8b=o41.inputs.Type;n_t=o41.chart.scrubbed;r2a+=2;}if(Q6B.L3M(r2a.toString(),r2a.toString().length,52480) !== W3j){K8b=o41.inputs.Type;n_t=o41.chart.scrubbed;}K8b=o41.inputs.Type;n_t=o41.chart.scrubbed;Q6B.T7s(130);var u_h=Q6B.D45(1,4,2,4);Q6B.u4X(131);var O5F=Q6B.D45(7,47,5,11,1);C4l=u_h / (o41.days + O5F);G$O=null;j6k=o41.name;for(var C3t in o41.outputs){Q6B.T7s(65);j6k=Q6B.k5y(C3t," ",j6k);}X6y=o41.inputs.Field;if(!X6y || X6y == "field"){X6y="Close";}o41.cmo=new w0$.Studies.StudyDescriptor(o41.name,X6U,o41.panel);o41.cmo.chart=o41.chart;o41.cmo.days=9;o41.cmo.inputs={Field:X6y};o41.cmo.startFrom=o41.startFrom;o41.cmo.outputs={_CMO:null};w0$.Studies.calculateChandeMomentum(h7l,o41.cmo);f9v=parseInt(o41.inputs.Offset,10);if(isNaN(f9v)){f9v=+"0";}k7J=o41.startFrom;J80=f9v;for(R3f=o41.startFrom - +"1";R3f >= +"0";R3f--){E6N=n_t[R3f][j6k];if(!E6N && E6N !== 0)continue;if(G$O === null){G$O=E6N;}if(J80 <= 0)break;J80--;k7J=R3f;}if(G$O === null){G$O=k7J=0;}x4E=[];for(R3f=k7J;R3f < n_t.length;R3f++){o7U=n_t[R3f];E6N=o7U[X6y];if(E6N && typeof E6N == "object"){E6N=E6N[o41.subField];}C39=R3f + f9v >= 0 && R3f + f9v < n_t.length;m3b=C39?n_t[R3f + f9v]:null;if(!E6N && E6N !== 0){if(m3b){m3b[j6k]=null;}else if(R3f + f9v >= n_t.length){n4_={};n4_[j6k]=null;x4E.push(n4_);}continue;}if(!o7U["_CMO " + o41.name] && o7U["_CMO " + o41.name] !== +"0")continue;Q6B.T7s(132);var s4v=Q6B.D45(9,5,318,86,3);P6b=Math.abs(o7U["_CMO " + o41.name]) / s4v;Q6B.T7s(133);z7Y=Q6B.k5y(C4l,C4l,G$O,1,P6b,E6N,P6b);G$O=z7Y;if(R3f < o41.days){z7Y=null;}if(m3b){m3b[j6k]=z7Y;}else if(R3f + f9v >= n_t.length){n4_={};n4_[j6k]=z7Y;x4E.push(n4_);}}o41.appendFutureTicks(h7l,x4E);};Q6B.T7s(13);h3A=-Q6B.k5y(0,"371369641");P$7=-800264839;o6c=2;for(var V0w=1;Q6B.L3M(V0w.toString(),V0w.toString().length,97947) !== h3A;V0w++){k79="Chand";k79+="e Mtm";M4A="a";M4A+="uto";b9_="aut";b9_+="o";w0$.Studies.studyLibrary=w0$.extend(w0$.Studies.studyLibrary,{"Chande Fcst":{name:"auto",calculateFN:w0$.Studies.calculateChandeForecast,inputs:{Period:75,Field:b9_}},"Chande Mtm":{name:M4A,calculateFN:w0$.Studies.calculateChandeMomentum,inputs:{Period:4},parameters:{init:{studyOverZonesEnabled:!({}),studyOverBoughtValue:62,studyOverBoughtColor:k79,studyOverSoldValue:~57,studyOverSoldColor:"auto"}}}});Q6B.u4X(0);o6c+=Q6B.D45(0,"2");}if(Q6B.U3Y(o6c.toString(),o6c.toString().length,67584) !== P$7){S8r="a";S8r+="ut";S8r+="o";h0L="a";h0L+="uto";w0$.Studies.studyLibrary=w0$.extend(w0$.Studies.studyLibrary,{"Chande Fcst":{name:"auto",calculateFN:w0$.Studies.calculateChandeForecast,inputs:{Period:75,Field:"auto"}},"Chande Mtm":{name:h0L,calculateFN:w0$.Studies.calculateChandeMomentum,inputs:{Period:4},parameters:{init:{studyOverZonesEnabled:!({}),studyOverBoughtValue:+"62",studyOverBoughtColor:"Chande Mtm",studyOverSoldValue:~57,studyOverSoldColor:S8r}}}});}w0$.Studies.studyLibrary=w0$.extend(w0$.Studies.studyLibrary,{"Chande Fcst":{name:"Chande Forecast Oscillator",calculateFN:w0$.Studies.calculateChandeForecast,inputs:{Period:14,Field:"field"}},"Chande Mtm":{name:"Chande Momentum Oscillator",calculateFN:w0$.Studies.calculateChandeMomentum,inputs:{Period:"9" >> 0},parameters:{init:{studyOverZonesEnabled:!![],studyOverBoughtValue:50,studyOverBoughtColor:Q6a,studyOverSoldValue:-50,studyOverSoldColor:a_D}}}});}};l9y8Y.Y$C();S2=v09=>{var m5g=l9y8Y;m5g.r8O();var k7s,B16,F1t;k7s=typeof _CIQ !== "undefined"?_CIQ:v09.CIQ;if(!k7s.Studies){console.error("choppiness feature requires first activating studies feature.");}else {B16="0.";B16+="1";F1t="0";F1t+=".";F1t+="1";k7s.Studies.calculateChoppiness=function(a$8,b0y){var N6t,R8F,m7S,n0X;k7s.Studies.calculateStudyATR(a$8,b0y);N6t=b0y.chart.scrubbed;if(N6t.length < b0y.days + +"1"){b0y.error=!!"1";return;}for(var N4f=Math.max(b0y.startFrom,b0y.days);N4f < N6t.length;N4f++){R8F=N6t[N4f];if(!R8F)continue;if(R8F.futureTick)break;m7S=t96(b0y.days,N4f);if(R8F["Sum True Range " + b0y.name]){n0X="Sum";n0X+=" True Ra";n0X+="nge ";m5g.u4X(58);var u$0=m5g.D45(18903,3,19,1000);m5g.u4X(43);var e49=m5g.k5y(15,1,16);R8F["Result " + b0y.name]=u$0 * Math.log(R8F[n0X + b0y.name] / Math.max(+"0.000001",m7S[e49] - m7S["0" >> 0])) / Math.log(b0y.days);}else if(!isNaN(R8F)){R8F["Result " + b0y.name]=0;}}function t96(z7W,F9e){var M8a,a0k;m5g.T7s(84);var x0s=m5g.D45(195,18,19,10,5);m5g.r8O();M8a=Number.MAX_VALUE * x0s;a0k=Number.MAX_VALUE;for(var P0E=F9e - z7W + 1;P0E <= F9e;P0E++){if(P0E < 0)continue;M8a=Math.max(M8a,N6t[P0E].High);a0k=Math.min(a0k,N6t[P0E].Low);}return [a0k,M8a];}};k7s.Studies.studyLibrary=k7s.extend(k7s.Studies.studyLibrary,{Choppiness:{name:"Choppiness Index",calculateFN:k7s.Studies.calculateChoppiness,centerline:"50" >> 0,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:61.8,studyOverBoughtColor:"auto",studyOverSoldValue:38.2,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:+"50",step:F1t},studyOverSoldValue:{max:50,step:B16}}}});}};j2=J5L=>{var R5w=l9y8Y;var u2g,p4m,m6d,t55,a6T,l15;R5w.Y$C();u2g=typeof _CIQ !== "undefined"?_CIQ:J5L.CIQ;if(!u2g.Studies){console.error("comparisonStudies feature requires first activating studies feature.");}else if(!u2g.Studies.initPriceRelative){console.error("comparisonStudies feature requires first activating priceRelative feature.");}else {p4m="S";p4m+="PY";m6d="B";m6d+="eta";t55="#FF";t55+="0000";a6T="#";a6T+="00D";a6T+="D0";a6T+="0";l15="-1";l15+=" to 1";u2g.Studies.calculateCorrelationCoefficient=function(p1Y,H3F){var D$P,A9T,v7j,S2r,R68,r5u,S9q,j0n,d$w,y8l,l31,Z93,q2_,t2g,N8M,y3j,P2Q,z7i,u6a,l9F,Q41;D$P=H3F.chart.scrubbed;A9T=H3F.days;if(D$P.length < A9T + 1){H3F.error=!![];return;}R5w.r8O();H3F.compare=H3F.inputs["Compare To"];if(!H3F.compare){H3F.compare=[];H3F.outputs={};H3F.outputMap={};for(var E51 in p1Y.chart.series){v7j=p1Y.chart.series[E51];if(v7j.parameters.color){H3F.compare.push(v7j.display);H3F.outputs["Result " + v7j.display]=v7j.parameters.color;R5w.u4X(66);var I0M=R5w.D45(10,10,183);R5w.u4X(3);var c6j=R5w.D45(114,14);R5w.T7s(134);var J1A=R5w.k5y(7028,2,521,19,11);R5w.u4X(42);var b9g=R5w.D45(959,3,1929);R5w.u4X(5);var v5_=R5w.D45(70932,65021);R5w.u4X(73);var V1p=R5w.D45(17,4086,13,18);R5w.T7s(119);var V8k=R5w.k5y(145280,36320,15,9091);R5w.u4X(135);var P6a=R5w.k5y(20,20,277,3042,6);R5w.u4X(66);var f$c=R5w.k5y(820,2,4510);H3F.outputMap["Result " + v7j.display + ((I0M,c6j) >= (J1A,b9g)?"X":(106.19,v5_) <= (+"1640",V1p)?(539.34,V8k) === (P6a,f$c)?"z":646.41:" ") + H3F.name]="Result " + v7j.display;}}}else {H3F.compare=[H3F.compare];}if(!H3F.compare.length){H3F.error="Correlation Coefficient requires at least one comparison symbol";return;}for(var I_m=0;I_m < H3F.compare.length;I_m++){S2r=0;R68=0;r5u=0;S9q=0;j0n=0;d$w=H3F.compare[I_m];y8l=0;for(var l1y=H3F.startFrom - A9T;l1y < D$P.length;l1y++){l31="_te";l31+="mp";l31+="s";l31+=" ";Z93="ob";Z93+="j";Z93+="ec";Z93+="t";q2_="ob";q2_+="j";q2_+="ect";if(!D$P[l1y])continue;t2g=D$P[l1y][d$w];if(t2g && typeof t2g == q2_){t2g=t2g.Close;}if(!t2g && t2g !== 0){N8M="_";N8M+="te";N8M+="mp";N8M+="s ";if(l1y > ("0" ^ 0) && D$P[l1y - +"1"] && D$P[l1y - 1]["_temps " + H3F.name] && D$P[l1y - 1]["_temps " + H3F.name].c){t2g=D$P[l1y - ("1" >> 64)][N8M + H3F.name].c;}else {t2g=0;}}if(t2g && typeof t2g == Z93){t2g=t2g.Close;}D$P[l1y][l31 + H3F.name]={};S2r+=D$P[l1y]["_temps " + H3F.name].b=D$P[l1y].Close;R68+=D$P[l1y]["_temps " + H3F.name].c=t2g;r5u+=D$P[l1y]["_temps " + H3F.name].b2=Math.pow(D$P[l1y].Close,2);S9q+=D$P[l1y]["_temps " + H3F.name].c2=Math.pow(t2g,2);j0n+=D$P[l1y]["_temps " + H3F.name].bc=D$P[l1y].Close * t2g;if(y8l >= A9T){y3j="_";y3j+="t";y3j+="emps";y3j+=" ";P2Q="_temps";P2Q+=" ";S2r-=D$P[l1y - A9T]["_temps " + H3F.name].b;R68-=D$P[l1y - A9T]["_temps " + H3F.name].c;r5u-=D$P[l1y - A9T][P2Q + H3F.name].b2;S9q-=D$P[l1y - A9T][y3j + H3F.name].c2;j0n-=D$P[l1y - A9T]["_temps " + H3F.name].bc;R5w.T7s(119);var Y9y=R5w.k5y(5,5,6,7);z7i=r5u / A9T - Math.pow(S2r / A9T,Y9y);R5w.u4X(74);var R$S=R5w.D45(15,3,34,0,14);u6a=S9q / A9T - Math.pow(R68 / A9T,R$S);R5w.T7s(9);var V7p=R5w.D45(19,18,12,23);l9F=j0n / A9T - S2r * R68 / Math.pow(A9T,V7p);Q41=l9F / Math.sqrt(z7i * u6a);R5w.u4X(14);var D0x=R5w.k5y(7,20,779514,6586,17);R5w.T7s(136);var q9G=R5w.D45(7245,4,805,3,161);R5w.u4X(6);var u14=R5w.D45(20,8,4848,17);R5w.u4X(5);var N91=R5w.k5y(5260,4208);D$P[l1y]["Result " + d$w + ((D0x,460.7) < (q9G,u14)?" ":N91) + H3F.name]=Q41;}y8l++;}}};u2g.Studies.calculatePerformance=function(k1U,Y6L){R5w.Y$C();var A77,L4X,S6i,w2e,j6J;A77="Comparis";A77+="on Symbol";L4X=Y6L.chart.scrubbed;S6i=Y6L.inputs[A77].toUpperCase();if(!S6i){S6i=Y6L.study.inputs["Comparison Symbol"];}if(!Y6L.days){Y6L.days=Y6L.study.inputs.Period;}if(L4X.length < Y6L.days + 1){Y6L.error=!!1;return;}u2g.Studies.MA("ma",Y6L.days,"Close",0,"_MA Base",k1U,Y6L);u2g.Studies.MA("ma",Y6L.days,S6i,0,"_MA Comp",k1U,Y6L);for(var h0w=Y6L.startFrom;h0w < L4X.length;h0w++){w2e="_MA ";w2e+="Base";w2e+=" ";j6J=L4X[h0w][S6i];if(j6J && (j6J.Close || j6J.Close === 0)){j6J=j6J.Close;}L4X[h0w]["Result " + Y6L.name]=L4X[h0w].Close / j6J * (L4X[h0w]["_MA Comp " + Y6L.name] / L4X[h0w][w2e + Y6L.name]);}};u2g.Studies.calculateBeta=function(D2z,W4L){var M9g,Z26,w5i,O53,I_8,d_E,a2u,O8S,y$I,t5E,b6q,R6K,G$b;M9g="_";M9g+="V";M9g+="A";M9g+="R";Z26="_VA";Z26+="R";Z26+="n";Z26+=" ";w5i="_";w5i+="CO";w5i+="VAR";O53="_COV";O53+="A";O53+="R";O53+="n ";I_8="m";I_8+="a";d_E="_";d_E+="MA ";d_E+="Base";a2u=W4L.chart.scrubbed;O8S=W4L.inputs["Comparison Symbol"].toUpperCase();if(!O8S){O8S=W4L.study.inputs["Comparison Symbol"];}if(!W4L.days){W4L.days=W4L.study.inputs.Period;}if(a2u.length < W4L.days + 1){W4L.error=!![];return;}for(var n1z=Math.max(W4L.startFrom,1);n1z < a2u.length;n1z++){y$I="_BaseC";y$I+="hange ";R5w.T7s(8);var w$e=R5w.D45(2,17,16);a2u[n1z][y$I + W4L.name]=a2u[n1z].Close / a2u[n1z - +"1"].Close - w$e;t5E=a2u[n1z][O8S];if(t5E && (t5E.Close || t5E.Close === 0)){t5E=t5E.Close;}R5w.T7s(25);b6q=a2u[R5w.D45("1",n1z)][O8S];if(b6q && (b6q.Close || b6q.Close === 0)){b6q=b6q.Close;}R5w.T7s(1);a2u[n1z]["_CompChange " + W4L.name]=R5w.k5y(t5E,b6q,1);}u2g.Studies.MA("ma",W4L.days,"_BaseChange " + W4L.name,0,d_E,D2z,W4L);u2g.Studies.MA("ma",W4L.days,"_CompChange " + W4L.name,0,"_MA Comp",D2z,W4L);for(n1z=Math.max(W4L.startFrom,W4L.days);n1z < a2u.length;n1z++){R6K="_CompCha";R6K+="nge ";a2u[n1z]["_COVARn " + W4L.name]=(a2u[n1z]["_BaseChange " + W4L.name] - a2u[n1z]["_MA Base " + W4L.name]) * (a2u[n1z]["_CompChange " + W4L.name] - a2u[n1z]["_MA Comp " + W4L.name]);a2u[n1z]["_VARn " + W4L.name]=Math.pow(a2u[n1z][R6K + W4L.name] - a2u[n1z]["_MA Comp " + W4L.name],"2" * 1);}u2g.Studies.MA(I_8,W4L.days,O53 + W4L.name,0,w5i,D2z,W4L);u2g.Studies.MA("ma",W4L.days,Z26 + W4L.name,0,M9g,D2z,W4L);for(n1z=Math.max(W4L.startFrom,W4L.days * 2 - 1);n1z < a2u.length;n1z++){G$b="_";G$b+="COVAR ";a2u[n1z]["Result " + W4L.name]=a2u[n1z][G$b + W4L.name] / a2u[n1z]["_VAR " + W4L.name];}};u2g.Studies.studyLibrary=u2g.extend(u2g.Studies.studyLibrary,{correl:{name:"Correlation Coefficient",range:l15,calculateFN:u2g.Studies.calculateCorrelationCoefficient,outputs:{}},"Perf Idx":{name:"Performance Index",centerline:1,initializeFN:u2g.Studies.initPriceRelative,seriesFN:u2g.Studies.displayVsComparisonSymbol,calculateFN:u2g.Studies.calculatePerformance,inputs:{Period:120,"Comparison Symbol":"SPY"},outputs:{Result:"auto",Gain:a6T,Loss:t55},deferUpdate:!""},Beta:{name:m6d,centerline:1,initializeFN:u2g.Studies.initPriceRelative,seriesFN:u2g.Studies.displayVsComparisonSymbol,calculateFN:u2g.Studies.calculateBeta,inputs:{Period:20,"Comparison Symbol":p4m},deferUpdate:!!"1"}});}};S3=q8B=>{var l1e,P$Y,H6I,t2u;l1e="und";l1e+="efin";l1e+="ed";P$Y=typeof _CIQ !== l1e?_CIQ:q8B.CIQ;if(!P$Y.Studies){H6I="coppock feature requires first activating studies ";H6I+="feature.";console.error(H6I);}else {t2u="fie";t2u+="ld";P$Y.Studies.calculateCoppock=function(z1l,X3n){var m1h=l9y8Y;var e9f,u_5,v6z,A4Y,q5g,M7v,i0i,c4w,o9O,Y1i,w9r;e9f="_S";e9f+="u";e9f+="m";e9f+=" ";u_5="Long Ro";u_5+="C";v6z="Cl";v6z+="o";v6z+="se";A4Y="f";A4Y+="i";A4Y+="el";A4Y+="d";q5g=X3n.chart.scrubbed;M7v=X3n.inputs.Field;if(!M7v || M7v == A4Y){M7v=v6z;}i0i=parseInt(X3n.inputs[u_5],10);if(!i0i){i0i=14;}c4w=parseInt(X3n.inputs["Short RoC"],10);if(!c4w){c4w=11;}o9O=X3n.days;if(!o9O){o9O=10;}if(i0i < c4w){return;}if(q5g.length < Math.max(c4w,i0i,o9O) + ("1" >> 96)){X3n.error=!!({});return;}for(var k$n=Math.max(X3n.startFrom,i0i);k$n < q5g.length;k$n++){m1h.T7s(5);Y1i=q5g[m1h.k5y(k$n,c4w)][M7v];m1h.T7s(5);w9r=q5g[m1h.D45(k$n,i0i)][M7v];if(Y1i && w9r){m1h.T7s(137);var E8B=m1h.k5y(7,104,4,7);q5g[k$n]["_Sum " + X3n.name]=E8B * (q5g[k$n][M7v] / Y1i + q5g[k$n][M7v] / w9r - +"2");}}P$Y.Studies.MA("weighted",o9O,e9f + X3n.name,0,"Result",z1l,X3n);};P$Y.Studies.studyLibrary=P$Y.extend(P$Y.Studies.studyLibrary,{Coppock:{name:"Coppock Curve",calculateFN:P$Y.Studies.calculateCoppock,inputs:{Period:10,Field:t2u,"Short RoC":11,"Long RoC":14}}});}};a0=M_2=>{var c1n=l9y8Y;c1n.r8O();var r2z,A8x,E1E,b_M,w4E;r2z=typeof _CIQ !== "undefined"?_CIQ:M_2.CIQ;if(!r2z.Studies){A8x="darvasBox feature requires ";A8x+="first activa";A8x+="ting studies feature.";console.error(A8x);}else {E1E="#5F7C";E1E+="B8";b_M="hig";b_M+="h/lo";b_M+="w";w4E="Darvas";w4E+=" ";w4E+="B";w4E+="ox";r2z.Studies.calculateDarvas=function(o6R,M8V){var O30,y24,v1m,u9p,c7p,U5y,m0d,n4g,l19,v8x,n3e,c0a,h8P,Y32,W3U,z0W,e$u,U4a,c9$,R$d,w2F,l2T,d1q,P_T,A2X,g_s,h5S,b14,s_0;O30="A";O30+="T";O30+="H";y24="****";y24+="****";y24+="*********";v1m="Volume %";v1m+=" ";v1m+="o";v1m+="f Avg";u9p="ATH Lookback ";u9p+="Period";c7p=M8V.chart.scrubbed;U5y=0;m0d=parseInt(M8V.inputs[u9p],10);if(M8V.inputs["Volume Spike"]){n4g="s";n4g+="i";n4g+="mple";r2z.Studies.MA(n4g,m0d,"Volume",0,"ADV",o6R,M8V);}c1n.T7s(3);var o$t=c1n.D45(85,15);l19=parseFloat(M8V.inputs[v1m]) / o$t;v8x="none";n3e={};c0a=null;h8P=null;Y32=null;W3U=parseFloat(M8V.inputs["Level Offset"]);z0W=!"1";if(z0W){console.log(y24);}U4a={};["Darvas","Ghost","Profit","Loss",O30,"ADV","Spike"].forEach(function(g26){U4a[g26]=g26 + " " + M8V.name;});for(e$u=M8V.startFrom - 1;e$u > 0;e$u--){c9$=c7p[e$u];if(c9$[U4a.Darvas] || c9$[U4a.Ghost]){for(var r1Y in U4a){c9$[r1Y]=null;}}else {U5y=c9$[U4a.ATH] || +"0";h8P=c9$[U4a.Profit];Y32=c9$[U4a.Loss];break;}}for(e$u;e$u < c7p.length;e$u++){R$d="Volu";R$d+="me Spike";w2F="P";w2F+="rice";w2F+=" Min";w2F+="imum";l2T=c7p[e$u];if(!l2T)continue;if(parseFloat(M8V.inputs[w2F]) <= c7p[U5y].Close){d1q="no";d1q+="ne";if(c0a && (!c0a.End || e$u == c0a.End + 1)){if(c7p[e$u - 1].Close > n3e.High){n3e={State:1,High:2 * n3e.High - n3e.Low,Low:n3e.High,Start:e$u,End:2 * n3e.End - n3e.Start + 1};}else {c0a=null;;}if(c0a){l2T[U4a.Ghost]=r2z.clone(n3e);if(z0W){console.log("Ghost begin:" + l2T.DT);}n3e.State=0;if(c7p[n3e.End]){c7p[n3e.End][U4a.Ghost]=r2z.clone(n3e);if(z0W){console.log("Ghost end:" + c7p[n3e.End].DT);}}c0a={Start:n3e.Start,End:n3e.End};h8P=n3e.High + W3U;if(!Y32 || Y32 < n3e.Low - W3U){Y32=n3e.Low - W3U;}}}l2T[U4a.Profit]=h8P;l2T[U4a.Loss]=Y32;if(l2T.Close >= h8P){h8P=null;}else if(M8V.inputs["Exit Field"] == "high/low" && l2T.High >= h8P){h8P=null;}if(v8x == d1q){if(e$u == U5y + +"3"){if(!c7p[U5y + 2][U4a.Darvas] && !c7p[U5y + 1][U4a.Darvas] && !c7p[U5y][U4a.Darvas] && c7p[U5y].High > l2T.High){v8x="high";;}}}if(v8x == "high"){if(l2T.High > c7p[U5y].High){v8x="none";}else if(c7p[e$u - 3].Low < c7p[e$u - 2].Low && c7p[e$u - 3].Low < c7p[e$u - 1].Low && c7p[e$u - 3].Low < l2T.Low){P_T="d";P_T+="ar";P_T+="v";P_T+="as";n3e={State:1,High:c7p[U5y].High,Low:c7p[e$u - 3].Low,Start:U5y};c7p[U5y][U4a.Darvas]=r2z.clone(n3e);v8x=P_T;if(z0W){console.log("Darvas begin:" + c7p[U5y].DT);}if(z0W){console.log("Darvas established:" + l2T.DT);}if(c0a){if(c0a.End > e$u && c7p[c0a.Start]){l2T[U4a.Ghost]=r2z.clone(c7p[c0a.Start][U4a.Ghost]);l2T[U4a.Ghost].End=e$u;if(c7p[c0a.End]){delete c7p[c0a.End][U4a.Ghost];if(z0W){console.log("Ghost End removed:" + c7p[c0a.End].DT);}}}l2T[U4a.Ghost].State=0;c7p[c0a.Start][U4a.Ghost].End=e$u;if(z0W){console.log("Ghost end:" + l2T.DT);}c0a=null;}h8P=n3e.High + W3U;if(!Y32 || Y32 < n3e.Low - W3U){Y32=n3e.Low - W3U;}}}if(v8x == "darvas"){A2X="high/";A2X+="l";A2X+="o";A2X+="w";g_s="E";g_s+="xit";g_s+=" Fie";g_s+="ld";h5S="n";h5S+="one";b14="Exit F";b14+="ield";if(l2T.Close > n3e.High){c0a={};}else if(M8V.inputs[b14] == "high/low" && l2T.High > n3e.High){c0a={};}else if(l2T.Close < n3e.Low){v8x=h5S;}else if(M8V.inputs[g_s] == A2X && l2T.Low < n3e.Low){v8x="none";}if(c0a){v8x="none";}else if(v8x == "none"){h8P=null;Y32=null;}if(!M8V.inputs["Ghost Boxes"]){c0a=null;}if(v8x == "none"){for(var a9R=n3e.Start + 1;a9R < e$u;a9R++){c7p[a9R][U4a.Darvas]=r2z.clone(n3e);}n3e.State=0;n3e.End=e$u;l2T[U4a.Darvas]=r2z.clone(n3e);if(z0W){console.log("Darvas end:" + l2T.DT);}l2T[U4a.ATH]=U5y;continue;}}if(Y32){if(l2T.Close < n3e.Low || M8V.inputs["Exit Field"] == "high/low" && l2T.Low < n3e.Low){if(v8x == "darvas"){v8x="none";}if(l2T.Close < Y32 || M8V.inputs["Exit Field"] == "high/low" && l2T.Low < Y32){h8P=null;Y32=null;}if(c0a){s_0="Ghos";s_0+="t e";s_0+="nd:";if(c0a.End > e$u && c7p[c0a.Start]){l2T[U4a.Ghost]=r2z.clone(c7p[c0a.Start][U4a.Ghost]);l2T[U4a.Ghost].End=e$u;if(c7p[c0a.End]){delete c7p[c0a.End][U4a.Ghost];if(z0W){console.log("Ghost End removed:" + c7p[c0a.End].DT);}}}l2T[U4a.Ghost].State=+"0";c7p[c0a.Start][U4a.Ghost].End=e$u;if(z0W){console.log(s_0 + l2T.DT);}c0a=null;}}}}if(l2T.High >= c7p[U5y].High){U5y=e$u;if(z0W){console.log("All Time High:" + l2T.DT);}}if(e$u < +"3" || l2T.High >= c7p[e$u - 1].High && l2T.High >= c7p[e$u - +"2"].High && l2T.High >= c7p[e$u - 3].High){if(e$u - U5y >= m0d){U5y=e$u;for(var K3K=0;K3K < m0d;K3K++){if(e$u - K3K < 0)break;if(c7p[e$u - K3K].High > c7p[U5y].High){c1n.u4X(5);U5y=c1n.D45(e$u,K3K);}}if(z0W){console.log("All Time High:" + l2T.DT);}}}if(M8V.inputs[R$d] && e$u > m0d && e$u == U5y){if(l2T[U4a.ADV] * l19 < l2T.Volume){l2T[U4a.Spike]=1;if(z0W){console.log("Volume Spike:" + l2T.DT);}}}l2T[U4a.ATH]=U5y;}};r2z.Studies.displayDarvas=function(R_M,i9G,S0_){var p2T,B6g,i7p,J2z,E9J,o5s,a78,P8Y,H$p,R$H,N11,b5K,p9f,X73,U98,b9j,x95,y6E,M9_,H0t,O79,I$z,k9o,v8b,A9a,s6n,b29,g_Z,x8G,R1d,a2i,c5j,U5v,z_n,v1D,N80,u3n,a0e;p2T="a";p2T+="u";p2T+="t";p2T+="o";B6g=r2z.Studies.determineColor(i9G.outputs.Levels);if(!B6g || B6g == "auto" || r2z.isTransparent(B6g)){B6g=R_M.defaultColor;}i7p=r2z.Studies.determineColor(i9G.outputs.Darvas);if(!i7p || i7p == p2T || r2z.isTransparent(i7p)){i7p=R_M.defaultColor;}J2z=r2z.Studies.determineColor(i9G.outputs.Ghost);if(!J2z || J2z == "auto" || r2z.isTransparent(J2z)){J2z=R_M.defaultColor;}E9J=R_M.panels[i9G.panel];o5s=i9G.getContext(R_M);c1n.u4X(138);var s8G=c1n.D45(9,0,8,20,19);N11=R_M.layout.candleWidth - s8G;if(N11 < +"2"){N11=+"1";}R_M.startClip(i9G.panel);if(i9G.inputs["Stop Levels"]){if(o5s.setLineDash){o5s.setLineDash([2,2]);}o5s.lineWidth=+"2";o5s.strokeStyle=B6g;o5s.beginPath();for(a78=0;a78 < S0_.length;a78++){b5K="L";b5K+="o";b5K+="ss";b5K+=" ";p9f="Lo";p9f+="s";p9f+="s ";P8Y=S0_[a78];c1n.T7s(25);X73=S0_[c1n.k5y("1",a78)];if(!P8Y)continue;R$H=P8Y["Loss " + i9G.name]?Math.floor(R_M.pixelFromPrice(P8Y["Loss " + i9G.name],E9J)):null;U98=X73 && X73[p9f + i9G.name]?Math.floor(R_M.pixelFromPrice(X73[b5K + i9G.name],E9J)):null;if(R$H){if(P8Y.candleWidth){N11=Math.floor(Math.max(1,P8Y.candleWidth));}b9j=Math.floor(R_M.pixelFromBar(a78,E9J.chart) + N11 / 2);x95=Math.floor(R_M.pixelFromBar(a78,E9J.chart) - N11 / 2);if(U98 && U98 >= R$H){o5s.lineTo(x95,R$H);}else if(a78 === 0){o5s.moveTo(R_M.chart.left,R$H);}else {o5s.moveTo(x95,R$H);}o5s.lineTo(b9j,R$H);}}o5s.stroke();if(o5s.setLineDash){o5s.setLineDash([]);}c1n.u4X(44);o5s.lineWidth=c1n.k5y("1",0);}y6E=-10;H0t=0;c1n.Y$C();I$z=-10;v8b=+"0";s6n=!({});b29=!({});g_Z=o5s.measureText("\u25B2").width / +"2";x8G=0;for(a78="0" ^ 0;a78 < S0_.length;a78++){R1d="Ghos";R1d+="t";R1d+=" ";if(!S0_[a78])continue;if(S0_[a78].Close || S0_[a78].Close === 0){x8G=a78;}if(S0_[a78]["Spike " + i9G.name]){a2i="b";a2i+="ott";a2i+="om";o5s.fillStyle=i7p;o5s.textBaseline=a2i;c5j=R_M.pixelFromPrice(S0_[a78].High,R_M.chart.panel);o5s.fillText(8840 > (676,4246)?"\u25BC":5460 > (1537,564.53)?(0x1bde,!![]):(!!"",6.21e+3),R_M.pixelFromBar(a78) - g_Z,c5j - 5);;}if(S0_[a78].candleWidth){N11=Math.floor(Math.max(1,S0_[a78].candleWidth));}if(S0_[a78]["Darvas " + i9G.name]){P8Y=S0_[a78]["Darvas " + i9G.name];if(P8Y.State == 1 && !s6n){y6E=Math.floor(R_M.pixelFromBar(a78,E9J.chart) - N11 / 2);M9_=Math.floor(R_M.pixelFromPrice(P8Y.High,E9J));O79=Math.floor(R_M.pixelFromPrice(P8Y.Low,E9J)) - M9_;s6n=!!({});}else if(P8Y.State === 0){c1n.T7s(66);var G0T=c1n.D45(6,6,1);H0t=Math.floor(R_M.pixelFromBar(a78,E9J.chart) + N11 / G0T) - y6E;M9_=Math.floor(R_M.pixelFromPrice(P8Y.High,E9J));O79=Math.floor(R_M.pixelFromPrice(P8Y.Low,E9J)) - M9_;o5s.strokeStyle=i7p;o5s.fillStyle=i7p;if(!i9G.inputs["Stop Levels"]){o5s.strokeRect(y6E,M9_,H0t,O79);o5s.globalAlpha=0.2;}else {c1n.u4X(5);o5s.globalAlpha=c1n.k5y("0.3",0);}o5s.fillRect(y6E,M9_,H0t,O79);o5s.globalAlpha=1;s6n=!!"";}}if(S0_[a78][R1d + i9G.name] && i9G.inputs["Ghost Boxes"]){P8Y=S0_[a78]["Ghost " + i9G.name];if(P8Y.State == 1 && !b29){I$z=Math.floor(R_M.pixelFromBar(a78,E9J.chart) - N11 / 2);k9o=Math.floor(R_M.pixelFromPrice(P8Y.High,E9J));v8b=Math.floor((P8Y.End - P8Y.Start + 1) * R_M.layout.candleWidth + N11 / 2);A9a=Math.floor(R_M.pixelFromPrice(P8Y.Low,E9J)) - k9o;b29=!"";}else if(P8Y.State === 0){if(P8Y.Start == P8Y.End){I$z=Math.floor(R_M.pixelFromBar(a78,E9J.chart) - N11 / ("2" >> 96));}v8b=Math.floor(R_M.pixelFromBar(a78,E9J.chart) + N11 / +"2") - I$z;k9o=Math.floor(R_M.pixelFromPrice(P8Y.High,E9J));A9a=Math.floor(R_M.pixelFromPrice(P8Y.Low,E9J)) - k9o;o5s.strokeStyle=J2z;o5s.fillStyle=J2z;if(!i9G.inputs["Stop Levels"]){o5s.strokeRect(I$z,k9o,v8b,A9a);o5s.globalAlpha=0.2;}else {o5s.globalAlpha=0.3;}o5s.fillRect(I$z,k9o,v8b,A9a);o5s.globalAlpha=1;b29=!!"";}}}if(s6n){H0t=Math.floor(R_M.pixelFromBar(x8G,E9J.chart) + N11 / +"2") - y6E;o5s.strokeStyle=i7p;o5s.fillStyle=i7p;if(!i9G.inputs["Stop Levels"]){o5s.beginPath();c1n.u4X(99);o5s.moveTo(c1n.D45(2,H0t,y6E),M9_);o5s.lineTo(y6E,M9_);c1n.u4X(3);o5s.lineTo(y6E,c1n.D45(M9_,O79));c1n.T7s(99);o5s.lineTo(c1n.D45(2,H0t,y6E),c1n.k5y(M9_,O79,c1n.u4X(3)));o5s.stroke();o5s.globalAlpha=0.2;}else {o5s.globalAlpha=0.3;}U5v=-+"1758931124";z_n=485761774;v1D=+"2";for(var x7T=1;c1n.U3Y(x7T.toString(),x7T.toString().length,6966) !== U5v;x7T++){c1n.u4X(10);o5s.fillRect(y6E,M9_,c1n.k5y(2,H0t),O79);v1D+=+"2";}if(c1n.L3M(v1D.toString(),v1D.toString().length,9755) !== z_n){c1n.u4X(98);o5s.fillRect(y6E,M9_,c1n.k5y(1,H0t,"6"),O79);}o5s.globalAlpha=+"1";}if(b29){N80="S";N80+="top ";N80+="L";N80+="evels";o5s.strokeStyle=J2z;o5s.fillStyle=J2z;if(!i9G.inputs[N80]){o5s.strokeRect(I$z,k9o,v8b,A9a);o5s.globalAlpha=0.2;}else {c1n.T7s(5);o5s.globalAlpha=c1n.D45("0.3",0);}o5s.fillRect(I$z,k9o,v8b,A9a);o5s.globalAlpha=1;}if(s6n || b29){u3n="Stop L";u3n+="evel";u3n+="s";if(i9G.inputs[u3n]){if(o5s.setLineDash){o5s.setLineDash([2,2]);}o5s.lineWidth=2;o5s.strokeStyle=B6g;a0e=Math.floor(R_M.pixelFromBar(x8G - 1,E9J.chart) + N11 / 2);if(H$p){o5s.beginPath();o5s.moveTo(a0e,H$p);o5s.lineTo(s6n?y6E + 2 * H0t:I$z + v8b,H$p);o5s.stroke();}if(R$H){o5s.beginPath();o5s.moveTo(a0e,R$H);o5s.lineTo(s6n?y6E + 2 * H0t:I$z + v8b,R$H);o5s.stroke();}if(o5s.setLineDash){o5s.setLineDash([]);}o5s.lineWidth=1;}s6n=![];b29=!({});}R_M.endClip();};r2z.Studies.studyLibrary=r2z.extend(r2z.Studies.studyLibrary,{Darvas:{name:w4E,underlay:!!({}),calculateFN:r2z.Studies.calculateDarvas,seriesFN:r2z.Studies.displayDarvas,inputs:{"ATH Lookback Period":100,"Exit Field":["close",b_M],"Ghost Boxes":!!({}),"Stop Levels":![],"Level Offset":0.01,"Price Minimum":5,"Volume Spike":!({}),"Volume % of Avg":400},outputs:{Darvas:E1E,Ghost:"#699158",Levels:"auto"},customRemoval:!!({}),attributes:{"Price Minimum":{min:0.01,step:"0.01" - 0},yaxisDisplayValue:{hidden:!!"1"},panelName:{hidden:!!({})},flippedEnabled:{hidden:!0}}}});}};Q$=A_z=>{var C1e;C1e=typeof _CIQ !== "undefined"?_CIQ:A_z.CIQ;if(!C1e.Studies){console.error("detrended feature requires first activating studies feature.");}else {C1e.Studies.calculateDetrendedPrice=function(X_b,n7J){var I3f,P$W,V_G,C28,R$j,S2P,N2$,r9p;I3f="Cl";I3f+="o";I3f+="s";I3f+="e";P$W="fi";P$W+="e";P$W+="ld";V_G=n7J.chart.scrubbed;if(V_G.length < n7J.days + 1){n7J.error=!!1;return;}C28=n7J.inputs.Field;if(!C28 || C28 == P$W){C28=I3f;}R$j=Math.floor(n7J.days / +"2" + ("1" - 0));C1e.Studies.MA(n7J.inputs["Moving Average Type"],n7J.days,C28,-R$j,"MA",X_b,n7J);for(var c0k=Math.max(n7J.days - R$j - 1,n7J.startFrom - R$j);c0k < V_G.length - R$j;c0k++){S2P="o";S2P+="bject";if(c0k < "0" << 0)continue;N2$=V_G[c0k][C28];if(N2$ && typeof N2$ == S2P){N2$=N2$[n7J.subField];}r9p=V_G[c0k]["MA " + n7J.name];if((N2$ || N2$ === 0) && (r9p || r9p === 0)){l9y8Y.u4X(5);V_G[c0k]["Result " + n7J.name]=l9y8Y.D45(N2$,r9p);}}};C1e.Studies.studyLibrary=C1e.extend(C1e.Studies.studyLibrary,{Detrended:{name:"Detrended Price Oscillator",calculateFN:C1e.Studies.calculateDetrendedPrice,inputs:{Period:14,Field:"field","Moving Average Type":"ma"}}});}};N1=q5I=>{var F_$,b_a;F_$=typeof _CIQ !== "undefined"?_CIQ:q5I.CIQ;if(!F_$.Studies){console.error("disparity feature requires first activating studies feature.");}else {b_a="m";b_a+="a";F_$.Studies.calculateDisparity=function(u3b,H4l){var l2e,c6Z,v8P;l2e=H4l.chart.scrubbed;if(l2e.length < H4l.days + +"1"){H4l.error=!!({});return;}c6Z=H4l.inputs.Field;if(!c6Z || c6Z == "field"){c6Z="Close";}F_$.Studies.MA(H4l.inputs["Moving Average Type"],H4l.days,c6Z,0,"_MA",u3b,H4l);for(var h$B=Math.max(H4l.startFrom,H4l.days - +"1");h$B < l2e.length;h$B++){if(!l2e[h$B])continue;v8P=l2e[h$B]["_MA " + H4l.name];if(v8P){l9y8Y.u4X(5);var s92=l9y8Y.D45(19,18);l2e[h$B]["Result " + H4l.name]=("100" - 0) * (l2e[h$B][c6Z] / v8P - s92);}}};F_$.Studies.studyLibrary=F_$.extend(F_$.Studies.studyLibrary,{Disparity:{name:"Disparity Index",calculateFN:F_$.Studies.calculateDisparity,inputs:{Period:14,Field:"field","Moving Average Type":b_a}}});}};x8=u7$=>{var R8Y=l9y8Y;var O_D,G6j;O_D=typeof _CIQ !== "undefined"?_CIQ:u7$.CIQ;R8Y.Y$C();if(!O_D.Studies){console.error("easeOfMovement feature requires first activating studies feature.");}else {G6j="Ease ";G6j+="of Mo";G6j+="vement";O_D.Studies.calculateEaseOfMovement=function(m5o,k_3){var O9I,x$f,e5e,H16,m$O,X39,I0Z,B1I;O9I="_E";O9I+="O";O9I+="M1 ";x$f="Mo";x$f+="ving Av";x$f+="erage Type";e5e=k_3.chart.scrubbed;if(e5e.length < k_3.days){k_3.error=!!"1";return;}for(var Y9H=Math.max(1,k_3.startFrom);Y9H < e5e.length;Y9H++){R8Y.u4X(139);var B8g=R8Y.D45(13,7,457,13,15);H16=(e5e[Y9H].High + e5e[Y9H].Low) / B8g;R8Y.T7s(85);var O6O=R8Y.D45(18,19);R8Y.T7s(140);var q9q=R8Y.k5y(24,19,15,4,5);R8Y.u4X(85);var q0a=R8Y.D45(7,9);m$O=(e5e[Y9H - O6O].High + e5e[Y9H - q9q].Low) / q0a;R8Y.T7s(5);X39=R8Y.D45(H16,m$O);R8Y.T7s(66);var z0f=R8Y.k5y(100000002,3,66666666);I0Z=e5e[Y9H].Volume / z0f / (e5e[Y9H].High - e5e[Y9H].Low);R8Y.u4X(12);B1I=R8Y.k5y(X39,I0Z);if(!isFinite(B1I)){e5e[Y9H]["_EOM1 " + k_3.name]=NaN;}else {e5e[Y9H]["_EOM1 " + k_3.name]=B1I;}}O_D.Studies.MA(k_3.inputs[x$f],k_3.days,O9I + k_3.name,0,"Result",m5o,k_3);};O_D.Studies.studyLibrary=O_D.extend(O_D.Studies.studyLibrary,{EOM:{name:G6j,calculateFN:O_D.Studies.calculateEaseOfMovement,inputs:{Period:14,"Moving Average Type":"ma"}}});}};W3=Z1B=>{var m2e,T6I;m2e=typeof _CIQ !== "undefined"?_CIQ:Z1B.CIQ;if(!m2e.Studies){console.error("ehlerFisher feature requires first activating studies feature.");}else {T6I="Ehle";T6I+="r Fishe";T6I+="r Tra";T6I+="nsform";m2e.Studies.calculateEhlerFisher=function(j9E,n_Q){var j1j=l9y8Y;var Y60,I_x,z$h,H46,h1_,x4G,u9_,e5t,Y8j;Y60="_";j1j.Y$C();Y60+="n ";I_x=n_Q.chart.scrubbed;if(I_x.length < n_Q.days + 1){n_Q.error=!!"1";return;}z$h=0;if(n_Q.startFrom > 1){j1j.T7s(125);var F7g=j1j.D45(4,7,9,18);z$h=I_x[n_Q.startFrom - F7g][Y60 + n_Q.name];}function l2Y(c7_,d5h){var q$z,P3T,p_g,b_p,p5U,r7p;q$z=Number.MAX_VALUE;j1j.T7s(74);var B1D=j1j.k5y(5,5,7,4,2);P3T=Number.MAX_VALUE * B1D;for(var P0X=d5h - c7_ + 1;P0X <= d5h;P0X++){j1j.T7s(8);var U0x=j1j.k5y(0,9,11);p_g=(I_x[P0X].High + I_x[P0X].Low) / U0x;q$z=Math.min(q$z,p_g);P3T=Math.max(P3T,p_g);}b_p=-462894389;p5U=1490492799;r7p=2;for(var c8x=1;j1j.L3M(c8x.toString(),c8x.toString().length,85506) !== b_p;c8x++){return [q$z,P3T];}if(j1j.U3Y(r7p.toString(),r7p.toString().length,70977) !== p5U){return [q$z,P3T];}}for(var N03=n_Q.startFrom;N03 < I_x.length;N03++){H46="EF Tri";H46+="gger ";h1_=I_x[N03];if(h1_.futureTick)break;if(N03 < n_Q.days - 1){x4G="EF Tr";x4G+="ig";x4G+="ger ";u9_="E";u9_+="F";u9_+=" ";h1_[u9_ + n_Q.name]=h1_[x4G + n_Q.name]=z$h;continue;}e5t=l2Y(n_Q.days,N03);j1j.T7s(3);var n6C=j1j.k5y(59,5);j1j.T7s(141);var U4O=j1j.D45(4,13,1,11,8);j1j.u4X(87);var B8s=j1j.D45(5,9,2,13,3);z$h=0.33 * ("2" >> n6C) * (((I_x[N03].High + I_x[N03].Low) / U4O - e5t[0]) / Math.max(0.000001,e5t[B8s] - e5t[0]) - 0.5) + 0.67 * z$h;if(z$h > 0){z$h=Math.min(z$h,0.9999);}else if(z$h < 0){z$h=Math.max(z$h,-+"0.9999");}Y8j=N03?I_x[N03 - 1]["EF " + n_Q.name]:0;j1j.T7s(5);var V8F=j1j.k5y(7,6);h1_["EF " + n_Q.name]=0.5 * Math.log((V8F + z$h) / (+"1" - z$h)) + 0.5 * Y8j;h1_[H46 + n_Q.name]=Y8j;h1_["_n " + n_Q.name]=z$h;}};m2e.Studies.studyLibrary=m2e.extend(m2e.Studies.studyLibrary,{"Ehler Fisher":{name:T6I,calculateFN:m2e.Studies.calculateEhlerFisher,inputs:{Period:10},outputs:{EF:"auto","EF Trigger":"#FF0000"}}});}};v4=x0W=>{var U1e=l9y8Y;var X7t,x6W,o2M,Q6f;X7t=typeof _CIQ !== "undefined"?_CIQ:x0W.CIQ;U1e.r8O();if(!X7t.Studies){console.error("elder feature requires first activating studies feature.");}else {x6W="#";x6W+="5F7CB8";o2M="#DD3E";o2M+="39";Q6f="#";Q6f+="00";Q6f+="DD00";X7t.Studies.calculateElderImpulse=function(b1T,n1k){var a0$,h5B,E_d,u6X,U6t,K8L,e2J,H92,G_w;a0$="expo";a0$+="nential";h5B=n1k.chart.scrubbed;E_d=n1k.outputs.Bullish;u6X=n1k.outputs.Bearish;U6t=n1k.outputs.Neutral;X7t.Studies.MA(a0$,13,"Close",0,"_MA",b1T,n1k);U1e.T7s(60);var s53=U1e.k5y(18,113730,10,107048);U1e.u4X(119);var A0$=U1e.k5y(478,1,7,4789);U1e.T7s(67);var t33=U1e.k5y(1036,12,6221,6216,18);U1e.T7s(142);var P88=U1e.D45(1073,1,12,8563,12);n1k.macd=new X7t.Studies.StudyDescriptor((s53 != A0$?"_":t33 > 550.07?!0:(P88,!![])) + n1k.name,"macd",n1k.panel);n1k.macd.chart=n1k.chart;n1k.macd.days=n1k.days;n1k.macd.startFrom=n1k.startFrom;n1k.macd.inputs={"Fast MA Period":12,"Slow MA Period":26,"Signal Period":9};n1k.macd.outputs={_MACD:null,_Signal:null};X7t.Studies.calculateMACD(b1T,n1k.macd);for(var Q4f=n1k.startFrom;Q4f < h5B.length;Q4f++){e2J="_";e2J+="h";e2J+="ist";H92="_h";H92+="i";H92+="s";H92+="t";G_w="_";G_w+="M";G_w+="A";G_w+=" ";if(Q4f === 0){K8L=U6t;}else if(h5B[Q4f]["_MA " + n1k.name] > h5B[Q4f - +"1"]["_MA " + n1k.name] && h5B[Q4f][(+"9615" >= 7489?"_":("P",6.96e+3)) + n1k.name + "_hist"] > h5B[Q4f - 1]["_" + n1k.name + "_hist"]){K8L=E_d;}else if(h5B[Q4f][G_w + n1k.name] < h5B[Q4f - 1]["_MA " + n1k.name] && h5B[Q4f]["_" + n1k.name + H92] < h5B[Q4f - 1]["_" + n1k.name + e2J]){K8L=u6X;}else {K8L=U6t;}h5B[Q4f]["Result " + n1k.name]=K8L;;}};X7t.Studies.calculateElderRay=function(E4X,H2U){var t8i,I2u,t22,Z4h,x63,x7e,c6k;t8i="_E";t8i+="M";U1e.Y$C();t8i+="A";I2u="Clo";I2u+="s";I2u+="e";t22="ex";t22+="p";t22+="o";t22+="nential";Z4h=H2U.chart.scrubbed;if(Z4h.length < H2U.days){H2U.error=!!({});return;}X7t.Studies.MA(t22,H2U.days,I2u,0,t8i,E4X,H2U);for(var U1q=Math.max(H2U.startFrom,H2U.days - ("1" ^ 0));U1q < Z4h.length;U1q++){x63="_";x63+="E";x63+="MA ";x7e="_";x7e+="hist2";c6k="_EMA";c6k+=" ";Z4h[U1q][H2U.name + "_hist1"]=Z4h[U1q].High - Z4h[U1q][c6k + H2U.name];Z4h[U1q][H2U.name + x7e]=Z4h[U1q].Low - Z4h[U1q][x63 + H2U.name];}H2U.outputMap={};H2U.outputMap[H2U.name + "_hist1"]="";H2U.outputMap[H2U.name + "_hist2"]="";};X7t.Studies.calculateElderForce=function(E1o,S1s){var v9e,L9s,g92,x5g;v9e="R";v9e+="es";v9e+="ult";L9s="_E";L9s+="F";L9s+="1 ";g92="exponentia";g92+="l";x5g=S1s.chart.scrubbed;if(x5g.length < S1s.days){S1s.error=!![];return;}for(var A7M=Math.max(1,S1s.startFrom);A7M < x5g.length;A7M++){x5g[A7M]["_EF1 " + S1s.name]=x5g[A7M].Volume * (x5g[A7M].Close - x5g[A7M - +"1"].Close);}X7t.Studies.MA(g92,S1s.days,L9s + S1s.name,0,v9e,E1o,S1s);};X7t.Studies.initElderImpulse=function(P2o,u$J,Q9f,Y51,x08,K7P){var z3S;z3S=X7t.Studies.initializeFN(P2o,u$J,Q9f,Y51,x08,K7P);if(!x08.calculateOnly){P2o.chart.customChart={chartType:"colored_bar",colorFunction:function(C2G,B$C,C$$){var c5b;c5b=B$C["Result " + z3S.name];if(c5b && typeof c5b == "object"){c5b=c5b.color;}return c5b;}};P2o.setMainSeriesRenderer();}U1e.r8O();return z3S;};X7t.Studies.displayElderForce=function(g6t,b5_,U69){var S$p,u_X,Z$t,H5U;X7t.Studies.displaySeriesAsLine(g6t,b5_,U69);S$p=X7t.Studies.determineColor(b5_.outputs.Result);u_X=g6t.panels[b5_.panel];Z$t=b5_.getYAxis(g6t);H5U={skipTransform:u_X.name != b5_.chart.name,panelName:b5_.panel,band:"Result " + b5_.name,threshold:0,color:S$p,yAxis:Z$t};if(!b5_.highlight && g6t.highlightedDraggable){H5U.opacity=0.3;}H5U.direction=1;X7t.preparePeakValleyFill(g6t,H5U);U1e.T7s(27);H5U.direction=-U1e.D45(0,"1");X7t.preparePeakValleyFill(g6t,H5U);};X7t.Studies.displayElderRay=function(g$n,J7l,Y8P){var O07,Q1k,z1g,E7N,w1N,F5T,p6y,I8_,a3_,n9E,d6J;O07=g$n.panels[J7l.panel];Q1k=J7l.getContext(g$n);z1g=J7l.getYAxis(g$n);U1e.T7s(13);E7N=g$n.pixelFromPrice(U1e.D45(0,"0"),O07,z1g);U1e.T7s(73);var k_W=U1e.D45(16,0,8,22);w1N=g$n.layout.candleWidth - k_W;if(w1N < "2" - 0){w1N=+"1";}g$n.canvasColor("stx_histogram");F5T=Q1k.fillStyle;if(!J7l.underlay){Q1k.globalAlpha=1;}g$n.startClip(J7l.panel);if(!J7l.highlight && g$n.highlightedDraggable){Q1k.globalAlpha*=0.3;}for(var j5F=0;j5F < Y8P.length;j5F++){p6y="_hi";p6y+="st2";I8_="Elde";I8_+="r Bear Power";a3_="_h";a3_+="i";a3_+="s";a3_+="t1";n9E="Elder B";n9E+="ull Powe";n9E+="r";d6J=Y8P[j5F];if(!d6J)continue;if(d6J.candleWidth){w1N=Math.floor(Math.max(1,d6J.candleWidth - 2));}if(d6J[J7l.name + "_hist1"] > +"0"){o6n(j5F,0,n9E,"_hist1");}if(d6J[J7l.name + "_hist2"] < 0){o6n(j5F,0,"Elder Bear Power","_hist2");}if(d6J[J7l.name + a3_] < 0){o6n(j5F,0.1,"Elder Bull Power","_hist1");}if(d6J[J7l.name + "_hist2"] > 0){o6n(j5F,0.1,I8_,p6y);}}function o6n(j1F,N5A,S0I,L$1){Q1k.fillStyle=X7t.Studies.determineColor(J7l.outputs[S0I]);U1e.Y$C();Q1k.fillRect(Math.floor(g$n.pixelFromBar(j1F,O07.chart) - w1N / +"2" + w1N * N5A),Math.floor(E7N),Math.floor(w1N * (1 - 2 * N5A)),Math.floor(g$n.pixelFromPrice(d6J[J7l.name + L$1],O07,z1g) - E7N));}g$n.endClip();U1e.r8O();Q1k.fillStyle=F5T;};X7t.Studies.studyLibrary=X7t.extend(X7t.Studies.studyLibrary,{"Elder Force":{name:"Elder Force Index",calculateFN:X7t.Studies.calculateElderForce,seriesFN:X7t.Studies.displayElderForce,inputs:{Period:13}},"Elder Ray":{name:"Elder Ray Index",seriesFN:X7t.Studies.displayElderRay,calculateFN:X7t.Studies.calculateElderRay,centerline:0,inputs:{Period:13},outputs:{"Elder Bull Power":Q6f,"Elder Bear Power":"#FF0000"}},"Elder Impulse":{name:"Elder Impulse System",calculateFN:X7t.Studies.calculateElderImpulse,initializeFN:X7t.Studies.initElderImpulse,seriesFN:null,customRemoval:!![],underlay:!!1,inputs:{},outputs:{Bullish:"#8BC176",Bearish:o2M,Neutral:x6W},removeFN:function(O0y,y7b){O0y.chart.customChart=null;U1e.r8O();O0y.setMainSeriesRenderer();}}});}};Q6=r85=>{var h1e,r7b,o6C,D2u,W3l,L_R;h1e="un";h1e+="de";h1e+="fine";h1e+="d";r7b=typeof _CIQ !== h1e?_CIQ:r85.CIQ;if(!r7b.Studies){o6C="fractalChaos feature requires f";o6C+="irst activati";o6C+="ng studies feature.";console.error(o6C);}else {D2u="a";D2u+="uto";W3l="Fr";W3l+="a";W3l+="ctal Cha";W3l+="os Bands";L_R="Fractal Chaos ";L_R+="Oscillator";r7b.Studies.calculateFractalChaos=function(n24,H6C){var f_2=l9y8Y;f_2.r8O();var X_f,a6i,a4j,A$_,s2f,T8r,o$Q,e91,Z4w,I2K,i3o,e1Y,x55,q3s;X_f=436110258;a6i=-1859944297;a4j=2;for(var z7N=+"1";f_2.L3M(z7N.toString(),z7N.toString().length,45656) !== X_f;z7N++){A$_=H6C.chart.scrubbed;s2f=6;f_2.T7s(10);T8r=f_2.k5y("5",1);f_2.u4X(10);a4j+=f_2.D45("2",1);}if(f_2.U3Y(a4j.toString(),a4j.toString().length,19258) !== a6i){A$_=H6C.chart.scrubbed;s2f=1;T8r=9;}A$_=H6C.chart.scrubbed;f_2.T7s(10);s2f=f_2.D45("0",1);T8r=0;o$Q=0;if(H6C.startFrom && H6C.type == "Fractal Chaos Bands"){e91="Fr";e91+="actal";e91+=" Low";e91+=" ";Z4w="Fractal High";Z4w+=" ";f_2.u4X(5);var u_I=f_2.k5y(12,11);s2f=A$_[H6C.startFrom - u_I][Z4w + H6C.name];f_2.u4X(8);var S4f=f_2.D45(0,2,3);T8r=A$_[H6C.startFrom - S4f][e91 + H6C.name];}for(var L4s=Math.max(4,H6C.startFrom);L4s < A$_.length;L4s++){if(A$_[L4s].futureTick)break;I2K=!isNaN(A$_[L4s].High);i3o=!isNaN(A$_[L4s].Low);if(I2K || i3o){A$_[L4s]["Result " + H6C.name]=0;}o$Q=0;for(e1Y=0;e1Y <= L4s;e1Y++){if(!A$_[L4s - e1Y])break;if(A$_[L4s - e1Y].High > A$_[L4s - 2].High)break;if(e1Y < 2 && A$_[L4s - e1Y].High == A$_[L4s - +"2"].High)break;if(A$_[L4s - e1Y].High < A$_[L4s - 2].High){o$Q++;}if(o$Q == 4){s2f=A$_[L4s - 2].High;break;}}if(H6C.type == "Fractal Chaos Bands"){if(I2K){A$_[L4s]["Fractal High " + H6C.name]=s2f > 0?s2f:null;}}else if(o$Q == 4){A$_[L4s]["Result " + H6C.name]=1;}o$Q=0;for(e1Y="0" - 0;e1Y <= L4s;e1Y++){if(!A$_[L4s - e1Y])break;if(A$_[L4s - e1Y].Low < A$_[L4s - +"2"].Low)break;if(e1Y < +"2" && A$_[L4s - e1Y].Low == A$_[L4s - 2].Low)break;if(A$_[L4s - e1Y].Low > A$_[L4s - +"2"].Low){o$Q++;}if(o$Q == "4" >> 32){T8r=A$_[L4s - 2].Low;break;}}if(H6C.type == "Fractal Chaos Bands"){x55="Fract";x55+="al Low ";if(i3o){A$_[L4s][x55 + H6C.name]=T8r > 0?T8r:null;}}else if(o$Q == 4){q3s="Resu";q3s+="lt";q3s+=" ";A$_[L4s][q3s + H6C.name]=-1;}}};r7b.Studies.studyLibrary=r7b.extend(r7b.Studies.studyLibrary,{"Fractal Chaos":{name:L_R,range:"-1 to 1",calculateFN:r7b.Studies.calculateFractalChaos,inputs:{},centerline:null},"Fractal Chaos Bands":{name:W3l,overlay:!!"1",calculateFN:r7b.Studies.calculateFractalChaos,seriesFN:r7b.Studies.displayChannel,inputs:{"Channel Fill":!!1},outputs:{"Fractal High":"auto","Fractal Low":"auto","Fractal Channel":D2u}}});}};C6=h2c=>{var u11=l9y8Y;u11.r8O();var z6n;z6n=typeof _CIQ !== "undefined"?_CIQ:h2c.CIQ;if(!z6n.Studies){console.error("GoNoGo - Trend study requires first activating studies feature.");}else {(function f_a(){var o_R,E3m,A3l,S94,D3J,y28,U9o;o_R="#";o_R+="00bff";o_R+="f";function n7j(Q38,Y84){var R9z,L1s,l60,U_Z,E8K,Y4B,m3i,z_D,O_l,D17;R9z="Cl";R9z+="os";R9z+="e";L1s="s";L1s+="ma";if(Y84.disabled && h0S(Q38,Y84)){return;}l60=Y84.chart.scrubbed;if(!Array.isArray(l60)){return;}if(!P5i(Q38)){h0S(Q38,Y84);return;}g66(Q38,Y84);if(Y84.wasDisabled){Y84.startFrom=0;Y84.wasDisabled=!"1";}u11.u4X(0);j91(Q38,Y84,u11.k5y(0,"25"),"Close","mtm");c99(Q38,Y84,5,0,L1s,"mtm " + Y84.name,"mtmavg");D8F(Q38,Y84,12,26,9,"ema","ema","Close","mymacd");c99(Q38,Y84,50,+"0","sma",R9z,"myma");N4C(Q38,Y84,0.2,0.2,0.2,"mysar");u11.r8O();U_Z=`Trend ${Y84.name}`;E8K=`Bull ${Y84.name}`;Y4B=`Bear ${Y84.name}`;m3i=`Color ${Y84.name}`;Y84.outputMap={};for(var c0q=Y84.startFrom;c0q < l60.length;c0q++){z_D="o";z_D+="bj";z_D+="e";z_D+="ct";O_l=l60[c0q];if(!O_l || typeof O_l !== z_D){continue;}D17=0;if(O_l.Close > O_l[`myma ${Y84.name}`]){D17++;}if(O_l.Close > O_l[`Result mysar`]){D17++;}if(O_l[`${"M" + "A" + "CD mymac" + "d"}`] > 0 && O_l[`Signal mymacd`] > 0){D17++;}if(O_l[`mtmavg ${Y84.name}`] > 0){D17++;}O_l[U_Z]=D17;O_l[E8K]=+"0";O_l[Y4B]=+"0";if(c0q > 0){if(O_l[U_Z] > 2.5 && l60[c0q - 1][U_Z] <= "2.5" * 1){O_l[E8K]=1;}if(O_l[U_Z] < 2.0 && l60[c0q - ("1" ^ 0)][U_Z] >= 2.0){O_l[Y4B]=-+"1";}}u11.T7s(3);O_l[m3i]=Y84.outputs[u11.D45("Score ",D17)];}}function c99(h50,R$C,E15,l$4,F$Z,K34,W_T){u11.Y$C();z6n.Studies.MA(F$Z,E15,K34,l$4,W_T,h50,R$C);}function d01(k5B,f_N,k02,w7i,z_U,U4P){var n1Y;if(!z_U.initialized){z_U.yaxisDisplayValue=null;z_U.initialized=!!1;}n1Y=z6n.Studies.initializeFN(k5B,f_N,k02,w7i,z_U,U4P);if(z_U && !z_U.panelName && n1Y && n1Y.panel){z_U.panelName=n1Y.panel;}if(z_U.calculateOnly){return n1Y;}g66(k5B,n1Y);n1Y.checkDisabled=!![];return n1Y;}E3m="#d";E3m+="26";E3m+="91e";A3l="#ff";function g66(M1f,O3b){u11.Y$C();if(!M1f.chart || !M1f.chart.panel || M1f.chart.customChart && M1f.chart.customChart.chartType === S94){return;}if(M1f.chart.customChart){D3J=M1f.chart.customChart;}M1f.chart.customChart={chartType:S94,colorFunction:function(M$0,z1a,p61){var z22,L_v;u11.r8O();z22=z1a[`Color ${O3b.name}`];if(z22 && typeof z22 === "object"){z22=z22.color;}L_v="#0";L_v+="0";L_v+="00000";L_v+="0";return z22 === "auto"?M$0.defaultColor:z22 || L_v;}};M1f.setMainSeriesRenderer();}A3l+="f";function P5i(C0t){var s5J,Z$j,O4r,K2o;s5J="re";s5J+="n";s5J+="k";s5J+="o";Z$j=!!1;O4r=C0t.layout.aggregationType;if(O4r !== U9o){y28=!"";}if(O4r === "linebreak" || O4r === "kagi" || O4r === "pandf" || O4r === s5J){Z$j=![];U9o=O4r;if(y28){K2o=" study is";K2o+=" not compati";K2o+="ble with a";K2o+="ggregation type ";C0t.dispatch("notification",{message:S94 + K2o + O4r + (+"933.44" === ("923" << 32,694.18)?!({}):"."),displayTime:3});y28=!"1";}}return Z$j;}A3l+="f";function D8F(M$V,T_i,z16,W1a,L4t,z6S,H2x,O$D,c5g){var d5i,n9o;d5i={"Fast MA Period":z16,"Slow MA Period":W1a,"Signal Period":L4t,"Moving Average Type":z6S,"Signal MA Type":H2x,Field:O$D};n9o=new z6n.Studies.StudyDescriptor(c5g,"macd",T_i.panel,d5i);n9o.startFrom=T_i.startFrom;n9o.chart=T_i.chart;z6n.Studies.calculateMACD(M$V,n9o);}function j91(A0W,Z1w,A2Y,M34,Y5Z){var f6C;u11.r8O();f6C=new z6n.Studies.StudyDescriptor(Y5Z + " " + Z1w.name,"Momentum",Z1w.panel,{Field:M34,Period:A2Y});f6C.days=A2Y;f6C.startFrom=Z1w.startFrom;f6C.parameters=Z1w.parameters;f6C.chart=Z1w.chart;z6n.Studies.calculateRateOfChange(A0W,f6C);}A3l+="ff";function N4C(Q5W,I4q,H9$,K8Z,x7i,T$w){var Q85,Z2P,X_r,j3o;Q85=1932177737;Z2P=2142965214;u11.u4X(10);u11.Y$C();X_r=u11.k5y("2",1);for(var A_b=1;u11.L3M(A_b.toString(),A_b.toString().length,54457) !== Q85;A_b++){j3o=new z6n.Studies.StudyDescriptor(T$w,"PSAR",I4q.panel,{"Minimum AF":H9$,"Maximum AF":K8Z});X_r+=2;}if(u11.L3M(X_r.toString(),X_r.toString().length,85225) !== Z2P){j3o=new z6n.Studies.StudyDescriptor(T$w,"Minimum AF",I4q.panel,{"Minimum AF":H9$,"Maximum AF":K8Z});}j3o.startFrom=I4q.startFrom;j3o.chart=I4q.chart;z6n.Studies.calculatePSAR(Q5W,j3o);}S94="G";S94+="oNo";S94+="G";S94+="o";D3J=null;y28=!"";U9o=null;z6n.Studies.studyLibrary=z6n.extend(z6n.Studies.studyLibrary,{"GoNoGo Trend":{name:"GoNoGo - Trend",overlay:!!({}),initializeFN:d01,calculateFN:n7j,seriesFN:R8Q,removeFN:h0S,inputs:{},outputs:{Go:"#00ffff",NoGo:"#b500b5","Text Go":"#808080","Text NoGo":A3l,"Score 0":"#8b008b","Score 1":"#ee82ee","Score 2":E3m,"Score 3":"#7fffd4","Score 4":o_R},attributes:{yaxisDisplayValue:{hidden:!!1},panelName:{hidden:!0},underlayEnabled:{hidden:!![]}}}});function R8Q(P$J,r4i,G2o){var W7J,L5Y,p9G,c6p,d5I,W79,T9H,c1e,o1r,u_K,u2v,X64,B0v,r5n,s6C,c8u,C35,V_T;W7J="a";W7J+="u";W7J+="t";W7J+="o";if(!Array.isArray(G2o)){return;}if(!P5i(P$J)){return;}L5Y=P$J.panels[r4i.panel];if(!L5Y || r4i.noDraw){return;}u11.T7s(83);p9G=`${u11.D45("l","B","ul"," ")}${r4i.name}`;u11.u4X(65);c6p=`${u11.D45("B","ear"," ")}${r4i.name}`;d5I=Math.min(16,Math.max(8,Math.round(P$J.layout.candleWidth)));W79=z6n.Studies.determineColor(r4i.outputs.Go);T9H=z6n.Studies.determineColor(r4i.outputs.NoGo);c1e=z6n.Studies.determineColor(r4i.outputs["Text Go"]);o1r=z6n.Studies.determineColor(r4i.outputs["Text NoGo"]);if(W79 === "auto"){W79=P$J.defaultColor;}if(T9H === "auto"){T9H=P$J.defaultColor;}if(c1e === "auto"){c1e=z6n.chooseForegroundColor(W79);}if(o1r === W7J){o1r=z6n.chooseForegroundColor(T9H);}g66(P$J,r4i,"GoNoGo");var {context:Q7P}=P$J.chart;for(var h3l=0;h3l < G2o.length;h3l++){u_K=G2o[h3l];if(!u_K){continue;}if(u_K[p9G] === 1 || u_K[c6p] === -1){u2v="G";u2v+="o";u11.u4X(143);var L1U=u11.k5y(16,42,5,13,19);X64=u_K[p9G] === L1U;B0v=P$J.pixelFromBar(h3l);r5n=X64?P$J.pixelFromPrice(u_K.Low) + d5I:P$J.pixelFromPrice(u_K.High) - d5I;u11.T7s(0);s6C=u11.k5y(64,"4");c8u=X64?u2v:"NoGo";u11.u4X(3);Q7P.font=`${d5I}${u11.k5y("px bold Roboto, ","sans-serif")}`;var {width:B14}=Q7P.measureText(c8u);u11.T7s(99);C35=u11.k5y(s6C,2,B14);u11.u4X(99);V_T=u11.D45(s6C,2,d5I);Q7P.fillStyle=X64?W79:T9H;u11.u4X(51);Q7P.fillRect(u11.D45(C35,2,B0v),u11.k5y(V_T,2,r5n),C35,V_T);Q7P.fillStyle=X64?c1e:o1r;Q7P.textAlign="center";Q7P.textBaseline="middle";Q7P.fillText(c8u,B0v,r5n);}}}function h0S(a9$,X4F){if(!a9$.chart || a9$.chart.customChart && a9$.chart.customChart.chartType !== S94){return;}u11.Y$C();X4F.wasDisabled=!0;a9$.chart.customChart=D3J;D3J=null;a9$.setMainSeriesRenderer();return !"";}})();}};p7=c5d=>{var z2F,b7J,t0O,H3h,f$q,K2D,U7x;z2F=typeof _CIQ !== "undefined"?_CIQ:c5d.CIQ;if(!z2F.Studies){b7J="highLowStudies f";b7J+="eature requires first activating studies feat";b7J+="ure.";console.error(b7J);}else {t0O="Hi";t0O+="g";t0O+="h";t0O+=" Minus Low";H3h="Vertical Horizontal Filt";H3h+="er";f$q="William";f$q+="s %R";K2D="au";K2D+="to";U7x="a";U7x+="ut";U7x+="o";z2F.Studies.calculateMaxHighMinLow=function(H5s,H84){var x_d=l9y8Y;var z2J,F5H,I8M,u$A,i$P,V63,q$W,l4y,n19,G2j,N89,S9R,Z1g,n1x;z2J="Low";z2J+=" Pe";z2J+="r";z2J+="iod";F5H=H84.chart.scrubbed;I8M=H84.days;u$A=H84.days;if(H84.inputs["High Period"]){I8M=H84.inputs["High Period"];}if(H84.inputs["Low Period"]){u$A=H84.inputs[z2J];}if(F5H.length < Math.max(I8M,u$A) + ("1" - 0)){H84.error=!0;return;}i$P=Number.MAX_VALUE;x_d.u4X(144);var v_s=x_d.k5y(14,18,4,9,435);V63=Number.MAX_VALUE * v_s;if(H84.startFrom > 1){for(q$W=1;q$W < I8M;q$W++){if(H84.startFrom - q$W >= +"0"){V63=Math.max(V63,F5H[H84.startFrom - q$W].High);}}for(q$W=1;q$W < u$A;q$W++){if(H84.startFrom - q$W >= 0){i$P=Math.min(i$P,F5H[H84.startFrom - q$W].Low);}}}for(var b23=Math.max(0,H84.startFrom - 1);b23 < F5H.length;b23++){l4y="VT ";l4y+="HZ";l4y+=" Filter";n19="G";n19+="o";n19+="p";n19+="ala";G2j="GA";G2j+="P";G2j+="O";N89="H";N89+="H";N89+="V";V63=Math.max(V63,F5H[b23].High);i$P=Math.min(i$P,F5H[b23].Low);if(b23 >= I8M){if(F5H[b23 - I8M].High == V63){V63=F5H[b23].High;for(q$W=1;q$W < I8M;q$W++){V63=Math.max(V63,F5H[b23 - q$W].High);}}}if(b23 >= u$A){if(F5H[b23 - u$A].Low == i$P){i$P=F5H[b23].Low;for(q$W=1;q$W < u$A;q$W++){i$P=Math.min(i$P,F5H[b23 - q$W].Low);}}}S9R=0;if(H84.type == N89){S9R=V63;}else if(H84.type == "LLV"){S9R=i$P;}else if(H84.type == "Donchian Width"){x_d.u4X(5);S9R=x_d.k5y(V63,i$P);}else if(H84.type == G2j || H84.type == n19){S9R=Math.log(V63 - i$P) / Math.log(u$A);}else if(H84.type == l4y){x_d.T7s(5);S9R=x_d.D45(V63,i$P);F5H[b23]["_MHML " + H84.name]=S9R;continue;}else if(H84.type == "Williams %R"){x_d.T7s(145);var v2s=x_d.k5y(1,99,14,14);S9R=v2s * (V63 - F5H[b23].Close) / (V63 - i$P);F5H[b23]["Result " + H84.name]=S9R;continue;}if(b23 == F5H.length - "1" * 1)break;if(!F5H[b23 + 1].futureTick){Z1g="Donch";Z1g+="ian Channel";if(H84.type == Z1g){n1x="Donc";n1x+="hian Low ";x_d.u4X(86);F5H[x_d.k5y("1",b23)]["Donchian High " + H84.name]=V63;x_d.T7s(86);F5H[x_d.k5y("1",b23)][n1x + H84.name]=i$P;x_d.T7s(3);F5H[x_d.D45(b23,1)]["Donchian Median " + H84.name]=x_d.D45(V63,"2",i$P,x_d.u4X(146));}else {x_d.u4X(3);F5H[x_d.k5y(b23,1)]["Result " + H84.name]=S9R;}}}};z2F.Studies.calculateVerticalHorizontalFilter=function(o9l,q0C){var f5E,n4Z,G4e,v0z;f5E=q0C.chart.scrubbed;if(f5E.length < q0C.days + 1){q0C.error=!![];return;}q0C.mhml=new z2F.Studies.StudyDescriptor(q0C.name,q0C.type,q0C.panel);q0C.mhml.chart=q0C.chart;q0C.mhml.days=q0C.days;l9y8Y.Y$C();q0C.mhml.startFrom=q0C.startFrom;q0C.mhml.inputs={};q0C.mhml.outputs={_MHML:null};z2F.Studies.calculateMaxHighMinLow(o9l,q0C.mhml);n4Z=0;G4e=[];for(var m31=Math.max(+"1",q0C.startFrom - q0C.days);m31 < f5E.length;m31++){v0z=Math.abs(f5E[m31].Close - f5E[m31 - 1].Close);G4e.push(v0z);n4Z+=v0z;if(G4e.length == q0C.days){f5E[m31]["Result " + q0C.name]=f5E[m31]["_MHML " + q0C.name] / n4Z;n4Z-=G4e.shift();}}};z2F.Studies.studyLibrary=z2F.extend(z2F.Studies.studyLibrary,{"Donchian Channel":{name:"Donchian Channel",overlay:!![],calculateFN:z2F.Studies.calculateMaxHighMinLow,seriesFN:z2F.Studies.displayChannel,inputs:{"High Period":"20" * 1,"Low Period":"20" | 20,"Channel Fill":!""},outputs:{"Donchian High":U7x,"Donchian Median":K2D,"Donchian Low":"auto"}},"Donchian Width":{name:"Donchian Width",calculateFN:z2F.Studies.calculateMaxHighMinLow,inputs:{"High Period":20,"Low Period":+"20"}},GAPO:{name:"Gopalakrishnan Range Index",calculateFN:z2F.Studies.calculateMaxHighMinLow},HHV:{name:"Highest High Value",calculateFN:z2F.Studies.calculateMaxHighMinLow,inputs:{Period:14}},LLV:{name:"Lowest Low Value",calculateFN:z2F.Studies.calculateMaxHighMinLow,inputs:{Period:14}},"Williams %R":{name:f$q,calculateFN:z2F.Studies.calculateMaxHighMinLow,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:!!({}),studyOverBoughtValue:-20,studyOverBoughtColor:"auto",studyOverSoldValue:-("80" ^ 0),studyOverSoldColor:"auto"}}},"VT HZ Filter":{name:H3h,calculateFN:z2F.Studies.calculateVerticalHorizontalFilter,inputs:{Period:28}},"High-Low":{name:t0O,calculateFN:function(G2c,V9B){var Y7D=l9y8Y;var a6A,o43,c$S,y0e;a6A=-1015085515;Y7D.u4X(5);o43=-Y7D.k5y("554777892",0);c$S=2;for(var k6i=1;Y7D.L3M(k6i.toString(),k6i.toString().length,93894) !== a6A;k6i++){y0e=V9B.chart.scrubbed;c$S+=2;}if(Y7D.L3M(c$S.toString(),c$S.toString().length,80745) !== o43){y0e=V9B.chart.scrubbed;}y0e=V9B.chart.scrubbed;for(var p9r=V9B.startFrom;p9r < y0e.length;p9r++){y0e[p9r]["Result " + V9B.name]=y0e[p9r].High - y0e[p9r].Low;}},inputs:{}}});}};h3=K8x=>{var V$F,S7k,S10,o8g;V$F=typeof _CIQ !== "undefined"?_CIQ:K8x.CIQ;if(!V$F.Studies){console.error("ichimoku feature requires first activating studies feature.");}else {S7k="#00";S7k+="FF";S7k+="00";S10="#FF";S10+="0000";o8g="Ichimo";o8g+="ku Clouds";V$F.Studies.calculateIchimoku=function(P9W,u7K){var F37=l9y8Y;var E1w,G5l,J_O,Y_U,M8Q,u4t,f3t,z_S,v9x,M6A,O92,u5B;E1w="Leading Span B P";E1w+="eriod";G5l="Con";function g_F(s7O,h21){var D2g,M5Y;D2g=Number.MAX_VALUE;F37.u4X(4);var T9W=F37.D45(16,5,10);M5Y=Number.MAX_VALUE * T9W;for(var H0W=h21 - s7O + 1;H0W <= h21;H0W++){if(H0W < 0)continue;D2g=Math.min(D2g,Y_U[H0W].Low);M5Y=Math.max(M5Y,Y_U[H0W].High);}return [D2g,M5Y];}G5l+="versio";G5l+="n Line Pe";G5l+="riod";J_O="Base L";J_O+="ine Period";Y_U=u7K.chart.scrubbed;M8Q={Base:Number(u7K.inputs[J_O]),Conv:Number(u7K.inputs[G5l]),LeadB:Number(u7K.inputs[E1w]),Lag:Number(u7K.inputs["Lagging Span Period"])};for(u4t=u7K.startFrom;u4t < Y_U.length;u4t++){if(!Y_U[u4t])continue;f3t=g_F(M8Q.Conv,u4t);F37.T7s(5);var x8V=F37.k5y(6,5);F37.u4X(5);var W6w=F37.k5y(5,3);Y_U[u4t]["Conversion Line " + u7K.name]=(f3t[x8V] + f3t[0]) / W6w;f3t=g_F(M8Q.Base,u4t);F37.u4X(5);var V2s=F37.D45(17,16);Y_U[u4t]["Base Line " + u7K.name]=(f3t[V2s] + f3t[0]) / +"2";if(u4t < M8Q.Lag)continue;Y_U[u4t - M8Q.Lag]["Lagging Span " + u7K.name]=Y_U[u4t].Close;}z_S=[];for(u4t=Math.max("0" | 0,u7K.startFrom - M8Q.Base);u4t < Y_U.length;u4t++){f3t=g_F(M8Q.LeadB,u4t);F37.u4X(5);var Q$l=F37.k5y(8,6);v9x=(Y_U[u4t]["Conversion Line " + u7K.name] + Y_U[u4t]["Base Line " + u7K.name]) / Q$l;F37.T7s(8);var L8a=F37.D45(3,9,7);F37.u4X(5);var z_N=F37.k5y(11,9);M6A=(f3t[L8a] + f3t[0]) / z_N;if(Y_U[u4t + M8Q.Base]){Y_U[u4t + M8Q.Base]["Leading Span A " + u7K.name]=v9x;Y_U[u4t + M8Q.Base]["Leading Span B " + u7K.name]=M6A;}else {O92="Leading";O92+=" Spa";O92+="n A ";u5B={};u5B[O92 + u7K.name]=v9x;u5B["Leading Span B " + u7K.name]=M6A;z_S.push(u5B);}}u7K.appendFutureTicks(P9W,z_S);};V$F.Studies.displayIchimoku=function(U56,k8z,N4V){var d$x,m0D,u3F,D5d,K6F,L9u,b5p,u7g,b8u,V3M,J28;d$x="Lea";l9y8Y.Y$C();d$x+="ding Span A ";m0D=d$x + k8z.name;u3F="Leading Span B " + k8z.name;D5d=V$F.Studies.determineColor(k8z.outputs[k8z.outputMap[m0D]]);K6F=V$F.Studies.determineColor(k8z.outputs[k8z.outputMap[u3F]]);L9u=U56.panels[k8z.panel];b5p=k8z.getYAxis(U56);u7g={topBand:m0D,bottomBand:u3F,topColor:D5d,bottomColor:K6F,skipTransform:L9u.name != k8z.chart.name,topAxis:b5p,bottomAxis:b5p,opacity:0.3};if(!k8z.highlight && U56.highlightedDraggable){u7g.opacity*=0.3;}b8u=1211210322;V3M=551403592;J28=2;for(var x4V=1;l9y8Y.L3M(x4V.toString(),x4V.toString().length,19682) !== b8u;x4V++){V$F.fillIntersecting(U56,k8z.panel,u7g);V$F.Studies.displaySeriesAsLine(U56,k8z,N4V);J28+=2;}if(l9y8Y.L3M(J28.toString(),J28.toString().length,43124) !== V3M){V$F.fillIntersecting(U56,k8z.panel,u7g);V$F.Studies.displaySeriesAsLine(U56,k8z,N4V);}};V$F.Studies.studyLibrary=V$F.extend(V$F.Studies.studyLibrary,{"Ichimoku Clouds":{name:o8g,overlay:!![],calculateFN:V$F.Studies.calculateIchimoku,seriesFN:V$F.Studies.displayIchimoku,inputs:{"Conversion Line Period":9,"Base Line Period":26,"Leading Span B Period":52,"Lagging Span Period":26},outputs:{"Conversion Line":"#0000FF","Base Line":S10,"Leading Span A":S7k,"Leading Span B":"#FF0000","Lagging Span":"#808000"}}});}};w1=p7H=>{var s0U=l9y8Y;var m0_,s8W;m0_=typeof _CIQ !== "undefined"?_CIQ:p7H.CIQ;s0U.r8O();if(!m0_.Studies){console.error("intradayMomentum feature requires first activating studies feature.");}else {s8W="au";s8W+="to";m0_.Studies.calculateIntradayMomentum=function(S8s,x2A){var b6Y,q8n,c$I,l6I,U_5,T_u;b6Y=x2A.chart.scrubbed;q8n=x2A.days;if(b6Y.length < q8n + 1){x2A.error=!![];return;}c$I=+"0";l6I=0;s0U.r8O();if(x2A.startFrom > 1){s0U.u4X(85);var k$y=s0U.k5y(2,3);c$I=b6Y[x2A.startFrom - k$y]["_totUp " + x2A.name];l6I=b6Y[x2A.startFrom - ("1" ^ 0)]["_totDn " + x2A.name];}for(var c7P=x2A.startFrom;c7P < b6Y.length;c7P++){U_5=b6Y[c7P].Close - b6Y[c7P].Open;if(U_5 > 0){c$I+=U_5;}else {l6I-=U_5;}if(c7P >= q8n){T_u=b6Y[c7P - q8n].Close - b6Y[c7P - q8n].Open;if(T_u > +"0"){c$I-=T_u;}else {l6I+=T_u;}}s0U.u4X(147);b6Y[c7P]["Result " + x2A.name]=s0U.k5y("100",4,c$I,c$I,l6I);b6Y[c7P]["_totUp " + x2A.name]=c$I;b6Y[c7P]["_totDn " + x2A.name]=l6I;}};m0_.Studies.studyLibrary=m0_.extend(m0_.Studies.studyLibrary,{"Intraday Mtm":{name:"Intraday Momentum Index",calculateFN:m0_.Studies.calculateIntradayMomentum,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:!![],studyOverBoughtValue:70,studyOverBoughtColor:s8W,studyOverSoldValue:30,studyOverSoldColor:"auto"}}}});}};b0=S08=>{var U8G,G7l,W0b,H$4;l9y8Y.Y$C();U8G=typeof _CIQ !== "undefined"?_CIQ:S08.CIQ;if(!U8G.Studies){console.error("keltner feature requires first activating studies feature.");}else {G7l="a";G7l+="u";G7l+="t";G7l+="o";W0b="au";W0b+="to";H$4="e";H$4+="m";H$4+="a";U8G.Studies.calculateKeltner=function(O8Z,o0U){var y6j,E0d,Q$5;y6j="M";y6j+="A";E0d="C";E0d+="l";E0d+="o";E0d+="se";Q$5="Movin";Q$5+="g Average Type";l9y8Y.r8O();U8G.Studies.MA(o0U.inputs[Q$5],o0U.days,E0d,0,y6j,O8Z,o0U);U8G.Studies.calculateStudyATR(O8Z,o0U);U8G.Studies.calculateGenericEnvelope(O8Z,o0U,o0U.inputs.Shift,"MA " + o0U.name,"ATR " + o0U.name);};U8G.Studies.studyLibrary=U8G.extend(U8G.Studies.studyLibrary,{Keltner:{name:"Keltner Channel",overlay:!!({}),seriesFN:U8G.Studies.displayChannel,calculateFN:U8G.Studies.calculateKeltner,inputs:{Period:50,Shift:5,"Moving Average Type":H$4,"Channel Fill":!![]},outputs:{"Keltner Top":"auto","Keltner Median":W0b,"Keltner Bottom":G7l},attributes:{Shift:{min:0.1,step:0.1}}}});}};z$=g7J=>{var s84,A5T,H18;s84=typeof _CIQ !== "undefined"?_CIQ:g7J.CIQ;if(!s84.Studies){console.error("klinger feature requires first activating studies feature.");}else {A5T="#FF00";A5T+="00";H18="#";H18+="00DD0";H18+="0";s84.Studies.calculateKlinger=function(a4E,q7q){var d$3,q9N,u5X,Y_y,P3V,v9b,K6f,r5X,y7d,t5A,J0t,l1E,s76,F5U,B3n,q39,g43,t6M,o5o;d$3="Signal";d$3+=" Pe";d$3+="riods";q9N="e";q9N+="xponent";q9N+="ia";q9N+="l";u5X="_";u5X+="EMA";u5X+="-L";Y_y="_";Y_y+="E";Y_y+="MA-S";P3V="expone";P3V+="nt";P3V+="ial";v9b="_EMA-";v9b+="L ";K6f="_";K6f+="SV";K6f+=" ";r5X="_hi";r5X+="st";y7d=q7q.chart.scrubbed;t5A=Number(q7q.inputs["Short Cycle"]);J0t=Number(q7q.inputs["Long Cycle"]);if(y7d.length < Math.max(t5A,J0t) + 1){q7q.error=!!({});return;}l1E=q7q.name + r5X;s76="Klinger " + q7q.name;F5U="KlingerSignal " + q7q.name;B3n=K6f + q7q.name;q39="_EMA-S " + q7q.name;g43=v9b + q7q.name;for(t6M=Math.max(1,q7q.startFrom);t6M < y7d.length;t6M++){o5o=y7d[t6M].Volume;if(y7d[t6M]["hlc/3"] < y7d[t6M - 1]["hlc/3"]){o5o*=-1;}if(o5o){y7d[t6M][B3n]=o5o;}}s84.Studies.MA(P3V,t5A,B3n,0,Y_y,a4E,q7q);l9y8Y.T7s(5);s84.Studies.MA("exponential",J0t,B3n,l9y8Y.D45("0",0),u5X,a4E,q7q);for(t6M=Math.max(J0t,q7q.startFrom);t6M < y7d.length;t6M++){if(y7d[t6M].futureTick || y7d[t6M][q39] === null || y7d[t6M][g43] === null)break;y7d[t6M][s76]=y7d[t6M][q39] - y7d[t6M][g43];}s84.Studies.MA(q9N,Number(q7q.inputs[d$3]),s76,0,"KlingerSignal",a4E,q7q);for(t6M=q7q.startFrom;t6M < y7d.length;t6M++){y7d[t6M][l1E]=y7d[t6M][s76] - y7d[t6M][F5U];}q7q.outputMap[l1E]="";};s84.Studies.studyLibrary=s84.extend(s84.Studies.studyLibrary,{Klinger:{name:"Klinger Volume Oscillator",seriesFN:s84.Studies.displayHistogramWithSeries,calculateFN:s84.Studies.calculateKlinger,inputs:{"Signal Periods":13,"Short Cycle":34,"Long Cycle":55},outputs:{Klinger:"auto",KlingerSignal:"#FF0000","Increasing Bar":H18,"Decreasing Bar":A5T}}});}};I5=S0a=>{var p8p=l9y8Y;var y5x,i0u,T5C,Z1o,d0p,J2A,D8I,f3V,q5b,u2r;y5x="undef";y5x+="ined";i0u=typeof _CIQ !== y5x?_CIQ:S0a.CIQ;p8p.Y$C();if(!i0u.Studies){T5C="linearRegressi";T5C+="on feature requires first activa";T5C+="ting studies fea";T5C+="ture.";console.error(T5C);}else {Z1o="Ti";Z1o+="me ";Z1o+="Series Fore";Z1o+="cast";d0p="Lin";d0p+="e";d0p+="a";d0p+="r Reg Slope";J2A="Li";J2A+="n";J2A+="ear Reg R2";D8I="Linear";D8I+=" Reg F";D8I+="orecas";D8I+="t";f3V="Time";f3V+="Series";q5b="time s";q5b+="er";q5b+="ie";q5b+="s";u2r="Tim";u2r+="eSer";u2r+="ies";i0u.Studies.prettify["time series"]="tsma";i0u.Studies.movingAverage.conversions.tsma="time series";i0u.Studies.movingAverage.translations["time series"]="Time Series";i0u.Studies.movingAverage.typeMap.tsma=u2r;i0u.Studies.movingAverage.typeMap[q5b]=f3V;i0u.Studies.calculateMovingAverageTimeSeries=function(k6T,m6r){var t8L,m_r,X3q,m8w,K_I,C$W,M1x,l0Q;m6r.ma=new i0u.Studies.StudyDescriptor(m6r.name,"ma",m6r.panel);m6r.ma.chart=m6r.chart;m6r.ma.days=m6r.days;m6r.ma.startFrom=m6r.startFrom;m6r.ma.inputs=m6r.inputs;i0u.Studies.calculateLinearRegressionIndicator(k6T,m6r.ma);t8L=m6r.name;for(var P4f in m6r.outputs){p8p.u4X(65);t8L=p8p.k5y(P4f," ",t8L);}m_r=parseInt(m6r.inputs.Offset,10);if(isNaN(m_r)){m_r=0;}X3q=m6r.chart.scrubbed;m8w=m_r;for(var j2F=m6r.startFrom - 1;j2F >= 0;j2F--){K_I=X3q[j2F][t8L];if(!K_I && K_I !== 0)continue;if(m8w > 0){m8w--;continue;}break;}C$W=[];for(j2F++;j2F < X3q.length;j2F++){M1x=X3q[j2F];if(j2F + m_r >= 0){if(j2F + m_r < X3q.length){p8p.u4X(3);X3q[p8p.D45(j2F,m_r)][t8L]=M1x["Forecast " + m6r.name];}else {l0Q={};l0Q[t8L]=M1x["Forecast " + m6r.name];C$W.push(l0Q);}}}m6r.appendFutureTicks(k6T,C$W);};i0u.Studies.calculateLinearRegressionIndicator=function(p1Q,d9P){var w0Z,P_i,y61,B5t,P1R,f1J,Q7k,P66,P_o,h38,K8f,F9M,D33,I_K,e_i,B07,x7o,q5$;w0Z="C";w0Z+="l";w0Z+="os";w0Z+="e";P_i=d9P.chart.scrubbed;if(P_i.length < d9P.days + 1){d9P.error=!0;return;}y61=d9P.inputs.Field;if(!y61 || y61 == "field"){y61=w0Z;}p8p.u4X(85);var z5U=p8p.D45(14,15);p8p.T7s(18);var B6l=p8p.D45(1,4,8,150,15);B5t=d9P.days * (d9P.days + ("1" | z5U)) / B6l;P1R=Math.pow(B5t,2);p8p.T7s(5);var V3m=p8p.k5y(13,11);p8p.T7s(85);var P5W=p8p.D45(14,15);p8p.T7s(85);var G89=p8p.k5y(12,15);f1J=B5t * (V3m * d9P.days + P5W) / G89;Q7k=0;P66=+"0";P_o=0;if(d9P.startFrom){h38="_su";h38+="ms ";p8p.T7s(5);var L_w=p8p.k5y(5,4);K8f=P_i[d9P.startFrom - L_w][h38 + d9P.name];if(K8f){P66=K8f[0];Q7k=K8f[1];P_o=K8f[2];}}for(var f24=d9P.startFrom;f24 < P_i.length;f24++){F9M="_";F9M+="sums ";D33=P_i[f24][y61];if(D33 && typeof D33 == "object"){D33=D33[d9P.subField];}if(!D33 && D33 !== 0)continue;P66+=d9P.days * D33 - Q7k;Q7k+=D33;P_o+=Math.pow(D33,2);if(f24 < d9P.days - 1)continue;else if(f24 > d9P.days - +"1"){I_K="o";I_K+="bje";I_K+="ct";e_i=P_i[f24 - d9P.days][y61];if(e_i && typeof e_i == I_K){e_i=e_i[d9P.subField];}if(!e_i && e_i !== 0)continue;Q7k-=e_i;P_o-=Math.pow(e_i,+"2");}B07=(d9P.days * P66 - B5t * Q7k) / (d9P.days * f1J - P1R);P_i[f24]["Slope " + d9P.name]=B07;x7o=(Q7k - B07 * B5t) / d9P.days;P_i[f24]["Intercept " + d9P.name]=x7o;P_i[f24]["Forecast " + d9P.name]=x7o + B07 * d9P.days;p8p.T7s(5);var c4x=p8p.k5y(19,17);q5$=(d9P.days * f1J - P1R) / (d9P.days * P_o - Math.pow(Q7k,"2" | c4x));p8p.T7s(148);P_i[f24]["RSquared " + d9P.name]=p8p.D45(q5$,B07,B07);P_i[f24][F9M + d9P.name]=[P66,Q7k,P_o];}};i0u.Studies.studyLibrary=i0u.extend(i0u.Studies.studyLibrary,{"Lin Fcst":{name:D8I,overlay:!!({}),calculateFN:i0u.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:"auto"}},"Lin Incpt":{name:"Linear Reg Intercept",overlay:!!1,calculateFN:i0u.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Intercept:"auto"}},"Lin R2":{name:J2A,calculateFN:i0u.Studies.calculateLinearRegressionIndicator,inputs:{Period:"14" - 0,Field:"field"},outputs:{RSquared:"auto"}},"LR Slope":{name:d0p,calculateFN:i0u.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Slope:"auto"}},"Time Fcst":{name:Z1o,overlay:!0,calculateFN:i0u.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:"auto"}}});}};t0=j8w=>{var V1W,H$Q,T3C,S67;V1W="undef";V1W+="ined";H$Q=typeof _CIQ !== V1W?_CIQ:j8w.CIQ;if(!H$Q.Studies){console.error("macd feature requires first activating studies feature.");}else {T3C="#FF0";T3C+="000";S67="#0";S67+="0";S67+="DD0";S67+="0";H$Q.Studies.calculateMACD=function(x6K,e6z){var o5F=l9y8Y;var X6J,m7$,u8I,R4z,v06,R6H,s3R,k2Z,J5y,r_o,X_I,y$W,O$2,p$G,t6A,l2w,p0B,D4C,N8l,Y7A;o5F.Y$C();X6J="MA";X6J+="C";X6J+="D";X6J+=" ";m7$="Signal";m7$+=" MA ";m7$+="Type";u8I="F";u8I+="ast MA Period";R4z=e6z.chart.scrubbed;v06=e6z.inputs;R6H=e6z.name;if(!e6z.macd1Days){e6z.macd1Days=parseFloat(v06[u8I]);}if(!e6z.macd2Days){e6z.macd2Days=parseFloat(v06["Slow MA Period"]);}if(!e6z.signalDays){e6z.signalDays=parseFloat(v06["Signal Period"]);}if(!e6z.days){e6z.days=Math.max(e6z.macd1Days,e6z.macd2Days,e6z.signalDays);}if(R4z.length < e6z.days + 1){e6z.error=!![];return;}s3R=e6z.inputs.Field;if(!s3R || s3R == "field"){s3R="Close";}k2Z=v06["Moving Average Type"];if(!k2Z){k2Z="exponential";}H$Q.Studies.MA(k2Z,e6z.macd1Days,s3R,0,"_MACD1",x6K,e6z);H$Q.Studies.MA(k2Z,e6z.macd2Days,s3R,0,"_MACD2",x6K,e6z);X_I=Math.max(e6z.startFrom,e6z.days - ("1" >> 32));for(J5y=X_I;J5y < R4z.length;J5y++){y$W="_M";y$W+="AC";y$W+="D2 ";O$2="_";O$2+="MAC";O$2+="D2 ";p$G="_M";p$G+="AC";p$G+="D";p$G+="1 ";r_o=R4z[J5y];if((r_o[p$G + R6H] || r_o["_MACD1 " + R6H] === 0) && (r_o[O$2 + R6H] || r_o[y$W + R6H] === +"0")){o5F.u4X(3);r_o[o5F.k5y("MACD ",R6H)]=r_o["_MACD1 " + R6H] - r_o["_MACD2 " + R6H];}}t6A=v06[m7$];if(!t6A){t6A="exponential";}H$Q.Studies.MA(t6A,e6z.signalDays,X6J + R6H,"0" * 1,"Signal",x6K,e6z);o5F.u4X(3);l2w=o5F.k5y(R6H,"_hist");for(J5y=X_I;J5y < R4z.length;J5y++){r_o=R4z[J5y];o5F.T7s(3);p0B=r_o[o5F.k5y("Signal ",R6H)];if(!p0B && p0B !== 0)continue;r_o[l2w]=r_o["MACD " + R6H] - r_o["Signal " + R6H];}D4C=-582480080;N8l=-629695052;Y7A=2;for(var v7N=1;o5F.U3Y(v7N.toString(),v7N.toString().length,49963) !== D4C;v7N++){e6z.outputMap[l2w]="";Y7A+=2;}if(o5F.U3Y(Y7A.toString(),Y7A.toString().length,61077) !== N8l){e6z.outputMap[l2w]="";}};H$Q.Studies.studyLibrary=H$Q.extend(H$Q.Studies.studyLibrary,{macd:{name:"MACD",calculateFN:H$Q.Studies.calculateMACD,seriesFN:H$Q.Studies.displayHistogramWithSeries,inputs:{"Fast MA Period":12,"Slow MA Period":26,"Signal Period":"9" - 0},outputs:{MACD:"auto",Signal:"#FF0000","Increasing Bar":S67,"Decreasing Bar":T3C}}});}};v5=Z51=>{var s9l=l9y8Y;var a53,n0R;a53="u";a53+="nd";a53+="e";a53+="fined";n0R=typeof _CIQ !== a53?_CIQ:Z51.CIQ;s9l.Y$C();if(!n0R.Studies){console.error("massIndex feature requires first activating studies feature.");}else {n0R.Studies.calculateMassIndex=function(L1v,z9i){var h51,t8r,s8Q,f3j;h51="e";s9l.Y$C();h51+="xpo";h51+="nential";t8r=z9i.chart.scrubbed;if(t8r.length < Math.max(9,z9i.days + 1)){z9i.error=!!({});return;}for(var p2B=z9i.startFrom;p2B < t8r.length;p2B++){t8r[p2B]["_High-Low " + z9i.name]=t8r[p2B].High - t8r[p2B].Low;}n0R.Studies.MA("exponential",9,"_High-Low " + z9i.name,0,"_EMA",L1v,z9i);n0R.Studies.MA(h51,9,"_EMA " + z9i.name,+"0","_EMA2",L1v,z9i);s8Q=0;if(t8r[z9i.startFrom - 1] && t8r[z9i.startFrom - 1]["_total " + z9i.name]){s9l.u4X(149);var E9w=s9l.k5y(16,8,32,6,3);s8Q=t8r[z9i.startFrom - E9w]["_total " + z9i.name];}for(var E5k=Math.max(17,z9i.startFrom);E5k < t8r.length;E5k++){f3j="_EM";f3j+="A";f3j+=" ";s8Q+=t8r[E5k][f3j + z9i.name] / t8r[E5k]["_EMA2 " + z9i.name];if(E5k >= 17 + z9i.days - 1){t8r[E5k]["Result " + z9i.name]=s8Q;s9l.T7s(150);var S9K=s9l.D45(2,9,3,12);s9l.u4X(30);var m7V=s9l.k5y(12,167,14,0);s8Q-=t8r[E5k - z9i.days + S9K]["_EMA " + z9i.name] / t8r[E5k - z9i.days + m7V]["_EMA2 " + z9i.name];}t8r[E5k]["_total " + z9i.name]=s8Q;}};n0R.Studies.displayMassIndex=function(x3G,W2C,k_v){var S6r,I45,d80,o6V,q5w;n0R.Studies.displaySeriesAsLine(x3G,W2C,k_v);S6r=W2C.inputs["Bulge Threshold"];I45=x3G.panels[W2C.panel];d80=W2C.getYAxis(x3G);o6V=n0R.Studies.determineColor(W2C.outputs.Result);q5w={skipTransform:x3G.panels[W2C.panel].name != W2C.chart.name,panelName:W2C.panel,band:"Result " + W2C.name,threshold:S6r,direction:1,color:o6V,yAxis:d80,opacity:0.3};if(!W2C.highlight && x3G.highlightedDraggable){q5w.opacity*=+"0.3";}n0R.preparePeakValleyFill(x3G,q5w);n0R.Studies.drawHorizontal(x3G,W2C,null,S6r,d80,o6V);};n0R.Studies.studyLibrary=n0R.extend(n0R.Studies.studyLibrary,{"Mass Idx":{name:"Mass Index",seriesFN:n0R.Studies.displayMassIndex,calculateFN:n0R.Studies.calculateMassIndex,inputs:{Period:25,"Bulge Threshold":27},attributes:{"Bulge Threshold":{min:20,max:35,step:0.1}}}});}};V8=D2Y=>{var t$r=l9y8Y;var j6j,v79,s8K;t$r.r8O();j6j=typeof _CIQ !== "undefined"?_CIQ:D2Y.CIQ;if(!j6j.Studies){v79="mo";v79+="neyFlow feature requires first activating studies feature.";console.error(v79);}else {s8K="Money Flow ";s8K+="Index";j6j.Studies.calculateMoneyFlowIndex=function(c5c,u9T){var t0Z,d4H,b$s,B8k,B0L,b_J,a_Q,t$j,H0L,n8t,l$y,Y4N;t0Z="_";t$r.Y$C();t0Z+="cu";t0Z+="mMF ";d4H=u9T.chart.scrubbed;if(d4H.length < u9T.days + 1){u9T.error=!!({});return;}b$s=0;B8k=0;t$r.u4X(8);var V53=t$r.k5y(0,1,2);B0L=d4H[u9T.startFrom - V53];b_J="_rawMF " + u9T.name;a_Q=t0Z + u9T.name;t$j="Result " + u9T.name;if(B0L && B0L[a_Q]){b$s=B0L[a_Q][0];B8k=B0L[a_Q][1];}for(var O88=u9T.startFrom;O88 < d4H.length;O88++){H0L=d4H[O88]["hlc/3"];if(O88 > 0 && !d4H[O88].futureTick){t$r.u4X(5);n8t=d4H[t$r.D45(O88,1)]["hlc/3"];l$y=H0L * d4H[O88].Volume;if(H0L > n8t){b$s+=l$y;}else if(H0L < n8t){t$r.u4X(10);l$y*=-t$r.D45("1",1);B8k-=l$y;}else {t$r.u4X(10);l$y=t$r.D45("0",1);}if(O88 > u9T.days){Y4N=d4H[O88 - u9T.days][b_J];if(Y4N > 0){b$s-=Y4N;}else {B8k+=Y4N;}if(B8k === 0){d4H[O88][t$j]=100;}else if(d4H[O88].Volume){t$r.T7s(151);d4H[O88][t$j]=t$r.D45(100,1,B8k,b$s,100);}}d4H[O88][b_J]=l$y;d4H[O88][a_Q]=[b$s,B8k];}}};j6j.Studies.studyLibrary=j6j.extend(j6j.Studies.studyLibrary,{"M Flow":{name:s8K,range:"0 to 100",calculateFN:j6j.Studies.calculateMoneyFlowIndex,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:!!({}),studyOverBoughtValue:"80" - 0,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};o5=J8K=>{var A8T=l9y8Y;A8T.Y$C();var h_B,o7P,C3w,W6M,p0V,z$Y,x6a,M10,k1m,C7j,I_r,j7q,F2I,m3T,n8R,I5q;h_B=typeof _CIQ !== "undefined"?_CIQ:J8K.CIQ;if(!h_B.Studies){console.error("movingAverages feature requires first activating studies feature.");}else {o7P="Guppy Multiple Moving A";o7P+="verage";C3w="P";C3w+="ercent";W6M="Movi";W6M+="ng Average Deviation";p0V="a";p0V+="u";p0V+="t";p0V+="o";z$Y="au";z$Y+="t";z$Y+="o";x6a="fie";x6a+="l";x6a+="d";M10="DoubleExpo";M10+="nential";k1m="Hu";k1m+="l";k1m+="l";C7j="T";C7j+="riple Exponenti";C7j+="a";C7j+="l";I_r="Double Ex";I_r+="pon";I_r+="enti";I_r+="al";j7q="H";j7q+="ull";F2I="3-e";F2I+="xpone";F2I+="ntial";m3T="h";m3T+="ul";m3T+="l";n8R="h";n8R+="m";n8R+="a";I5q="t";I5q+="e";I5q+="m";I5q+="a";h_B.Studies.prettify=h_B.extend({"2-exponential":"dema","3-exponential":I5q,hull:n8R},h_B.Studies.prettify);h_B.extend(h_B.Studies.movingAverage,{conversions:{hma:m3T,dema:"2-exponential",tema:F2I},translations:{hull:j7q,"2-exponential":I_r,"3-exponential":C7j},typeMap:{hma:"Hull",hull:k1m,dema:"DoubleExponential","2-exponential":M10,tema:"TripleExponential","3-exponential":"TripleExponential"}});h_B.Studies.calculateMovingAverageHull=function(h$x,g5I){var J1L,L_Q,w_L,J0r,X$z,y6N,j3I,q5Q,p_s,u6i,c4k;J1L="_";J1L+="MM";J1L+="A";J1L+=" ";L_Q="f";L_Q+="ield";w_L=g5I.chart.scrubbed;J0r=g5I.inputs.Field;if(!J0r || J0r == L_Q){J0r="Close";}h_B.Studies.MA("wma",g5I.days,J0r,0,"_WMA1",h$x,g5I);h_B.Studies.MA("wma",Math.ceil(g5I.days / 2),J0r,0,"_WMA2",h$x,g5I);for(X$z=g5I.startFrom - 1;X$z >= 0;X$z--){y6N=w_L[X$z][J0r];if(y6N && typeof y6N == "object"){y6N=y6N[g5I.subField];}if(y6N || y6N === 0)break;}for(X$z++;X$z < w_L.length;X$z++){j3I="_WMA2";j3I+=" ";q5Q=w_L[X$z];A8T.T7s(152);var Q0z=A8T.k5y(12,10,13,4,534);q5Q["_MMA " + g5I.name]=Q0z * q5Q[j3I + g5I.name] - q5Q["_WMA1 " + g5I.name];}p_s=parseInt(g5I.inputs.Offset,10);if(isNaN(p_s)){p_s=0;}u6i=Math.floor(Math.sqrt(g5I.days));h_B.Studies.MA("wma",u6i,J1L + g5I.name,p_s,"_HMA",h$x,g5I);c4k=g5I.name;A8T.r8O();for(var k_x in g5I.outputs){A8T.T7s(65);c4k=A8T.k5y(k_x," ",c4k);}for(X$z=Math.max(g5I.days + u6i - +"1",g5I.startFrom);X$z < w_L.length;X$z++){w_L[X$z][c4k]=w_L[X$z]["_HMA " + g5I.name];}};h_B.Studies.calculateMovingAverageDoubleExponential=function(J2F,e2Q){var d_4,i0g,m1l,a_7,P6X,k$v,f17,U3r,v7w,p94,u9m,w6Y,u5n;d_4="C";d_4+="lose";i0g="f";i0g+="ie";i0g+="l";i0g+="d";m1l=e2Q.chart.scrubbed;a_7=e2Q.inputs.Field;if(!a_7 || a_7 == i0g){a_7=d_4;}h_B.Studies.MA("ema",e2Q.days,a_7,0,"_EMA1",J2F,e2Q);h_B.Studies.MA("ema",e2Q.days,"_EMA1 " + e2Q.name,0,"_EMA2",J2F,e2Q);P6X=parseInt(e2Q.inputs.Offset,10);if(isNaN(P6X)){P6X=0;}U3r=P6X;for(k$v=e2Q.startFrom - +"1";k$v >= ("0" | 0);k$v--){f17=m1l[k$v][a_7];if(f17 && typeof f17 == "object"){f17=f17[e2Q.subField];}if(!f17 && f17 !== 0)continue;if(U3r > ("0" ^ 0)){U3r--;continue;}break;}v7w=e2Q.name;for(var t3v in e2Q.outputs){A8T.T7s(65);v7w=A8T.D45(t3v,(9591,461) <= +"634"?" ":(379.30,+"7.28e+3"),v7w);}p94=[];for(k$v++;k$v < m1l.length;k$v++){if(k$v < 2 * (e2Q.days - 1))continue;u9m=m1l[k$v];A8T.u4X(125);var q2u=A8T.k5y(21,4,28,8);w6Y=q2u * u9m["_EMA1 " + e2Q.name] - u9m["_EMA2 " + e2Q.name];if(k$v + P6X >= 0){if(k$v + P6X < m1l.length){A8T.u4X(3);m1l[A8T.k5y(k$v,P6X)][v7w]=w6Y;}else {u5n={};u5n[v7w]=w6Y;p94.push(u5n);}}}e2Q.appendFutureTicks(J2F,p94);};h_B.Studies.calculateMovingAverageTripleExponential=function(a2q,V3z){var d9F,Y7j,Z4s,V26,A3S,D5A,F9Z,a8b,U3G,u3X,J3B,Q44,J0b,h2R,j4s,h_t,q8J,q$q;d9F="_E";d9F+="M";d9F+="A";d9F+="3";Y7j="e";Y7j+="ma";Z4s="_E";Z4s+="MA1 ";V26="_";V26+="E";V26+="M";V26+="A1";A3S="fi";A3S+="eld";D5A=V3z.chart.scrubbed;F9Z=V3z.inputs.Field;if(!F9Z || F9Z == A3S){F9Z="Close";}h_B.Studies.MA("ema",V3z.days,F9Z,0,V26,a2q,V3z);h_B.Studies.MA("ema",V3z.days,Z4s + V3z.name,0,"_EMA2",a2q,V3z);h_B.Studies.MA(Y7j,V3z.days,"_EMA2 " + V3z.name,"0" >> 32,d9F,a2q,V3z);a8b=parseInt(V3z.inputs.Offset,10);if(isNaN(a8b)){a8b=+"0";}J3B=a8b;A8T.Y$C();for(U3G=V3z.startFrom - 1;U3G >= 0;U3G--){Q44="ob";Q44+="j";Q44+="ec";Q44+="t";u3X=D5A[U3G][F9Z];if(u3X && typeof u3X == Q44){u3X=u3X[V3z.subField];}if(!u3X && u3X !== 0)continue;if(J3B > 0){J3B--;continue;}break;}J0b=V3z.name;for(var m1t in V3z.outputs){A8T.u4X(65);J0b=A8T.k5y(m1t,("2870" << 32,+"2130") === (8850,"4350" << 32)?2705 < (245.8,139.3)?("l",2.43e+2):103.73:" ",J0b);}h2R=[];for(U3G++;U3G < D5A.length;U3G++){j4s="_EM";j4s+="A";j4s+="1";j4s+=" ";if(U3G < 3 * (V3z.days - 1))continue;h_t=D5A[U3G];A8T.u4X(5);var L$$=A8T.D45(416,384);A8T.T7s(8);var Q04=A8T.D45(0,2,5);q8J=("3" >> L$$) * h_t[j4s + V3z.name] - Q04 * h_t["_EMA2 " + V3z.name] + h_t["_EMA3 " + V3z.name];if(U3G + a8b >= 0){if(U3G + a8b < D5A.length){A8T.T7s(3);D5A[A8T.D45(U3G,a8b)][J0b]=q8J;}else {q$q={};q$q[J0b]=q8J;h2R.push(q$q);}}}V3z.appendFutureTicks(a2q,h2R);};h_B.Studies.calculateMAEnvelope=function(r1P,a0_){var O6F,S1c,N22,W$X,y2D,Z5k,p64,Q_0;O6F="poi";O6F+="n";O6F+="ts";S1c="M";S1c+="A";A8T.r8O();N22="Mov";N22+="ing Average Type";W$X="Cl";W$X+="o";W$X+="s";W$X+="e";y2D=a0_.inputs.Field;if(!y2D || y2D == "field"){y2D=W$X;}h_B.Studies.MA(a0_.inputs[N22],a0_.days,y2D,0,S1c,r1P,a0_);Z5k=a0_.inputs["Shift Type"];p64=a0_.inputs.Shift;if(!Z5k){Z5k="percent";p64=a0_.inputs["Shift Percentage"];}if(Z5k == "percent"){A8T.T7s(12);h_B.Studies.calculateGenericEnvelope(r1P,a0_,A8T.D45(p64,100),"MA " + a0_.name);}else if(Z5k == O6F){Q_0="M";Q_0+="A";Q_0+=" ";h_B.Studies.calculateGenericEnvelope(r1P,a0_,null,Q_0 + a0_.name,null,Number(p64));}};h_B.Studies.calculateMADev=function(f_1,q2S){var Z3r,f4S,V_8,m9D,a5$,Q28,y9L,Z9c,L7X,D8S,R52,N1e,d73;Z3r="_M";Z3r+="A";f4S="e";f4S+="xpon";f4S+="ential";V_8="Po";V_8+="ints";m9D="Poin";m9D+="ts O";m9D+="r Percent";a5$=q2S.chart.scrubbed;if(a5$.length < q2S.days + 1){q2S.error=!![];return;}Q28=q2S.inputs.Field;if(!Q28 || Q28 == "field"){Q28="Close";}y9L=q2S.inputs[m9D];if(!y9L){y9L=V_8;}Z9c=q2S.inputs["Moving Average Type"];if(!Z9c){Z9c=f4S;}A8T.r8O();h_B.Studies.MA(Z9c,q2S.days,Q28,0,Z3r,f_1,q2S);L7X=q2S.name + "_hist";for(var v6n=Math.max(q2S.startFrom,q2S.days - 1);v6n < a5$.length;v6n++){D8S="_";D8S+="M";D8S+="A";D8S+=" ";R52=a5$[v6n];N1e=R52[Q28];if(N1e && typeof N1e == "object"){N1e=N1e[q2S.subField];}d73=R52[D8S + q2S.name];if(d73 || d73 === 0){if(y9L == "Points"){A8T.u4X(5);R52[L7X]=A8T.k5y(N1e,d73);}else {A8T.T7s(153);R52[L7X]=A8T.D45(100,N1e,1,d73);}}}q2S.outputMap={};q2S.outputMap[q2S.name + "_hist"]="";};h_B.Studies.calculateGMMA=function(O2J,p5X){var r88,e5l,l0H;r88=p5X.chart.scrubbed;A8T.T7s(13);e5l=[3,A8T.k5y(64,"5"),8,10,12,A8T.D45("15",0,A8T.T7s(5))];l0H=[30,35,40,45,50,60];if(r88.length < e5l[0]){p5X.error=!0;return;}A8T.r8O();p5X.outputMap={};function R4s(w8q){return function(P5b){var l_O;l_O="C";l_O+="lo";l_O+="se";A8T.T7s(3);h_B.Studies.MA("ema",P5b,l_O,0,A8T.D45("MA ",P5b),O2J,p5X);p5X.outputMap["MA " + P5b + " " + p5X.name]=w8q;};}e5l.forEach(R4s("Short Term"));l0H.forEach(R4s("Long Term"));};h_B.Studies.studyLibrary=h_B.extend(h_B.Studies.studyLibrary,{"MA Env":{name:"Moving Average Envelope",overlay:!!1,seriesFN:h_B.Studies.displayChannel,calculateFN:h_B.Studies.calculateMAEnvelope,inputs:{Period:50,Field:x6a,"Shift Type":["percent","points"],Shift:5,"Moving Average Type":"ma","Channel Fill":!![]},outputs:{"MA Env Top":z$Y,"MA Env Median":p0V,"MA Env Bottom":"auto"},attributes:{Shift:{min:+"0.1",step:+"0.1"}}},"MA Dev":{name:W6M,calculateFN:h_B.Studies.calculateMADev,seriesFN:h_B.Studies.displayHistogramWithSeries,inputs:{Period:12,Field:"field","Moving Average Type":"ma","Points Or Percent":["Points",C3w]},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}},Guppy:{name:o7P,overlay:!![],calculateFN:h_B.Studies.calculateGMMA,inputs:{},outputs:{"Short Term":"#ea1d2c","Long Term":"#00afed"}},"High Low":{name:"High Low Bands",overlay:!"",seriesFN:h_B.Studies.displayChannel,calculateFN:function(e_a,j7B){var k2g,h0b;k2g="triang";k2g+="ul";k2g+="ar";h0b="M";h0b+="ov";h0b+="ing Average Type";j7B.inputs[h0b]=k2g;A8T.r8O();h_B.Studies.calculateMAEnvelope(e_a,j7B);},inputs:{Period:10,Field:"field","Shift Percentage":5,"Channel Fill":!!"1"},outputs:{"High Low Top":"auto","High Low Median":"auto","High Low Bottom":"auto"},attributes:{"Shift Percentage":{min:0.1,step:0.1}}}});}};P1=L$s=>{var k4f=l9y8Y;k4f.Y$C();var O4b,K2X;O4b="unde";O4b+="fined";K2X=typeof _CIQ !== O4b?_CIQ:L$s.CIQ;if(!K2X.Studies){console.error("parabolicSAR feature requires first activating studies feature.");}else {K2X.Studies.calculatePSAR=function(I_W,D9P){var L0Y,Y2P,N3a,S_K,Z6O,j$d,O4m,f8u,A3C,R4H,a8T,W3h;function w$3(){Y2P=0;N3a=null;k4f.r8O();S_K=!S_K;}L0Y=D9P.chart.scrubbed;Y2P=0;N3a=null;S_K=!1;Z6O=+"0";j$d=parseFloat(D9P.inputs["Minimum AF"]);O4m=parseFloat(D9P.inputs["Maximum AF"]);if(D9P.startFrom > 0){k4f.u4X(75);var n4w=k4f.k5y(15,7,7);Z6O=L0Y[D9P.startFrom - n4w]["Result " + D9P.name];k4f.T7s(5);var y0N=k4f.k5y(21,20);f8u=L0Y[D9P.startFrom - y0N]["_state " + D9P.name];if(f8u && f8u.length == 3){Y2P=f8u[0];N3a=f8u[1];S_K=f8u[2];}}for(var c9O=D9P.startFrom - +"1";c9O < L0Y.length - +"1";c9O++){A3C="_";A3C+="state ";if(c9O < 0)continue;if(L0Y[c9O].futureTick)break;R4H=Z6O;if(S_K){if(!N3a || N3a < L0Y[c9O].High){N3a=L0Y[c9O].High;k4f.T7s(3);Y2P=Math.min(k4f.D45(Y2P,j$d),O4m);}k4f.T7s(154);Z6O=k4f.k5y(R4H,N3a,Y2P,R4H);a8T=Math.min(L0Y[Math.max(1,c9O) - 1].Low,L0Y[c9O].Low);if(Z6O > L0Y[c9O + 1].Low){Z6O=N3a;w$3();}else if(Z6O > a8T){Z6O=a8T;}}else {if(!N3a || N3a > L0Y[c9O].Low){N3a=L0Y[c9O].Low;k4f.T7s(3);Y2P=Math.min(k4f.k5y(Y2P,j$d),O4m);}k4f.u4X(154);Z6O=k4f.D45(R4H,N3a,Y2P,R4H);W3h=Math.max(L0Y[Math.max(1,c9O) - 1].High,L0Y[c9O].High);if(Z6O < L0Y[c9O + 1].High){Z6O=N3a;w$3();}else if(Z6O < W3h){Z6O=W3h;}}k4f.u4X(3);L0Y[k4f.k5y(c9O,1)][A3C + D9P.name]=[Y2P,N3a,S_K];if(!isNaN(L0Y[c9O].High) || !isNaN(L0Y[c9O].Low)){k4f.u4X(124);L0Y[k4f.k5y("1",64,c9O)]["Result " + D9P.name]=Z6O;}}};K2X.Studies.studyLibrary=K2X.extend(K2X.Studies.studyLibrary,{PSAR:{name:"Parabolic SAR",overlay:!![],calculateFN:K2X.Studies.calculatePSAR,seriesFN:K2X.Studies.displayPSAR2,inputs:{"Minimum AF":0.02,"Maximum AF":0.2}}});}};X1=F_g=>{var M7S=l9y8Y;var b84,e$3,b6x,N3x,A$g;M7S.r8O();b84=typeof _CIQ !== "undefined"?_CIQ:F_g.CIQ;if(!b84.Studies){console.error("pivotPoints feature requires first activating studies feature.");}else {e$3="#d3e8";e$3+="ae";b6x="#";b6x+="b3d";b6x+="9";b6x+="87";N3x="#";N3x+="69";N3x+="9";N3x+="158";A$g="au";A$g+="t";A$g+="o";b84.Studies.calculatePivotPoints=function(q3d,F14){var D2Q,S6o,F$4,u8i,L6_,G_S,A3M,k9l,s4_,H5J,J0S,V3A,V1N,a41,x7K,V62,d1i,b7O,K5F,k2r,K7V,B9g,g0L,w5r;D2Q="15mi";D2Q+="n";S6o="m";S6o+="illis";S6o+="eco";S6o+="nd";F$4="milliseco";function N6Q(){M7S.u4X(155);var B4Y=M7S.k5y(324,13,13,19,18);M7S.T7s(156);var K6v=M7S.D45(15,44,15,11);M7S.r8O();x7K.pivotPoint=(x7K.high + x7K.low + L6_[F3I - B4Y].Close) / K6v;x7K.prevHigh=x7K.high;x7K.prevLow=x7K.low;x7K.hlSpread=x7K.high - x7K.low;x7K.high=x7K.low=0;}F$4+="nd";u8i="da";u8i+="y";L6_=F14.chart.scrubbed;M7S.r8O();G_S=1034036331;A3M=1956631968;k9l=2;for(var J7D=1;M7S.L3M(J7D.toString(),J7D.toString().length,90035) !== G_S;J7D++){s4_="";H5J=q3d.layout.interval;J0S=q3d.layout.timeUnit;k9l+=+"2";}if(M7S.U3Y(k9l.toString(),k9l.toString().length,60554) !== A3M){s4_="";H5J=q3d.layout.interval;J0S=q3d.layout.timeUnit;}s4_=u8i;H5J=q3d.layout.interval;J0S=q3d.layout.timeUnit;if(H5J == "day"){s4_="month";}else if(b84.ChartEngine.isDailyInterval(H5J)){s4_="year";}else if(H5J == "second" || H5J == F$4 || J0S == "second" || J0S == S6o){s4_=D2Q;}else {V3A=q3d.layout.periodicity;if(H5J != "minute"){V3A*=H5J;}if(V3A >= 30){s4_="week";}}V1N=null;M7S.u4X(1);var P21=M7S.D45(105,15,0);a41=P21 - b84.getFromNS(q3d.chart,"market.beginningDayOfWeek",0);x7K={pivotPoint:NaN,high:+"0",low:0,prevHigh:"0" - 0,prevLow:0,hlSpread:0};if(F14.startFrom > 1 && L6_[F14.startFrom - 1]["_pointers " + F14.name]){V62="_";V62+="p";V62+="ointers ";x7K=b84.clone(L6_[F14.startFrom - ("1" >> 32)][V62 + F14.name]);}for(var F3I=Math.max(+"1",F14.startFrom);F3I < L6_.length;F3I++){d1i="fi";d1i+="bona";d1i+="c";d1i+="ci";if(!L6_[F3I - +"1"])continue;x7K.high=Math.max(x7K.high,L6_[F3I - 1].High);x7K.low=Math.min(x7K.low > "0" - 0?x7K.low:L6_[F3I - 1].Low,L6_[F3I - 1].Low);if(F14.inputs.Continuous){N6Q();}else if(s4_ == "year" && L6_[F3I].DT.getYear() != L6_[F3I - 1].DT.getYear()){N6Q();}else if(s4_ == "month" && L6_[F3I].DT.getMonth() != L6_[F3I - 1].DT.getMonth()){N6Q();}else if(s4_ == "week" && (L6_[F3I].DT.getDay() + a41) % 7 < (L6_[F3I - 1].DT.getDay() + a41) % 7){N6Q();}else if(s4_ == "day"){if(V1N === null){V1N=b84.Studies.getMarketOffset({stx:q3d,localQuoteDate:L6_[F3I].DT,shiftToDateBoundary:!![]});}b7O=new Date(new Date(+L6_[F3I].DT).setMilliseconds(L6_[F3I].DT.getMilliseconds() + V1N));K5F=new Date(new Date(+L6_[F3I - 1].DT).setMilliseconds(L6_[F3I - 1].DT.getMilliseconds() + V1N));if(K5F.getDate() !== b7O.getDate() && K5F.getDay() !== 0 && q3d.chart.market.isMarketDate(b7O)){V1N=null;N6Q();}}else if(s4_ == "15min" && (L6_[F3I].DT.getHours() != L6_[F3I - 1].DT.getHours() || Math.floor(L6_[F3I].DT.getMinutes() / 15) != Math.floor(L6_[F3I - 1].DT.getMinutes() / ("15" << 64)))){N6Q();}L6_[F3I]["Pivot " + F14.name]=x7K.pivotPoint;if(F14.inputs.Type.toLowerCase() == d1i){k2r="Resi";k2r+="stance";k2r+=" 3";k2r+=" ";K7V="Resi";K7V+="stance";K7V+=" 1";K7V+=" ";L6_[F3I][K7V + F14.name]=x7K.pivotPoint + +"0.382" * x7K.hlSpread;L6_[F3I]["Resistance 2 " + F14.name]=x7K.pivotPoint + 0.618 * x7K.hlSpread;L6_[F3I][k2r + F14.name]=x7K.pivotPoint + x7K.hlSpread;L6_[F3I]["Support 1 " + F14.name]=x7K.pivotPoint - 0.382 * x7K.hlSpread;L6_[F3I]["Support 2 " + F14.name]=x7K.pivotPoint - 0.618 * x7K.hlSpread;L6_[F3I]["Support 3 " + F14.name]=x7K.pivotPoint - x7K.hlSpread;}else {B9g="Support";B9g+=" 2";B9g+=" ";g0L="Supp";g0L+="or";g0L+="t 1";g0L+=" ";w5r="Resistanc";w5r+="e ";w5r+="3 ";M7S.u4X(5);var J0L=M7S.k5y(4,2);L6_[F3I]["Resistance 1 " + F14.name]=J0L * x7K.pivotPoint - x7K.prevLow;L6_[F3I]["Resistance 2 " + F14.name]=x7K.pivotPoint + x7K.hlSpread;M7S.u4X(157);var O6Q=M7S.D45(3,268,9,28,15);L6_[F3I][w5r + F14.name]=x7K.prevHigh + O6Q * (x7K.pivotPoint - x7K.prevLow);M7S.T7s(1);var t9u=M7S.D45(28,4,5);L6_[F3I][g0L + F14.name]=t9u * x7K.pivotPoint - x7K.prevHigh;L6_[F3I][B9g + F14.name]=x7K.pivotPoint - x7K.hlSpread;M7S.T7s(8);var P9P=M7S.D45(16,26,12);L6_[F3I]["Support 3 " + F14.name]=x7K.prevLow - P9P * (x7K.prevHigh - x7K.pivotPoint);}L6_[F3I]["_pointers " + F14.name]=b84.clone(x7K);}};b84.Studies.displayPivotPoints=function(p8m,X3Z,V_p){var l$T,K9B,d9_,T6e,e1O;X3Z.noSlopes=!X3Z.inputs.Continuous;b84.Studies.displaySeriesAsLine(p8m,X3Z,V_p);if(X3Z.inputs.Shading){l$T="Resi";l$T+="s";l$T+="ta";l$T+="nce 2 ";K9B="Resistanc";K9B+="e 3";d9_="Res";d9_+="istance";d9_+=" 3 ";T6e=p8m.panels[X3Z.panel];e1O={noSlopes:X3Z.noSlopes,opacity:X3Z.parameters.opacity?X3Z.parameters.opacity:0.2,skipTransform:T6e.name != X3Z.chart.name,yAxis:X3Z.getYAxis(p8m)};if(!X3Z.highlight && p8m.highlightedDraggable){e1O.opacity*=0.3;}b84.prepareChannelFill(p8m,b84.extend({panelName:X3Z.panel,topBand:d9_ + X3Z.name,bottomBand:"Resistance 2 " + X3Z.name,color:b84.Studies.determineColor(X3Z.outputs[K9B])},e1O));b84.prepareChannelFill(p8m,b84.extend({panelName:X3Z.panel,topBand:l$T + X3Z.name,bottomBand:"Resistance 1 " + X3Z.name,color:b84.Studies.determineColor(X3Z.outputs["Resistance 2"])},e1O));b84.prepareChannelFill(p8m,b84.extend({panelName:X3Z.panel,topBand:"Resistance 1 " + X3Z.name,bottomBand:"Pivot " + X3Z.name,color:b84.Studies.determineColor(X3Z.outputs["Resistance 1"])},e1O));b84.prepareChannelFill(p8m,b84.extend({panelName:X3Z.panel,topBand:"Support 1 " + X3Z.name,bottomBand:"Pivot " + X3Z.name,color:b84.Studies.determineColor(X3Z.outputs["Support 1"])},e1O));b84.prepareChannelFill(p8m,b84.extend({panelName:X3Z.panel,topBand:"Support 2 " + X3Z.name,bottomBand:"Support 1 " + X3Z.name,color:b84.Studies.determineColor(X3Z.outputs["Support 2"])},e1O));b84.prepareChannelFill(p8m,b84.extend({panelName:X3Z.panel,topBand:"Support 3 " + X3Z.name,bottomBand:"Support 2 " + X3Z.name,color:b84.Studies.determineColor(X3Z.outputs["Support 3"])},e1O));}};b84.Studies.studyLibrary=b84.extend(b84.Studies.studyLibrary,{"Pivot Points":{name:"Pivot Points",overlay:!!"1",seriesFN:b84.Studies.displayPivotPoints,calculateFN:b84.Studies.calculatePivotPoints,inputs:{Type:["standard","fibonacci"],Continuous:!1,Shading:!"1"},outputs:{Pivot:A$g,"Resistance 1":"#b82c0b","Support 1":N3x,"Resistance 2":"#e36460","Support 2":b6x,"Resistance 3":"#ffd0cf","Support 3":e$3},parameters:{init:{opacity:+"0.2"}}}});}};C3=Y8q=>{var w3G=l9y8Y;var Y4D,C6i,p85,v2C,o9D,F4S,K9z,S1N;Y4D=typeof _CIQ !== "undefined"?_CIQ:Y8q.CIQ;w3G.r8O();if(!Y4D.Studies){console.error("prettyGoodOscillator feature requires first activating studies feature.");}else {Y4D.Studies.calculatePrettyGoodOscillator=function(j4E,U08){var k9c,e02,E59,c7H;k9c="C";k9c+="l";k9c+="o";k9c+="se";e02="_";e02+="EMA";w3G.r8O();E59="t";E59+="rueRange";c7H=U08.chart.scrubbed;if(c7H.length < U08.days + 1){U08.error=!0;return;}Y4D.Studies.MA("exponential",U08.days,E59,0,e02,j4E,U08);Y4D.Studies.MA("simple",U08.days,k9c,0,"_SMA",j4E,U08);for(var f4o=Math.max(1,U08.startFrom);f4o < c7H.length;f4o++){if(!c7H[f4o]["_SMA " + U08.name] || !c7H[f4o]["_EMA " + U08.name])continue;c7H[f4o]["Result " + U08.name]=(c7H[f4o].Close - c7H[f4o]["_SMA " + U08.name]) / c7H[f4o]["_EMA " + U08.name];}};C6i=1638111810;w3G.T7s(5);p85=w3G.D45("430268724",0);v2C=2;for(var r_x=1;w3G.U3Y(r_x.toString(),r_x.toString().length,+"92285") !== C6i;r_x++){o9D="au";o9D+="to";F4S="Pretty G";F4S+="ood";F4S+=" Osci";F4S+="llator";Y4D.Studies.studyLibrary=Y4D.extend(Y4D.Studies.studyLibrary,{"Pretty Good":{name:F4S,calculateFN:Y4D.Studies.calculatePrettyGoodOscillator,parameters:{init:{studyOverZonesEnabled:!!({}),studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-+"3",studyOverSoldColor:o9D}}}});w3G.T7s(13);v2C+=w3G.D45(64,"2");}if(w3G.U3Y(v2C.toString(),v2C.toString().length,34725) !== p85){K9z="a";K9z+="uto";S1N="a";S1N+="u";S1N+="t";S1N+="o";Y4D.Studies.studyLibrary=Y4D.extend(Y4D.Studies.studyLibrary,{"Pretty Good":{name:"auto",calculateFN:Y4D.Studies.calculatePrettyGoodOscillator,parameters:{init:{studyOverZonesEnabled:![],studyOverBoughtValue:7,studyOverBoughtColor:S1N,studyOverSoldValue:!("4" >> 32),studyOverSoldColor:K9z}}}});}}};s8=E0T=>{var N6Y=l9y8Y;N6Y.Y$C();var s_Z,v4P,a0x,v40,k_l,d77;s_Z="un";s_Z+="def";s_Z+="ine";s_Z+="d";v4P=typeof _CIQ !== s_Z?_CIQ:E0T.CIQ;if(!v4P.Studies){console.error("priceMomentumOscillator feature requires first activating studies feature.");}else {a0x="0";a0x+=".";a0x+="0";a0x+="5";v40="a";v40+="u";v40+="t";v40+="o";k_l="au";k_l+="to";d77="#F";d77+="F0";d77+="00";d77+="0";v4P.Studies.calculatePMO=function(k2Y,p8T){var U9d,G3v,B$Y,R__,O97,Z3Y,U6I,g3p,S9r;U9d="P";U9d+="M";U9d+="O";G3v="P";G3v+="M";G3v+="O";G3v+=" ";B$Y="PM";B$Y+="O";R__="Doub";R__+="l";R__+="e Smoothing Period";O97={Smooth:Number(p8T.inputs["Smoothing Period"]) - +"1",Double:Number(p8T.inputs[R__]) - 1,Signal:Number(p8T.inputs["Signal Period"])};Z3Y=p8T.chart.scrubbed;if(Z3Y.length < O97.Smooth + O97.Double){p8T.error=!!({});return;}U6I=p8T.inputs.Field;if(!U6I || U6I == "field"){U6I="Close";}for(g3p=p8T.startFrom;g3p < Z3Y.length;g3p++){if(!Z3Y[g3p])continue;if(!Z3Y[g3p - 1])continue;N6Y.u4X(114);S9r=Z3Y[N6Y.D45(0,"1",g3p)][U6I];if(S9r){N6Y.T7s(75);var y8C=N6Y.k5y(7000,20,5980);N6Y.u4X(158);var i69=N6Y.D45(8,13,16,5,0);Z3Y[g3p]["_ROCx10 " + p8T.name]=y8C * (Z3Y[g3p][U6I] / S9r - i69);}}v4P.Studies.MA("exponential",O97.Smooth,"_ROCx10 " + p8T.name,0,"_EMAx10",k2Y,p8T);v4P.Studies.MA("exponential",O97.Double,"_EMAx10 " + p8T.name,0,B$Y,k2Y,p8T);N6Y.Y$C();v4P.Studies.MA("exponential",O97.Signal,G3v + p8T.name,0,"PMOSignal",k2Y,p8T);p8T.zoneOutput=U9d;};v4P.Studies.studyLibrary=v4P.extend(v4P.Studies.studyLibrary,{PMO:{name:"Price Momentum Oscillator",calculateFN:v4P.Studies.calculatePMO,inputs:{Field:"field","Smoothing Period":35,"Double Smoothing Period":+"20","Signal Period":10},outputs:{PMO:"auto",PMOSignal:d77},parameters:{init:{studyOverZonesEnabled:!!1,studyOverBoughtValue:2.5,studyOverBoughtColor:k_l,studyOverSoldValue:-2.5,studyOverSoldColor:v40}},attributes:{studyOverBoughtValue:{min:0,step:"0.05"},studyOverSoldValue:{max:0,step:a0x}}}});}};S1=K5o=>{var G9K,k2E,G_v,s2I,V$Z,x84,r4S,U6H,g9q,j9c,f2w,C1Y;G9K="undefin";G9K+="ed";k2E=typeof _CIQ !== G9K?_CIQ:K5o.CIQ;if(!k2E.Studies){G_v="priceVolumeOscillator feature requ";G_v+="ires";G_v+=" first acti";G_v+="vating studies feature.";console.error(G_v);}else {s2I="0";s2I+=".";s2I+="1";V$Z="au";V$Z+="t";V$Z+="o";x84="#";x84+="FF";x84+="0000";r4S="v";r4S+="d";r4S+="m";r4S+="a";U6H="fie";U6H+="l";U6H+="d";g9q="Po";g9q+="in";g9q+="ts";j9c="e";j9c+="m";j9c+="a";f2w="fie";f2w+="l";f2w+="d";C1Y="P";C1Y+="r";C1Y+="ice Oscillator";k2E.Studies.calculatePriceOscillator=function(j0M,t6w){var X30=l9y8Y;X30.r8O();var R2y,Y$g,x5Z,I6U,y86,b9y,t4k,y3e,q8X,L47,S0V,X_9,n7S,J4e,B3d;R2y="Cl";R2y+="o";R2y+="s";R2y+="e";Y$g=t6w.chart.scrubbed;x5Z=Number(t6w.inputs["Short Cycle"]);I6U=Number(t6w.inputs["Long Cycle"]);if(Y$g.length < Math.max(x5Z,I6U) + 1){t6w.error=!"";return;}y86=t6w.inputs.Field;b9y=t6w.inputs["Moving Average Type"];if(!b9y){b9y="simple";}if(!y86 || y86 == "field"){y86=R2y;}if(t6w.parameters.isVolume){t4k="exponent";t4k+="ial";y86="Volume";b9y=t4k;}y3e=t6w.inputs["Points Or Percent"];if(!y3e){y3e="Percent";}k2E.Studies.MA(b9y,x5Z,y86,+"0","_Short MA",j0M,t6w);X30.u4X(27);k2E.Studies.MA(b9y,I6U,y86,X30.D45(0,"0"),"_Long MA",j0M,t6w);for(var q22=Math.max(I6U,t6w.startFrom);q22 < Y$g.length;q22++){q8X=Y$g[q22];if(!q8X)continue;L47=q8X["_Short MA " + t6w.name];S0V=q8X["_Long MA " + t6w.name];if((L47 || L47 === +"0") && (S0V || S0V === 0)){X_9="Inc";X_9+="reasi";X_9+="ng";X_9+=" Bar";n7S="Res";n7S+="ul";n7S+="t";n7S+=" ";if(y3e == "Points"){X30.T7s(5);q8X[n7S + t6w.name]=X30.k5y(L47,S0V);}else {X30.u4X(159);q8X["Result " + t6w.name]=X30.k5y(0,L47,"100","1",32,S0V);}if(t6w.outputs[X_9]){J4e="_h";J4e+="i";J4e+="s";J4e+="t";B3d="_hi";B3d+="st";q8X[t6w.name + B3d]=q8X["Result " + t6w.name];t6w.outputMap={};t6w.outputMap[t6w.name + J4e]="";}}}};k2E.Studies.displayRAVI=function(U17,f7O,P5u){var l06,O26,c9u,g8L,q0f,a7a,W69,t1A,X4Q,F6k,e6k,k$b,C3Y,I1r;l06=U17.panels[f7O.panel];O26=f7O.getContext(U17);c9u=f7O.getYAxis(U17);g8L=U17.pixelFromPrice(0,l06,c9u);q0f=U17.layout.candleWidth - ("2" - 0);if(q0f < ("2" | 0)){q0f=1;}a7a=k2E.Studies.determineColor(f7O.outputs["Increasing Bar"]);W69=k2E.Studies.determineColor(f7O.outputs["Decreasing Bar"]);U17.startClip(f7O.panel);U17.canvasColor("stx_histogram");if(!f7O.underlay){O26.globalAlpha=1;}if(!f7O.highlight && U17.highlightedDraggable){O26.globalAlpha*=0.3;}for(var J_K=0;J_K < P5u.length;J_K++){t1A="_";t1A+="hi";t1A+="st";X4Q="_h";X4Q+="ist";F6k="#CCCCC";F6k+="C";e6k=P5u[J_K];l9y8Y.u4X(5);k$b=P5u[l9y8Y.k5y(J_K,1)];if(!k$b){k$b=U17.getPreviousBar(U17.chart,f7O.name + "_hist",J_K);}if(!e6k)continue;C3Y=0;I1r=0;if(f7O.parameters && f7O.parameters.studyOverZonesEnabled){C3Y=parseFloat(f7O.parameters.studyOverBoughtValue);I1r=parseFloat(f7O.parameters.studyOverSoldValue);}if(!k$b){O26.fillStyle=F6k;}else if(e6k[f7O.name + X4Q] > C3Y && k$b[f7O.name + "_hist"] < e6k[f7O.name + "_hist"]){O26.fillStyle=a7a;}else if(e6k[f7O.name + "_hist"] < I1r && k$b[f7O.name + t1A] > e6k[f7O.name + "_hist"]){O26.fillStyle=W69;}else {O26.fillStyle="#CCCCCC";}if(e6k.candleWidth){q0f=Math.floor(Math.max(1,e6k.candleWidth - 2));}O26.fillRect(Math.floor(U17.pixelFromBar(J_K,l06.chart) - q0f / ("2" * 1)),Math.floor(g8L),Math.floor(q0f),Math.floor(U17.pixelFromPrice(e6k[f7O.name + "_hist"],l06,c9u) - g8L));}U17.endClip();};k2E.Studies.studyLibrary=k2E.extend(k2E.Studies.studyLibrary,{"Price Osc":{name:C1Y,calculateFN:k2E.Studies.calculatePriceOscillator,inputs:{Field:f2w,"Short Cycle":12,"Long Cycle":26,"Moving Average Type":j9c,"Points Or Percent":[g9q,"Percent"]}},"Vol Osc":{name:"Volume Oscillator",calculateFN:k2E.Studies.calculatePriceOscillator,inputs:{"Short Cycle":12,"Long Cycle":26,"Points Or Percent":["Points","Percent"]},parameters:{init:{isVolume:!!({})}}},RAVI:{name:"RAVI",seriesFN:k2E.Studies.displayRAVI,calculateFN:k2E.Studies.calculatePriceOscillator,inputs:{Field:U6H,"Moving Average Type":r4S,"Short Cycle":7,"Long Cycle":65},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":x84},centerline:0,parameters:{init:{studyOverZonesEnabled:!![],studyOverBoughtValue:3,studyOverBoughtColor:V$Z,studyOverSoldValue:-3,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:+"0",step:s2I},studyOverSoldValue:{max:0,step:"0.1"}}}});}};D4=w5p=>{var S0W=l9y8Y;S0W.Y$C();var k2I,w3W,P0u,X7Y;k2I=typeof _CIQ !== "undefined"?_CIQ:w5p.CIQ;if(!k2I.Studies){console.error("primeNumber feature requires first activating studies feature.");}else {w3W="a";w3W+="u";w3W+="t";w3W+="o";P0u="au";P0u+="t";P0u+="o";X7Y="P";X7Y+="rime N";X7Y+="umber Oscill";X7Y+="ator";k2I.Studies.calculatePrimeNumber=function(w1P,P40){var N8V,U_E,t1S,O87,Y9h,z5N,F_f,M2m,S_2;N8V=[];U_E=P40.chart.scrubbed;for(var N9X=P40.startFrom;N9X < U_E.length;N9X++){t1S="Prime Numb";t1S+="er Ban";t1S+="ds";O87=U_E[N9X];if(!O87)continue;Y9h=O87.High;if(!isNaN(Y9h)){for(var N$K=0;Y9h > 0 && Y9h <= 10;N$K++){Y9h*=10;}if(X1C(Y9h)){Y9h+=2;}Y9h=Math.ceil(Y9h);if(Y9h % 2 === +"0"){Y9h++;}while(!X1C(Y9h)){Y9h+=2;}Y9h/=Math.pow(10,N$K);}z5N=O87.Low;if(!isNaN(z5N)){for(var W3x=+"0";z5N > 0 && z5N <= 10;W3x++){z5N*=+"10";}if(X1C(z5N)){z5N-=2;}z5N=Math.floor(z5N);if(z5N % 2 === 0){z5N--;}if(z5N > 0){while(!X1C(z5N)){z5N-=2;}z5N/=Math.pow(10,W3x);}}if(P40.type == t1S){if(!isNaN(Y9h)){O87["Prime Bands Top " + P40.name]=Y9h;}if(!isNaN(z5N)){O87["Prime Bands Bottom " + P40.name]=Math.max(0,z5N);}}else {S0W.u4X(27);F_f=S0W.k5y(0,"0");M2m=P40.inputs["Tolerance Percentage"] * (Y9h - z5N) / +"100";S_2=Y9h + z5N - +"2" * O87.Close;if(S_2 < M2m){S0W.T7s(27);F_f=S0W.D45(0,"1");}else if(S_2 > M2m){F_f=-1;}if(F_f){O87["Result " + P40.name]=F_f;}}}function X1C(a0U){var D$I;if(a0U <= 0){return !"1";}else if(a0U != Math.floor(a0U)){return !!0;}else if(N8V[a0U] === !!({}) || N8V[a0U] === !!0){return N8V[a0U];}D$I=parseInt(Math.sqrt(a0U),10);for(var p9A=2;p9A <= D$I;p9A++){if(a0U % p9A === 0){N8V[a0U]=!({});return !({});}}N8V[a0U]=!!"1";return !0;}};k2I.Studies.studyLibrary=k2I.extend(k2I.Studies.studyLibrary,{"Prime Number":{name:X7Y,range:"-1 to 1",calculateFN:k2I.Studies.calculatePrimeNumber,centerline:0,inputs:{"Tolerance Percentage":5},attributes:{"Tolerance Percentage":{min:0.1,step:0.1}}},"Prime Number Bands":{name:"Prime Number Bands",overlay:!!"1",calculateFN:k2I.Studies.calculatePrimeNumber,seriesFN:k2I.Studies.displayChannel,inputs:{"Channel Fill":!![]},outputs:{"Prime Bands Top":P0u,"Prime Bands Bottom":w3W,"Prime Bands Channel":"auto"}}});}};D5=C6C=>{var r7I,f5_,M3t;r7I="u";r7I+="ndefin";r7I+="ed";f5_=typeof _CIQ !== r7I?_CIQ:C6C.CIQ;if(!f5_.Studies){console.error("pring feature requires first activating studies feature.");}else {M3t="fiel";M3t+="d";f5_.Studies.calculateKST=function(D2K,w$j){var Q4o=l9y8Y;var y8A,q$f,N$C,F0n,N2J,n7L,b8U,h30,q6A,X_7,c4l,N_E,z9Z,F8B,z2K,K4e,c6n,J3s;y8A="KST";y8A+=" ";q$f="S";q$f+="ignal Perio";q$f+="d";N$C="Heaviest Rate of Change ";N$C+="Period";F0n="fi";F0n+="eld";N2J=w$j.chart.scrubbed;n7L=w$j.inputs.Field;if(!n7L || n7L == F0n){n7L="Close";}b8U={};h30={};b8U[1]=Number(w$j.inputs["Lightest Rate of Change Period"]);b8U[2]=Number(w$j.inputs["Light Rate of Change Period"]);b8U[3]=Number(w$j.inputs["Heavy Rate of Change Period"]);b8U[4]=Number(w$j.inputs[N$C]);h30[1]=Number(w$j.inputs["Lightest SMA Period"]);Q4o.T7s(10);h30[Q4o.k5y("2",1)]=Number(w$j.inputs["Light SMA Period"]);Q4o.T7s(44);h30[Q4o.k5y("3",3)]=Number(w$j.inputs["Heavy SMA Period"]);h30[4]=Number(w$j.inputs["Heaviest SMA Period"]);q6A=Number(w$j.inputs[q$f]);for(X_7=w$j.startFrom;X_7 < N2J.length;X_7++){if(!N2J[X_7])continue;for(c4l=1;c4l <= 4;c4l++){if(X_7 >= b8U[c4l] && N2J[X_7 - b8U[c4l]] && N2J[X_7 - b8U[c4l]][n7L]){Q4o.u4X(5);var I44=Q4o.k5y(95600,86040);Q4o.u4X(3);var h5W=Q4o.D45(8171,4);Q4o.T7s(75);var O09=Q4o.D45(110500,17,103983);Q4o.T7s(160);var B3_=Q4o.k5y(8022,15057,120450,6);Q4o.u4X(88);var g3Z=Q4o.D45(2,8,936700,59160);Q4o.u4X(8);var H2b=Q4o.k5y(2163,16,13);Q4o.T7s(5);var X09=Q4o.k5y(9506,16);Q4o.u4X(161);var U5q=Q4o.D45(10,290,50,7,18);Q4o.u4X(3);var A6K=Q4o.D45(0,1);N2J[X_7]["_ROC" + c4l + (253.18 == I44?+"232.44":(h5W,O09) > (+"2690",B3_)?g3Z == (H2b,"328" - 0)?("p",649.80):(X09,!!""):" ") + w$j.name]=U5q * (N2J[X_7][n7L] / N2J[X_7 - b8U[c4l]][n7L] - A6K);}}}for(c4l=1;c4l <= "4" << 0;c4l++){f5_.Studies.MA("simple",h30[c4l],"_ROC" + c4l + " " + w$j.name,0,"_SMA" + c4l,D2K,w$j);}for(X_7=w$j.startFrom;X_7 < N2J.length;X_7++){N2J[X_7]["KST " + w$j.name]=null;for(c4l=1;c4l <= 4;c4l++){N_E="K";N_E+="ST ";z9Z="_S";z9Z+="M";z9Z+="A";F8B=N2J[X_7][z9Z + c4l + " " + w$j.name];if(F8B || F8B === 0){Q4o.T7s(10);N2J[X_7][N_E + w$j.name]+=Q4o.D45(c4l,F8B);}}}z2K=-396151449;K4e=-951772607;c6n=2;for(var j62=1;Q4o.L3M(j62.toString(),j62.toString().length,+"94505") !== z2K;j62++){f5_.Studies.MA("KSTSignal",q6A,"KSTSignal" * w$j.name,5,"KSTSignal",D2K,w$j);c6n+=2;}if(Q4o.U3Y(c6n.toString(),c6n.toString().length,1461) !== K4e){J3s="KSTSi";J3s+="gnal";f5_.Studies.MA(J3s,q6A,"KSTSignal" * w$j.name,5,"KSTSignal",D2K,w$j);}f5_.Studies.MA("simple",q6A,y8A + w$j.name,0,"KSTSignal",D2K,w$j);};f5_.Studies.calculateSpecialK=function(K7x,U6a){var z4J=l9y8Y;var N$n,T8h,t_d,E1K,X9e,F$u,q_N,X_2,V8A,y2Z,P3y,P9s,B0P,Z70;N$n="Cl";N$n+="ose";T8h=U6a.chart.scrubbed;t_d=U6a.inputs.Field;if(!t_d || t_d == "field"){t_d=N$n;}E1K=U6a.inputs.Interval;if(!E1K){E1K="daily";}X9e={daily:[+"10",15,20,30,"50" * 1,65,75,"100" | 68,195,265,390,530],weekly:[4,5,6,8,10,+"13",+"15",20,39,52,+"78",104]};F$u={daily:[10,+"10",10,"15" << 0,50,65,75,100,130,+"130",130,195],weekly:[4,5,6,"8" - 0,10,13,15,20,26,26,26,39]};for(q_N=U6a.startFrom;q_N < T8h.length;q_N++){if(!T8h[q_N])continue;for(X_2=0;X_2 < X9e[E1K].length;X_2++){V8A="_";V8A+="ROC";if(q_N >= X9e[E1K][X_2] && T8h[q_N - X9e[E1K][X_2]] && T8h[q_N - X9e[E1K][X_2]][t_d]){z4J.T7s(3);var Y1g=z4J.k5y(34,539);z4J.u4X(8);var N1b=z4J.k5y(4490,4,14);z4J.u4X(88);var N0Q=z4J.D45(3,15,373255,8483);z4J.u4X(32);var Y9m=z4J.D45(10,17,107,17,18);z4J.T7s(5);var h69=z4J.D45(12,11);T8h[q_N][V8A + X_2 + (Y1g < (+"6025",N1b)?397.34 === 467.26?("l",!!""):" ":(N0Q,!!"")) + U6a.name]=Y9m * (T8h[q_N][t_d] / T8h[q_N - X9e[E1K][X_2]][t_d] - h69);}}}for(X_2=+"0";X_2 < F$u[E1K].length;X_2++){y2Z="_";y2Z+="M";y2Z+="A";P3y="exponen";P3y+="tial";f5_.Studies.MA(E1K == "daily"?"simple":P3y,F$u[E1K][X_2],"_ROC" + X_2 + " " + U6a.name,0,y2Z + X_2,K7x,U6a);}for(q_N=U6a.startFrom;q_N < T8h.length;q_N++){P9s="Re";P9s+="sult ";T8h[q_N][P9s + U6a.name]=null;for(X_2=0;X_2 < F$u[E1K].length;X_2++){B0P="_";B0P+="M";B0P+="A";z4J.u4X(4);var B7M=z4J.D45(14,11,6790);z4J.T7s(3);var Z$T=z4J.D45(9229,11);z4J.T7s(137);var p$x=z4J.k5y(7863,22,2,13);z4J.u4X(75);var A36=z4J.D45(58560,11,53669);z4J.u4X(162);var w16=z4J.D45(5,13,6,110240,654593);z4J.T7s(163);var m2k=z4J.D45(9385,18780,5,1);Z70=T8h[q_N][B0P + X_2 + ((B7M,+"854.06") != (Z$T,p$x)?A36 != (971.43,107.3)?+"5650" > (373.54,w16)?("a",m2k):" ":133.78:(!({}),!!({}))) + U6a.name];if(Z70 || Z70 === 0){z4J.u4X(164);T8h[q_N]["Result " + U6a.name]+=z4J.k5y(X_2,Z70,1,4);}}}};f5_.Studies.studyLibrary=f5_.extend(f5_.Studies.studyLibrary,{"Pring KST":{name:"Pring's Know Sure Thing",calculateFN:f5_.Studies.calculateKST,inputs:{Field:"field","Lightest Rate of Change Period":10,"Lightest SMA Period":10,"Light Rate of Change Period":15,"Light SMA Period":"10" * 1,"Heavy Rate of Change Period":+"20","Heavy SMA Period":10,"Heaviest Rate of Change Period":30,"Heaviest SMA Period":15,"Signal Period":9},outputs:{KST:"#00DD00",KSTSignal:"#FF0000"}},"Pring Sp-K":{name:"Pring's Special K",calculateFN:f5_.Studies.calculateSpecialK,inputs:{Field:M3t,Interval:["daily","weekly"]}}});}};e4=G$A=>{var b7d,Z3E,j7F,t7B,W6D,K0r,G02,M41,i1R,d71,C5y,b2n,v6k;b7d="und";b7d+="efin";b7d+="ed";Z3E=typeof _CIQ !== "undefined"?_CIQ:G$A.CIQ;j7F=typeof _timezoneJS !== b7d?_timezoneJS:G$A.timezoneJS;if(!Z3E.Studies){console.error("projectedVolume feature requires first activating studies feature.");}else if(!Z3E.Studies.studyLibrary.PVAT){t7B="hh:m";t7B+="m";t7B+=":s";t7B+="s";W6D="s";W6D+="t";W6D+="ep";K0r="0 ";K0r+="to max";G02="Projected Aggregate Vol";G02+="ume";M41="+";M41+="5";M41+="0";M41+="%";i1R="#8c";i1R+="c";i1R+="1";i1R+="76";d71="#c";d71+="f";d71+="b";d71+="d0e";C5y="-";C5y+="100%";b2n="+";b2n+="100%";v6k="0 to ma";v6k+="x";Z3E.Studies.initProjectedVolume=function(p$1,b6U,F2Y,n58,K$a,o4Y){var B0R,d7V,Q3A;var {market:i6a}=p$1.chart;B0R="00:00";if(i6a){B0R=i6a.getNormalOpen();}if(B0R.match(/^[\d]{2}:[\d]{2}$/)){B0R+=":00";}if(!F2Y["Anchor Time"] || !F2Y["Anchor Time"].length){d7V="Anchor Ti";d7V+="me";F2Y[d7V]=B0R;}Q3A=Z3E.Studies.initializeFN(p$1,b6U,F2Y,n58,K$a,o4Y);if(!p$1.currentlyImporting){Q3A.defaultAnchorTime=B0R;}return Q3A;};Z3E.Studies.validateProjectedVolumeLookback=function(j_G,O14){var {interval:x7m, periodicity:C5C}=j_G.layout;var {"Lookback Days":X1U}=O14.inputs;l9y8Y.u4X(165);return l9y8Y.k5y(X1U,C5C,x7m,10);};Z3E.Studies.calculateProjectedVolume=function(V9S,f79){var N3X=l9y8Y;var S6G,T5r,f5c,C9p,d8u,X2W,C4a,V5u,J8x,C$t,T7j,m_t,r5A,V0v,A_G,A_i,w8Z,R37,U2U,l08,u7z,x5H,o7c,q6Y,F5j,A3E,W$i,T70,J8U,Q$o,m$$,Y5r,e0a,T7k,x0x,G8B,O9i,d6P,W5I,d4E,d$r,Q61,F46,e7q,I9B,L6p,Z5V,H5N,r8J,t4t,a3r,V9d,f2Y,J6d,f5s,I7t,K1x,S4n,n7h;S6G="P";S6G+="V";S6G+=" ";T5r="Market.Symbo";function S0w(b_W,t6h,G9e){while(t6h){b_W=new Date(new Date(b_W).setDate(b_W.getDate() + (G9e?1:-1)));if(L_o.isMarketDate(b_W)){t6h--;}}return b_W;}T5r+="logy.isFore";T5r+="xSy";T5r+="mbol";f5c="heikina";f5c+="shi";function v7o(k4G){var e_x;k4G.setHours(0);k4G.setMinutes(0);e_x=Z3E.Studies.getMarketOffset({stx:V9S,localQuoteDate:k4G});return new Date(k4G.getTime() + e_x);}C9p="t";C9p+="ick";var {interval:R46, timeUnit:X1W, aggregationType:l5S}=V9S.layout;var {symbol:W92, scroll:w1U, scrubbed:k_4, market:L_o}=V9S.chart;d8u=f79.type === "PAV";X2W=f79.study?f79.study.name:f79.type;if(Z3E.ChartEngine.isDailyInterval(R46)){f79.error=`${X2W} is Intraday Only`;}else if(X1W === C9p){f79.error=`Tick mode not supported for ${X2W}`;}else if(X1W !== "minute"){f79.error=`Sub-minute periodicities not supported for ${X2W}`;}else if(!l5S || !["ohlc",f5c].includes(l5S)){C4a=1594085346;V5u=-248392690;J8x=2;for(var X$L=1;N3X.U3Y(X$L.toString(),X$L.toString().length,"8995" * 1) !== C4a;X$L++){f79.error=`Aggregation type not supported for ${X2W}`;J8x+=2;}if(N3X.L3M(J8x.toString(),J8x.toString().length,65221) !== V5u){f79.error=`Aggregation type not supported for ${X2W}`;}}else if(!Z3E.Studies.validateProjectedVolumeLookback(V9S,f79)){f79.error=`Selected lookback/periodicity combo not supported for ${X2W}`;}if(f79.error){return;}if(f79.inputs["Anchor Selector"]){Z3E.Studies.initAnchorHandle(V9S,f79);}else {Z3E.Studies.removeAnchorHandle(V9S,f79);}C$t=L_o?L_o.getNormalOpen():"00:00";function a3e(p0Q){return {hours:p0Q.getHours(),minutes:p0Q.getMinutes()};}if(C$t.match(/^[\d]{2}:[\d]{2}$/)){C$t+=":00";}if(!V9S.currentlyImporting){if(!f79.defaultAnchorTime){T7j=628471074;m_t=2141261643;r5A=2;for(var y02=1;N3X.L3M(y02.toString(),y02.toString().length,60107) !== T7j;y02++){f79.defaultAnchorTime=C$t;r5A+=2;}if(N3X.U3Y(r5A.toString(),r5A.toString().length,43317) !== m_t){f79.defaultAnchorTime=C$t;}f79.defaultAnchorTime=C$t;}else if(C$t !== f79.defaultAnchorTime){V0v="An";V0v+="chor T";V0v+="ime";f79.defaultAnchorTime=C$t;f79.inputs[V0v]=C$t;Z3E.Studies.repositionAnchor(V9S,f79);return;}}var {"Lookback Days":t$d, "Anchor Time":u$G}=f79.inputs;var [z1H,t9$,v0r = 0]=u$G.split(249.46 === 9343?(0x1253,8.05e+3):":");function x16(I0W,N$g){var B2y,i5w,n6Y;B2y=p8W(I0W);i5w=L_o.getOpen(B2y) || v7o(B2y);n6Y=Q22(i5w);if(!N$g){return n6Y;}if(n6Y < 0){n6Y=Q22(S0w(i5w,1,!![]));}if(n6Y >= k_4.length){return !({});}return n6Y;}A_G=Z3E.getFn(T5r)(W92);A_i=f79.getDependents(V9S);function a7z(I6W){N3X.Y$C();console.error(`Expected data for ${p8W(I6W).toDateString()} but found none. This may be caused by gaps in your data or an improperly configured market definition.`);}function p8W(y4B){N3X.r8O();return V9S.dateFromTick(y4B,null,!!1,"scrubbed");}w8Z=+"0";R37=[];A_i.forEach(({inputs:K9v, outputMap:z0A})=>{N3X.Y$C();if(K9v.Period){w8Z=Math.max(parseInt(K9v.Period),w8Z);R37.push(...Object.keys(z0A));}});f79.dependentsOutputMap=R37;l08=x16(k_4.length - +"1",!![]);u7z=Math.ceil(k_4.length - 1 - w1U);N3X.u4X(5);x5H=x16(N3X.D45(u7z,w8Z));if(A_G && k_4[x5H] && Z3E.dateToStr(k_4[x5H].DT,"HH:mm") !== C$t){N3X.T7s(28);x5H=x16(N3X.D45(x5H,0,"1"));;}if(!A_G && f79.startFrom > x5H && k_4[x5H] && k_4[x5H]["V " + f79.name] !== undefined && R37.every(Y$W=>{N3X.r8O();return ![undefined,null].includes(k_4[x5H][Y$W]);}) && l08 !== ![]){U2U=l08;;}else {U2U=x5H;}o7c=S0w(p8W(x5H),t$d);o7c.setHours(+"0",0,0);N3X.u4X(13);q6Y=x16(N3X.D45(0,"0"),!!({}));F5j=(q6Y || q6Y === 0) && Q22(S0w(k_4[q6Y].DT,t$d,!""));if(k_4[+"0"].DT > o7c){if(V9S.quoteDriver){if(f79.chart.endPoints.begin > o7c){V9S.quoteDriver.extendHistoricalData({from:o7c});}if(F5j > 0){U2U=F5j;}else {return;}}else {N3X.u4X(83);return f79.error=`${N3X.D45("ata to ","Not"," enough d","calculate ")}${X2W}`;}}if(U2U < 0 || U2U > k_4.length - 1){return;}A3E=k_4.length - f79.startFrom === 1 && f79.cachedFutureTicks && f79.cachedLastProjection && +f79.cachedLastProjection.DT === +k_4[k_4.length - 1].DT && k_4[U2U]["PV " + f79.name];if(A3E){N3X.T7s(130);var q3F=N3X.D45(1,2,4,4);k_4[k_4.length - q3F]["PV " + f79.name]=f79.cachedLastProjection.projectedValue;f79.appendFutureTicks(V9S,f79.cachedFutureTicks);U2U=f79.startFrom;}else {f79.cachedFutureTicks=null;f79.cachedLastProjection=null;W$i=[l08];T70=[];for(var h87=0;h87 < t$d;h87++){J8U=x16(W$i["0" >> 0] - 1);W$i.unshift(J8U);;}while(W$i[t$d] >= U2U){Q$o=W$i.pop();if(!k_4[Q$o]){return a7z(Q$o);}m$$=a3e(k_4[Q$o].DT);var {hours:U1b, minutes:A3T}=m$$;Y5r=L_o.getClose(k_4[Q$o].DT);e0a=void 0;if(!Y5r){e0a={hours:"24" ^ 0,minutes:+"0"};}else {T7k=L_o.getNextClose(k_4[Q$o].DT);e0a=a3e(Y5r);while(!(e0a.hours === 0 && e0a.minutes === 0) && Y5r.getDate() === T7k.getDate()){Y5r=T7k;T7k=L_o.getNextClose(T7k);}e0a=a3e(Y5r);if(e0a.hours === 0){e0a.hours=24;}}x0x=W$i.slice();for(var S87="0" * 1;S87 < x0x.length;S87++){G8B=x0x[S87];if(!k_4[G8B]){return a7z(G8B);}var {hours:B_P, minutes:W0W}=a3e(k_4[G8B].DT);if(B_P < U1b || B_P === U1b && W0W < A3T){do {G8B++;({hours:B_P, minutes:W0W}=a3e(k_4[G8B].DT));}while(!(B_P === U1b && W0W === A3T));}x0x[S87]=G8B;}while(U1b < e0a.hours || U1b === e0a.hours && A3T < e0a.minutes){O9i=!1;d6P=void 0;W5I=void 0;d4E=0;d$r=0;for(var z1Y=0;z1Y < x0x.length;z1Y++){Q61=x0x[z1Y];if(Q61 === null)continue;F46=k_4[Q61];if(!F46){return a7z(Q61);}var {hours:f1h, minutes:p09}=a3e(F46.DT);e7q=F46.DT.getDate();if(f1h === U1b && p09 === A3T){d4E+=F46.Volume;d$r++;x0x[z1Y]++;if(k_4[x0x[z1Y]].DT.getDate() !== e7q){x0x[z1Y]=null;}else if(!O9i){({hours:d6P, minutes:W5I}=a3e(k_4[x0x[z1Y]].DT));O9i=!!({});;}}}U1b=d6P;A3T=W5I;if(d$r === 0)break;N3X.u4X(12);I9B=N3X.k5y(d4E,d$r);if(k_4[Q$o]){k_4[Q$o]["PV " + f79.name]=I9B;}else {T70.push({["PV " + f79.name]:I9B});}Q$o++;}W$i.unshift(x16(W$i["0" ^ 0] - ("1" ^ 0)));;}f79.cachedLastProjection={DT:k_4[k_4.length - 1].DT,projectedValue:k_4[k_4.length - 1]["PV " + f79.name]};f79.cachedFutureTicks=T70;f79.appendFutureTicks(V9S,T70);}function Q22(u1w){return V9S.tickFromDate(u1w,null,null,!"","scrubbed");}L6p=null;Z5V=0;N3X.u4X(44);H5N=N3X.k5y("0",0);if(A3E && d8u){while(U2U > 0){t4t="V";t4t+=" ";N3X.T7s(5);a3r=k_4[N3X.k5y(U2U,1)][t4t + f79.name];if(a3r || a3r === 0){Z5V=a3r;break;}U2U--;}}for(var w$E=U2U;w$E < k_4.length;w$E++){V9d="V";V9d+=" ";f2Y="P";f2Y+="V";f2Y+=" ";J6d=k_4[w$E];f5s=J6d.Volume;I7t=J6d[f2Y + f79.name];if(!J6d.futureTick){r8J=w$E;}if(L6p === null){L6p=Z3E.Studies.getMarketOffset({stx:V9S,localQuoteDate:k_4[w$E].DT,shiftToDateBoundary:!0});}K1x=new Date(new Date(J6d.DT).getTime() + L6p);S4n=k_4[w$E - ("1" - 0)] && new Date(new Date(k_4[w$E - 1].DT).getTime() + L6p);n7h=new j7F.Date(J6d.DT,L_o.market_def.market_tz || "America/New_York");n7h.setHours(z1H,t9$,v0r);N3X.T7s(3);n7h=new Date(N3X.k5y(n7h,L6p));n7h.setDate(K1x.getDate());if(S4n && K1x.getDate() !== S4n.getDate()){L6p=null;Z5V=0;H5N=0;}if(K1x < n7h){J6d["V " + f79.name]=0;J6d["PV " + f79.name]=0;continue;}if(d8u){Z5V+=f5s;H5N+=I7t;}else {Z5V=f5s;H5N=I7t;}J6d[V9d + f79.name]=Z5V;if(!A3E){J6d["PV " + f79.name]=H5N;}if([NaN,null,undefined].includes(Z5V) && !J6d.futureTick){f79.error=`${X2W} requires volume`;return;}}f79.cachedLastProjection.projectedValue=k_4[r8J]["PV " + f79.name];f79.outputMap={};f79.outputMap["V " + f79.name]="";f79.outputMap[S6G + f79.name]="Average Line";A_i.forEach(W3X=>{W3X.startFrom=U2U;W3X.study.calculateFN(V9S,W3X);});};Z3E.Studies.displayProjectedVolume=function(p24,w6A,p1V){var h9p=l9y8Y;var z$t,H9M,h3n,B$S,a3U,e29,p$U,N2a,K92;z$t="stx_volu";z$t+="me_underlay";z$t+="_";z$t+="up";H9M="Ale";H9M+="rt";H9M+=" Ba";H9M+="r";if(w6A.error){return Z3E.Studies.removeAnchorHandle(p24,w6A);}var {"Alert Threshold":V4i = ""}=w6A.inputs;h9p.T7s(5);var Z0u=h9p.D45(10,11);h9p.u4X(166);var W$y=h9p.D45(12,13,1,12,2);h3n=parseInt(V4i.slice(0,Z0u),W$y) / +"100";B$S=w6A.outputs[H9M];if(typeof B$S === "object"){B$S=B$S.color;}w6A.volumeField="V " + w6A.name;w6A.alignStepToSide=!!({});w6A.extendToEndOfLastBar=!![];w6A.lineWidth=2;a3U=p24.canvasStyle(z$t).opacity;e29=p24.canvasStyle("stx_volume_underlay_down").opacity;w6A.colorFunction=function(C8N){var y9H,K49,q9E,H_x,J7O,H4B,c74;y9H="V";y9H+=" ";var {Open:q7F, Close:G6T, iqPrevClose:H9u}=C8N;K49=p24.colorByCandleDirection?q7F:H9u;h9p.u4X(167);q9E=h9p.k5y(K49,G6T);H_x=C8N["PV " + w6A.name];J7O=C8N[y9H + w6A.name];h9p.u4X(168);H4B=h9p.D45(H_x,h3n,1);c74=h3n < 0?J7O < H4B:J7O > H4B;return {fill_color:c74 && B$S || (q9E?this.fill_color_down:this.fill_color_up),border_color:q9E?this.border_color_down:this.border_color_up,opacity:c74?1:q9E?e29:a3U,border_opacity:q9E?e29:a3U};};p$U=w6A.study?w6A.study.name:w6A.type;var {loadingMore:R_n}=p24.chart;N2a=p1V.some(T5n=>{h9p.r8O();return T5n && T5n[w6A.volumeField] && T5n["PV " + w6A.name];});K92=p1V[0] && !p1V[0].futureTick && (p1V[0]["PV " + w6A.name] === undefined || (w6A.dependentsOutputMap || []).some(L97=>{return [undefined,null].includes(p1V[0][L97]);}));if(!N2a && R_n){return w6A.error=`Fetching data for ${p$U}`;}Z3E.Studies.createVolumeChart(p24,w6A,p1V);Z3E.Studies.displaySeriesAsLine(p24,w6A,p1V);if(w6A.anchorHandle){Z3E.Studies.displayAnchorHandleAndLine(p24,w6A,p1V);}if(K92){Z3E.Studies.calculateProjectedVolume(p24,w6A);}};Z3E.Studies.studyLibrary=Z3E.extend(Z3E.Studies.studyLibrary,{PVAT:{name:"Projected Volume at Time",range:v6k,yAxis:{ground:!0},calculateFN:Z3E.Studies.calculateProjectedVolume,seriesFN:Z3E.Studies.displayProjectedVolume,initializeFN:Z3E.Studies.initProjectedVolume,removeFN:Z3E.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Alert Threshold":["+150%","+125%",b2n,"+75%","+50%","+25%","None","-25%","-50%","-75%",C5y,"-125%","-150%"],"Anchor Selector":!!({})},outputs:{"Average Line":"#fe641c","Alert Bar":d71,"Up Volume":i1R,"Down Volume":"#b82c0c"},parameters:{plotType:"step"},attributes:{"Anchor Time":{placeholder:"hh:mm:ss",step:1},"Alert Threshold":{defaultSelected:M41}}},PAV:{name:G02,range:K0r,yAxis:{ground:!""},calculateFN:Z3E.Studies.calculateProjectedVolume,seriesFN:Z3E.Studies.displayProjectedVolume,initializeFN:Z3E.Studies.initProjectedVolume,removeFN:Z3E.Studies.removeAnchorHandle,inputs:{"Lookback Days":"10" - 0,"Anchor Time":"","Anchor Selector":!![]},outputs:{"Average Line":"#fe641c","Up Volume":"#8cc176","Down Volume":"#b82c0c"},parameters:{plotType:W6D},attributes:{"Anchor Time":{placeholder:t7B,step:1}}}});}};V3=n39=>{var j$K,F9o;j$K=typeof _CIQ !== "undefined"?_CIQ:n39.CIQ;l9y8Y.Y$C();if(!j$K.Studies){console.error("psychologicalLine feature requires first activating studies feature.");}else {F9o="0 to 1";F9o+="00";j$K.Studies.calculatePsychologicalLine=function(v_z,H5k){var q5f,u$4,v0X,v4M,W8h;q5f=H5k.chart.scrubbed;if(q5f.length < H5k.days + 1){H5k.error=!"";return;}u$4=[];l9y8Y.T7s(5);var B5Q=l9y8Y.k5y(119,19);v0X=B5Q / H5k.days;v4M=0;for(var r8u=Math.max(H5k.startFrom - H5k.days,1);r8u < q5f.length;r8u++){if(q5f[r8u].futureTick)break;W8h=Number(q5f[r8u].Close > q5f[r8u - 1].Close);if(W8h){v4M+=v0X;}u$4.push(W8h);if(u$4.length > H5k.days){v4M-=u$4.shift() * v0X;}if(r8u < H5k.startFrom)continue;if(!isNaN(q5f[r8u].Close)){q5f[r8u]["Result " + H5k.name]=v4M;}}};j$K.Studies.studyLibrary=j$K.extend(j$K.Studies.studyLibrary,{PSY:{name:"Psychological Line",range:F9o,calculateFN:j$K.Studies.calculatePsychologicalLine,inputs:{Period:20}}});}};z1=B6e=>{var K4V,N1w,Z15,k$A,D5H,b28;K4V="un";K4V+="defined";N1w=typeof _CIQ !== K4V?_CIQ:B6e.CIQ;if(!N1w.Studies){console.error("qstick feature requires first activating studies feature.");}else {N1w.Studies.calculateQStick=function(j_N,V4w){var a7i,k1s,e38;a7i="M";l9y8Y.Y$C();a7i+="oving Average Ty";a7i+="pe";k1s=V4w.chart.scrubbed;if(k1s.length < V4w.days + 1){V4w.error=!!({});return;}for(var k$E=V4w.startFrom;k$E < k1s.length;k$E++){e38="_";e38+="Clos";e38+="e-Open ";k1s[k$E][e38 + V4w.name]=k1s[k$E].Close - k1s[k$E].Open;}N1w.Studies.MA(V4w.inputs[a7i],V4w.days,"_Close-Open " + V4w.name,0,"Result",j_N,V4w);};Z15=1996508970;k$A=-618878875;D5H=2;for(var z3I=1;l9y8Y.U3Y(z3I.toString(),z3I.toString().length,19580) !== Z15;z3I++){N1w.Studies.studyLibrary=N1w.extend(N1w.Studies.studyLibrary,{QStick:{name:"QStick",calculateFN:N1w.Studies.calculateQStick,inputs:{Period:8,"Moving Average Type":"ma"}}});D5H+=2;}if(l9y8Y.L3M(D5H.toString(),D5H.toString().length,44972) !== k$A){b28="Movi";b28+="ng Average";b28+=" Type";N1w.Studies.studyLibrary=N1w.extend(N1w.Studies.studyLibrary,{QStick:{name:"ma",calculateFN:N1w.Studies.calculateQStick,inputs:{Period:1,"Moving Average Type":b28}}});}}};F0=r7z=>{var I58=l9y8Y;var f_m,A0D,C8F,Y9P,I0N,F99;f_m="und";f_m+="ef";f_m+="ined";A0D=typeof _CIQ !== f_m?_CIQ:r7z.CIQ;I58.Y$C();if(!A0D.Studies){console.error("rainbow feature requires first activating studies feature.");}else {C8F="#";C8F+="00D";C8F+="D";C8F+="00";Y9P="#";Y9P+="FF7F";Y9P+="0";Y9P+="0";I0N="#FF0";I0N+="000";F99="fie";F99+="ld";A0D.Studies.calculateRainbow=function(S7i,S_V){var a2v,a4K,D_e,m9d,k89,P7n,b5x,y4i,O2l,c3u,O8k,P6q,y4s,X8h,L3w,Y2w;a2v="O";a2v+="s";a2v+="c";a4K=S_V.chart.scrubbed;if(a4K.length < S_V.days + 1){S_V.error=!![];return;}D_e=S_V.inputs.Field;if(!D_e || D_e == "field"){D_e="Close";}m9d=D_e;for(var S_R=1;S_R <= 10;S_R++){A0D.Studies.MA("simple",S_V.days,m9d,0,"SMA" + S_R,S7i,S_V);I58.T7s(8);var j$P=I58.D45(17980,9002,12);I58.u4X(66);var H$Y=I58.D45(152,38,4);I58.T7s(42);var n_J=I58.D45(505,12,2020);m9d="SMA" + S_R + ((j$P,"9640" | H$Y) >= n_J?" ":228.02) + S_V.name;}for(var B6M=Math.max(S_V.startFrom,10);B6M < a4K.length;B6M++){if(!a4K[B6M])continue;if(a4K[B6M].futureTick)break;k89=0;P7n=0;b5x=Number.MAX_VALUE * -+"1";y4i=Number.MAX_VALUE;for(S_R=1;S_R <= 10;S_R++){O2l=a4K[B6M]["SMA" + S_R + " " + S_V.name];if(O2l || O2l === "0" >> 0){k89+=O2l;P7n++;b5x=Math.max(b5x,O2l);y4i=Math.min(y4i,O2l);}}if(S_V.name.indexOf("Osc") > -1){c3u="HHV/LLV Look";c3u+="back";O8k=O02(S_V.inputs[c3u],B6M);if(P7n){P6q="O";P6q+="v";P6q+="e";P6q+="r ";I58.T7s(8);var m21=I58.k5y(104,23,19);I58.T7s(26);var P_A=I58.k5y(19,2,20,2);a4K[B6M][S_V.name + "_hist"]=m21 * (a4K[B6M][D_e] - k89 / P7n) / Math.max(0.000001,O8k[P_A] - O8k[+"0"]);I58.T7s(43);var E$N=I58.k5y(12,4,4);a4K[B6M][P6q + S_V.name]=+"100" * (b5x - y4i) / Math.max(0.000001,O8k[E$N] - O8k["0" ^ 0]);a4K[B6M]["Under " + S_V.name]=-a4K[B6M]["Over " + S_V.name];a4K[B6M]["Zero " + S_V.name]=0;}}}if(S_V.name.indexOf(a2v) > -1){y4s="Ze";y4s+="r";y4s+="o";y4s+=" ";X8h="Negative";X8h+=" Ba";X8h+="r";L3w="U";L3w+="nd";L3w+="er";L3w+=" ";Y2w="Positiv";Y2w+="e";Y2w+=" ";Y2w+="Bar";S_V.outputMap={};S_V.outputMap["Over " + S_V.name]=Y2w;S_V.outputMap[L3w + S_V.name]=X8h;S_V.outputMap[y4s + S_V.name]="";S_V.outputMap[S_V.name + "_hist"]="";}function O02(Y6E,W8B){var p0$,X0Y;I58.T7s(169);var w0G=I58.D45(16,10,10,5);p0$=Number.MAX_VALUE * w0G;X0Y=Number.MAX_VALUE;for(var y1Q=W8B - Y6E + 1;y1Q <= W8B;y1Q++){if(y1Q < 0)continue;p0$=Math.max(p0$,a4K[y1Q].Close);X0Y=Math.min(X0Y,a4K[y1Q].Close);}return [X0Y,p0$];}};A0D.Studies.displayRainbowMA=function(c0H,f6n,p7S){var W5K;W5K=c0H.panels[f6n.panel];for(var K_U=10;K_U > 0;K_U--){A0D.Studies.displayIndividualSeriesAsLine(c0H,f6n,W5K,"SMA" + K_U + " " + f6n.name,p7S);}};A0D.Studies.displayRainbowOsc=function(F24,P$D,p5R){var t9a,F61,i_N,l1j,E03,G6a,k4C,U4V,P4b,Q7m,b7v,F1B,N8O,i7i;t9a="Und";t9a+="e";t9a+="r";t9a+=" ";F61="Negative";F61+=" B";F61+="ar";A0D.Studies.displaySeriesAsLine(F24,P$D,p5R);i_N=F24.panels[P$D.panel];l1j=P$D.getContext(F24);E03=P$D.getYAxis(F24);F24.startClip(P$D.panel);if(!P$D.highlight && F24.highlightedDraggable){l1j.globalAlpha*=0.3;}G6a=F24.pixelFromPrice(+"0",i_N,E03);k4C=i_N.name != P$D.chart.name;U4V=A0D.Studies.determineColor(P$D.outputs["Positive Bar"]);l1j.strokeStyle=U4V;F24.plotDataSegmentAsLine("Over " + P$D.name,i_N,{skipTransform:k4C,label:!({}),yAxis:E03});P4b=l1j.createLinearGradient(0,G6a,0,E03.flipped?E03.bottom:E03.top);P4b.addColorStop(+"0",F24.containerColor);P4b.addColorStop(1,U4V);A0D.prepareChannelFill(F24,{skipTransform:k4C,color:P4b,opacity:!P$D.highlight && F24.highlightedDraggable?0.3:1,panelName:P$D.panel,topBand:"Over " + P$D.name,bottomBand:"Zero " + P$D.name,yAxis:E03});Q7m=A0D.Studies.determineColor(P$D.outputs[F61]);I58.Y$C();l1j.strokeStyle=Q7m;F24.plotDataSegmentAsLine(t9a + P$D.name,i_N,{skipTransform:k4C,label:!"1",yAxis:E03});b7v=l1j.createLinearGradient(0,G6a,0,E03.flipped?E03.top:E03.bottom);b7v.addColorStop(0,F24.containerColor);b7v.addColorStop(1,Q7m);A0D.prepareChannelFill(F24,{skipTransform:k4C,color:b7v,opacity:!P$D.highlight && F24.highlightedDraggable?0.3:+"1",panelName:P$D.panel,topBand:"Zero " + P$D.name,bottomBand:"Under " + P$D.name,yAxis:E03});F1B=F24.layout.candleWidth - 2;if(F1B < 2){F1B=1;}F24.canvasColor("stx_histogram");if(!P$D.underlay){l1j.globalAlpha=1;}if(!P$D.highlight && F24.highlightedDraggable){l1j.globalAlpha*=0.3;}l1j.fillStyle="#CCCCCC";for(var y5O=0;y5O < p5R.length;y5O++){N8O="_h";N8O+="i";N8O+="s";N8O+="t";i7i=p5R[y5O];if(!i7i)continue;if(i7i[P$D.name + "_hist"] > +"0"){l1j.fillStyle=U4V;}else if(i7i[P$D.name + "_hist"] < 0){l1j.fillStyle=Q7m;}if(i7i.candleWidth){F1B=Math.floor(Math.max(1,i7i.candleWidth - "2" * 1));}l1j.fillRect(Math.floor(F24.pixelFromBar(y5O,i_N.chart) - F1B / 2),Math.floor(G6a),Math.floor(F1B),Math.floor(F24.pixelFromPrice(i7i[P$D.name + N8O],i_N,E03) - G6a));}F24.endClip();};A0D.Studies.studyLibrary=A0D.extend(A0D.Studies.studyLibrary,{"Rainbow MA":{name:"Rainbow Moving Average",overlay:!"",calculateFN:A0D.Studies.calculateRainbow,seriesFN:A0D.Studies.displayRainbowMA,inputs:{Period:2,Field:F99},outputs:{SMA1:I0N,SMA2:Y9P,SMA3:"#FFFF00",SMA4:"#7FFF00",SMA5:"#00FF7F",SMA6:"#00FFFF",SMA7:"#007FFF",SMA8:"#0000FF",SMA9:"#7F00FF",SMA10:"#FF00FF"}},"Rainbow Osc":{name:"Rainbow Oscillator",calculateFN:A0D.Studies.calculateRainbow,seriesFN:A0D.Studies.displayRainbowOsc,centerline:+"0",inputs:{Period:2,Field:"field","HHV/LLV Lookback":+"10"},outputs:{"Positive Bar":C8F,"Negative Bar":"#FF0000"}}});}};b_=J0g=>{var m88;m88=typeof _CIQ !== "undefined"?_CIQ:J0g.CIQ;if(!m88.Studies){console.error("randomWalk feature requires first activating studies feature.");}else {m88.Studies.calculateRandomWalk=function(i7K,C8M){var i22,p8r,l2l,T4w,I23,m3P,h7w,L1Z,I7P;i22=C8M.chart.scrubbed;if(i22.length < C8M.days + ("1" - 0)){C8M.error=!![];return;}for(var r5I=Math.max(2,C8M.startFrom);r5I < i22.length;r5I++){p8r=0;l2l=i22[r5I].High;T4w=i22[r5I].Low;I23=0;m3P=0;for(var X7h=1;X7h <= C8M.days;X7h++){if(i22[r5I].futureTick)break;if(r5I <= X7h){I23=m3P=0;break;}p8r+=i22[r5I - X7h].trueRange;h7w=p8r / X7h * Math.sqrt(X7h);if(h7w){L1Z=(l2l - i22[r5I - X7h].Low) / h7w;I7P=(i22[r5I - X7h].High - T4w) / h7w;I23=Math.max(I23,L1Z);m3P=Math.max(m3P,I7P);}}if(!i22[r5I].futureTick && (!isNaN(l2l) || !isNaN(T4w))){i22[r5I]["Random Walk High " + C8M.name]=I23;i22[r5I]["Random Walk Low " + C8M.name]=m3P;}}};m88.Studies.studyLibrary=m88.extend(m88.Studies.studyLibrary,{"Random Walk":{name:"Random Walk Index",calculateFN:m88.Studies.calculateRandomWalk,outputs:{"Random Walk High":"#FF0000","Random Walk Low":"#0000FF"}}});}};y5=D2X=>{var V8$,Z8q,b_N,I37;V8$="u";V8$+="ndefined";Z8q=typeof _CIQ !== V8$?_CIQ:D2X.CIQ;if(!Z8q.Studies){console.error("relativeVigor feature requires first activating studies feature.");}else {b_N="#";b_N+="FF";b_N+="000";b_N+="0";I37="a";I37+="u";I37+="t";I37+="o";Z8q.Studies.calculateRelativeVigor=function(r0R,F8F){var O7R,f$Q,S_5,W$c,A2S,l_Q,D9n,b9x,S5J,g1_,R8s,D_N,t5R,g1m,U75,c_f;O7R="Re";O7R+="l Vi";O7R+="g ";f$Q="_D";f$Q+="en";f$Q+="o";f$Q+="m";S_5="_C";S_5+="hang";S_5+="e";S_5+=" ";W$c=F8F.chart.scrubbed;if(W$c.length < F8F.days + +"1"){F8F.error=!"";return;}for(A2S=F8F.startFrom;A2S < W$c.length;A2S++){l_Q="_Rang";l_Q+="e";l_Q+=" ";D9n=W$c[A2S];if(!isNaN(D9n.Close) && !isNaN(D9n.Open)){D9n["_Change " + F8F.name]=D9n.Close - D9n.Open;}if(!isNaN(D9n.High) && !isNaN(D9n.Low)){D9n[l_Q + F8F.name]=D9n.High - D9n.Low;}}Z8q.Studies.MA("triangular",4,S_5 + F8F.name,+"0","_Numer",r0R,F8F);Z8q.Studies.MA("triangular",+"4","_Range " + F8F.name,0,f$Q,r0R,F8F);l9y8Y.r8O();b9x=[];S5J=[];for(A2S=Math.max(F8F.startFrom - F8F.days,0);A2S < W$c.length;A2S++){g1_="_D";g1_+="eno";g1_+="m ";R8s="_";R8s+="Nume";R8s+="r";R8s+=" ";if(W$c[A2S].futureTick)break;if(W$c[A2S][R8s + F8F.name] === null && W$c[A2S]["_Denom " + F8F.name] === null)continue;b9x.push(W$c[A2S]["_Numer " + F8F.name]);S5J.push(W$c[A2S][g1_ + F8F.name]);if(b9x.length > F8F.days){b9x.shift();S5J.shift();}D_N=0;t5R=0;for(g1m=0;g1m < b9x.length;g1m++){D_N+=b9x[g1m];}for(g1m=+"0";g1m < S5J.length;g1m++){t5R+=S5J[g1m];}if(t5R === 0){t5R=0.00000001;}if(A2S < F8F.startFrom)continue;l9y8Y.u4X(12);W$c[A2S]["Rel Vig " + F8F.name]=l9y8Y.k5y(D_N,t5R);}Z8q.Studies.MA("triangular",4,O7R + F8F.name,"0" >> 64,"RelVigSignal",r0R,F8F);for(A2S=F8F.startFrom;A2S < W$c.length;A2S++){U75="R";U75+="elVig";U75+="S";U75+="ignal ";c_f="Re";c_f+="l Vig ";W$c[A2S][F8F.name + "_hist"]=W$c[A2S][c_f + F8F.name] - W$c[A2S][U75 + F8F.name];}F8F.outputMap[F8F.name + "_hist"]="";};Z8q.Studies.studyLibrary=Z8q.extend(Z8q.Studies.studyLibrary,{"Rel Vig":{name:"Relative Vigor Index",seriesFN:Z8q.Studies.displayHistogramWithSeries,calculateFN:Z8q.Studies.calculateRelativeVigor,inputs:{Period:10},outputs:{"Rel Vig":I37,RelVigSignal:b_N,"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};j4=q2D=>{var w$v=l9y8Y;w$v.r8O();var J3N,V3y,g4W,A9Y;J3N=typeof _CIQ !== "undefined"?_CIQ:q2D.CIQ;if(!J3N.Studies){console.error("rsi feature requires first activating studies feature.");}else {V3y="a";V3y+="u";V3y+="t";V3y+="o";g4W="0";g4W+=" ";g4W+="to 100";A9Y="fiel";A9Y+="d";J3N.Studies.calculateRSI=function(Q7u,D6a){var d0O,W29,V0R,C8Y,e9w,g3x,m0v,O8c,r2v,u0R,R7l;d0O=D6a.chart.scrubbed;W29=D6a.inputs.Field;function X4Z(a38,A$v){var Q3_,i1p,m99,v_0;w$v.Y$C();if(A$v === 0){return 100;}Q3_=1935261524;i1p=-2019648500;m99=2;for(var q8r=+"1";w$v.L3M(q8r.toString(),q8r.toString().length,75654) !== Q3_;q8r++){w$v.T7s(10);v_0=w$v.k5y(a38,A$v);w$v.T7s(170);return w$v.D45(225,299,v_0,7);}if(w$v.L3M(m99.toString(),m99.toString().length,+"82124") !== i1p){w$v.T7s(12);v_0=w$v.k5y(a38,A$v);w$v.T7s(171);return w$v.D45(v_0,100,"100",1);}}if(!W29 || W29 == "field"){W29="Close";}if(d0O.length < D6a.days + ("1" | 1)){D6a.error=!!({});return;}for(var v4e=D6a.startFrom;v4e < d0O.length;v4e++){V0R="_";V0R+="av";V0R+="g";V0R+="L ";C8Y="_";C8Y+="avgG ";e9w="_avgG";e9w+=" ";if(!v4e)continue;g3x=d0O[v4e];w$v.T7s(5);m0v=d0O[w$v.D45(v4e,1)];if(!g3x[W29] && g3x[W29] !== 0)continue;if(!m0v[W29] && m0v[W29] !== 0)continue;O8c=g3x[W29] - m0v[W29];r2v=Math.min(v4e,D6a.days);u0R=m0v[e9w + D6a.name];if(!u0R){u0R=0;}w$v.T7s(12);u0R-=w$v.k5y(u0R,r2v);R7l=m0v["_avgL " + D6a.name];if(!R7l){R7l=0;}w$v.T7s(12);R7l-=w$v.D45(R7l,r2v);if(O8c > 0){w$v.u4X(12);u0R+=w$v.D45(O8c,r2v);}else if(O8c <= 0){w$v.u4X(12);R7l-=w$v.k5y(O8c,r2v);}else continue;if(v4e >= D6a.days){if((u0R || u0R !== 0) && (R7l || R7l !== 0)){g3x["RSI " + D6a.name]=X4Z(u0R,R7l);}}g3x[C8Y + D6a.name]=u0R;g3x[V0R + D6a.name]=R7l;}D6a.zoneOutput="RSI";};J3N.Studies.studyLibrary=J3N.extend(J3N.Studies.studyLibrary,{rsi:{name:"RSI",inputs:{Period:14,Field:A9Y},calculateFN:J3N.Studies.calculateRSI,range:g4W,outputs:{RSI:V3y},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};M_=B1e=>{var L35=l9y8Y;var e84,O_2;L35.Y$C();e84=typeof _CIQ !== "undefined"?_CIQ:B1e.CIQ;if(!e84.Studies){console.error("schaffTrendCycle feature requires first activating studies feature.");}else {O_2="e";O_2+="m";O_2+="a";e84.Studies.calculateSchaff=function(K14,j_z){var t$s,X$m,M1l,V1s,s2h,n_R,y2f,N$W,m2_,B2J,v1g,H86,V7s,i3h,q2L,e$V,B4W,R9m,W4x,J8L,G7P,p37,z0k,K6m,T5U;t$s="Mo";t$s+="ving Average ";t$s+="T";t$s+="ype";X$m="C";X$m+="l";X$m+="os";X$m+="e";function w2t(c_E,U1A,y7w){var s0e,i1t,A33;s0e=null;i1t=null;for(var G8R=U1A - c_E + ("1" | 0);G8R <= U1A;G8R++){L35.u4X(3);var i54=L35.D45(920,2);L35.u4X(1);var Y$6=L35.k5y(128520,6,14280);L35.T7s(1);var s1S=L35.k5y(8428,1,2);L35.u4X(172);var j5f=L35.D45(13,2,297,15,2665);L35.T7s(75);var r6J=L35.D45(1176,12,576);L35.T7s(173);var P2T=L35.k5y(5901,5,16,5896,1177);L35.T7s(161);var c5z=L35.k5y(15,120840,8630,18,18);L35.u4X(72);var J8G=L35.k5y(26,595,9,7,16);L35.T7s(3);var s2r=L35.D45(9650,20);A33=V1s[G8R][y7w + ((i54,Y$6) === (+"80.99",+"7674")?(!!0,s1S):j5f >= (r6J,998.5)?(P2T,c5z) == J8G?666.52:" ":s2r) + j_z.name];if(!A33)continue;s0e=s0e === null?A33:Math.min(s0e,A33);i1t=i1t === null?A33:Math.max(i1t,A33);}return [s0e,i1t];}M1l="Sh";M1l+="ort Cycle";V1s=j_z.chart.scrubbed;s2h=j_z.days;n_R=Number(j_z.inputs[M1l]);y2f=Number(j_z.inputs["Long Cycle"]);if(V1s.length < Math.max(s2h,n_R,y2f) + 1){j_z.error=!![];return;}N$W=j_z.inputs.Field;if(!N$W || N$W == "field"){N$W=X$m;}m2_=0.5;e84.Studies.MA(j_z.inputs[t$s],n_R,N$W,0,"_MACD1",K14,j_z);e84.Studies.MA(j_z.inputs["Moving Average Type"],y2f,N$W,0,"_MACD2",K14,j_z);B2J=0;v1g=0;for(var Y0Q=j_z.startFrom;Y0Q < V1s.length;Y0Q++){H86="_P";H86+="F ";V7s="_";V7s+="MAC";V7s+="D ";i3h="_M";i3h+="A";i3h+="CD2 ";q2L=V1s[Y0Q];if(Y0Q < y2f - 1)continue;e$V=q2L["_MACD1 " + j_z.name];B4W=q2L[i3h + j_z.name];if(e$V || e$V === 0 || B4W || B4W === 0){R9m="_M";R9m+="A";R9m+="CD ";L35.u4X(5);q2L[R9m + j_z.name]=L35.D45(e$V,B4W);}W4x=q2L[V7s + j_z.name];if(Y0Q < y2f + (s2h - 1))continue;J8L=w2t(s2h,Y0Q,"_MACD");B2J=J8L[1] > J8L[0]?100 * (W4x - J8L[0]) / (J8L[+"1"] - J8L[0]):B2J;if(W4x || W4x === 0){G7P="_";G7P+="P";G7P+="F ";p37="_P";p37+="F";p37+=" ";z0k="_";z0k+="P";z0k+="F ";q2L[z0k + j_z.name]=V1s[Y0Q - ("1" | 1)]["_PF " + j_z.name]?V1s[Y0Q - 1][p37 + j_z.name] + m2_ * (B2J - V1s[Y0Q - 1][G7P + j_z.name]):B2J;}K6m=q2L[H86 + j_z.name];if(Y0Q < y2f + 2 * (s2h - ("1" << 0)))continue;J8L=w2t(s2h,Y0Q,"_PF");v1g=J8L[1] > J8L[0]?100 * (K6m - J8L["0" | 0]) / (J8L[1] - J8L[0]):v1g;if(K6m || K6m === 0){T5U="R";T5U+="es";T5U+="ul";T5U+="t ";q2L[T5U + j_z.name]=V1s[Y0Q - 1]["Result " + j_z.name]?V1s[Y0Q - 1]["Result " + j_z.name] + m2_ * (v1g - V1s[Y0Q - 1]["Result " + j_z.name]):v1g;}}};e84.Studies.studyLibrary=e84.extend(e84.Studies.studyLibrary,{Schaff:{name:"Schaff Trend Cycle",range:"0 to 100",calculateFN:e84.Studies.calculateSchaff,inputs:{Period:10,Field:"field","Short Cycle":23,"Long Cycle":50,"Moving Average Type":O_2},parameters:{init:{studyOverZonesEnabled:!![],studyOverBoughtValue:"75" >> 64,studyOverBoughtColor:"auto",studyOverSoldValue:25,studyOverSoldColor:"auto"}}}});}};N4=h9I=>{var p6g=l9y8Y;p6g.r8O();var x_R,D89,G$z;x_R=typeof _CIQ !== "undefined"?_CIQ:h9I.CIQ;if(!x_R.Studies){console.error("shinohara feature requires first activating studies feature.");}else {D89="#";D89+="5";D89+="F7C";D89+="B8";G$z="#E9";G$z+="9B5";G$z+="4";x_R.Studies.calculateShinohara=function(m4Z,Q5o){var J9B,s9X,o6o;J9B=Q5o.chart.scrubbed;if(J9B.length < Q5o.days + 1){Q5o.error=!![];return;}s9X={weakNum:0,weakDen:0,strongNum:"0" ^ 0,strongDen:0};p6g.Y$C();if(Q5o.startFrom > 1){o6o="_ac";o6o+="cum";o6o+="s ";s9X=x_R.clone(J9B[Q5o.startFrom - ("1" << 0)][o6o + Q5o.name]);}for(var C7_=Q5o.startFrom;C7_ < J9B.length;C7_++){s9X.weakNum+=J9B[C7_].High - J9B[C7_].Close;s9X.weakDen+=J9B[C7_].Close - J9B[C7_].Low;if(C7_ > 0){p6g.T7s(8);var W5g=p6g.D45(0,11,12);s9X.strongNum+=J9B[C7_].High - J9B[C7_ - W5g].Close;p6g.T7s(75);var B9$=p6g.D45(12,4,7);s9X.strongDen+=J9B[C7_ - B9$].Close - J9B[C7_].Low;}if(C7_ >= Q5o.days){s9X.weakNum-=J9B[C7_ - Q5o.days].High - J9B[C7_ - Q5o.days].Close;s9X.weakDen-=J9B[C7_ - Q5o.days].Close - J9B[C7_ - Q5o.days].Low;p6g.T7s(58);var n6P=p6g.D45(118,14,2,102);J9B[C7_]["Weak Ratio " + Q5o.name]=n6P * s9X.weakNum / s9X.weakDen;if(C7_ > Q5o.days){p6g.u4X(104);var G8P=p6g.D45(14,15,2,1);s9X.strongNum-=J9B[C7_ - Q5o.days].High - J9B[C7_ - Q5o.days - G8P].Close;p6g.T7s(73);var E0M=p6g.k5y(3,0,18,20);s9X.strongDen-=J9B[C7_ - Q5o.days - E0M].Close - J9B[C7_ - Q5o.days].Low;p6g.T7s(5);var h5t=p6g.k5y(77,9);J9B[C7_]["Strong Ratio " + Q5o.name]=("100" | h5t) * s9X.strongNum / s9X.strongDen;}}J9B[C7_]["_accums " + Q5o.name]=x_R.clone(s9X);}};x_R.Studies.studyLibrary=x_R.extend(x_R.Studies.studyLibrary,{Shinohara:{name:"Shinohara Intensity Ratio",calculateFN:x_R.Studies.calculateShinohara,inputs:{Period:26},outputs:{"Strong Ratio":G$z,"Weak Ratio":D89}}});}};W2=D4r=>{var M7Z,I5z,R8V,Z_E,I_N,R8m,O_e,D3R,J18;M7Z=typeof _CIQ !== "undefined"?_CIQ:D4r.CIQ;if(!M7Z.Studies){console.error("stochastics feature requires first activating studies feature.");}else {I5z="a";I5z+="ut";I5z+="o";R8V="#";R8V+="FF";R8V+="00";R8V+="00";Z_E="au";Z_E+="to";I_N="#F";I_N+="F00";I_N+="00";R8m="f";R8m+="ield";O_e="0 ";O_e+="to";O_e+=" ";O_e+="100";D3R="a";D3R+="u";D3R+="t";D3R+="o";J18="Stochast";J18+="ic Momentum Index";M7Z.Studies.calculateStochastics=function(X3m,r_y){var X4v=l9y8Y;var K9e,h4Y,F$6,F$I,C_I,N7X,C8S,B6y,K$n,K4f,C7d,O_0,x9z,h5J,K3o,d9K,n_T;K9e="%";K9e+="K";K9e+=" ";h4Y="s";function j0$(w4o,J2L,D1T){var q$_,r4r,y8k,h6z,t_r,E$z;X4v.u4X(4);q$_=X4v.D45(D1T,1,w4o);X4v.u4X(174);var N42=X4v.D45(11,4,4,2,10);r4r=Number.MAX_VALUE * -("1" | N42);y8k=Number.MAX_VALUE;for(var o_W=q$_;o_W <= w4o;o_W++){h6z=K$n[o_W][J2L == "Close"?"Low":J2L];t_r=K$n[o_W][J2L == "Close"?"High":J2L];if(!h6z && h6z !== 0)continue;if(!t_r && t_r !== 0)continue;y8k=Math.min(y8k,h6z);r4r=Math.max(r4r,t_r);}if(r4r == Number.MAX_VALUE * -1 || y8k == Number.MAX_VALUE){return null;}E$z=r4r == y8k?0:(K$n[w4o][J2L] - y8k) / (r4r - y8k) * 100;return E$z;}h4Y+="i";h4Y+="m";h4Y+="ple";F$6="simp";F$6+="le";F$I="%";F$I+="D Per";F$I+="iods";C_I="%K Pe";C_I+="ri";C_I+="ods";N7X="C";N7X+="lo";N7X+="se";if(!r_y.smooth){r_y.smooth=r_y.inputs.Smooth;}X4v.Y$C();C8S=r_y.inputs.Field;if(!C8S || C8S == "field"){C8S=N7X;}B6y=r_y.inputs[C_I];if(!B6y){B6y=r_y.days;}K$n=r_y.chart.scrubbed;if(K$n.length < Math.max(B6y,r_y.days) + 1){r_y.error=!![];return;}K4f=r_y.inputs["%K Smoothing Periods"];if(K4f && !r_y.inputs.Fast){r_y.smooth=!!"1";}else if(r_y.smooth){K4f=3;}C7d=r_y.inputs[F$I];if(!C7d){C7d=3;}if(r_y.outputs.Fast){O_0="S";O_0+="lo";O_0+="w";r_y.outputMap={};X4v.u4X(44);x9z=-X4v.k5y("1451177031",5);h5J=1339093242;K3o=2;for(var m6L="1" * 1;X4v.L3M(m6L.toString(),m6L.toString().length,55001) !== x9z;m6L++){d9K="F";d9K+="a";d9K+="s";d9K+="t";r_y.outputMap["Fast" * r_y.name]=d9K;K3o+=2;}if(X4v.L3M(K3o.toString(),K3o.toString().length,36834) !== h5J){r_y.outputMap["%K " + r_y.name]="Fast";}r_y.outputMap["%D " + r_y.name]=O_0;}for(var q$$=Math.max(B6y,r_y.startFrom);q$$ < K$n.length;q$$++){n_T=j0$(q$$,C8S,B6y);if(n_T !== null){K$n[q$$]["_Fast%K " + r_y.name]=j0$(q$$,C8S,B6y);}}M7Z.Studies.MA(F$6,r_y.smooth?K4f:1,"_Fast%K " + r_y.name,+"0","%K",X3m,r_y);M7Z.Studies.MA(h4Y,C7d,K9e + r_y.name,0,"%D",X3m,r_y);};M7Z.Studies.calculateStochMomentum=function(W49,h3a){var d6g=l9y8Y;var C1T,x70,v2m,e0b,l0C,I9z,l3p,O5d,h60,f4G,E8I,B_z,b59,u$W;C1T="%";C1T+="K ";x70="_";x70+="D";x70+="HL2";v2m="_D";v2m+="HL ";e0b="_";e0b+="H";e0b+="S";e0b+="1";l0C="%D Per";l0C+="iods";d6g.Y$C();I9z=Number(h3a.inputs["%K Periods"]);l3p=Number(h3a.inputs["%K Smoothing Periods"]);O5d=Number(h3a.inputs["%K Double Smoothing Periods"]);h60=Number(h3a.inputs[l0C]);f4G=h3a.chart.scrubbed;if(f4G.length < I9z + l3p + O5d - 1 || f4G.length < h60){h3a.error=!!({});return;}for(E8I=Math.max(I9z,h3a.startFrom) - 1;E8I < f4G.length;E8I++){B_z=f4G[E8I];b59=i8E(I9z,E8I);d6g.T7s(3);var f3B=d6g.k5y(0,1);d6g.u4X(8);var x8P=d6g.D45(14,16,4);B_z["_H " + h3a.name]=B_z.Close - (b59[0] + b59[f3B]) / x8P;d6g.T7s(132);var t9z=d6g.D45(17,5,25,10,7);B_z["_DHL " + h3a.name]=b59[t9z] - b59[0];}M7Z.Studies.MA("exponential",l3p,"_H " + h3a.name,0,e0b,W49,h3a);M7Z.Studies.MA("exponential",O5d,"_HS1 " + h3a.name,+"0","_HS2",W49,h3a);function i8E(f6S,Z9p){var E$U,X6P;E$U=null;X6P=null;for(var L9n=Z9p - f6S + 1;L9n <= Z9p;L9n++){E$U=E$U === null?f4G[L9n].Low:Math.min(E$U,f4G[L9n].Low);X6P=X6P === null?f4G[L9n].High:Math.max(X6P,f4G[L9n].High);}return [E$U,X6P];}M7Z.Studies.MA("exponential",l3p,v2m + h3a.name,0,"_DHL1",W49,h3a);M7Z.Studies.MA("exponential",O5d,"_DHL1 " + h3a.name,0,x70,W49,h3a);for(E8I=I9z - ("1" | 1);E8I < f4G.length;E8I++){u$W="_";u$W+="DH";u$W+="L2 ";d6g.T7s(57);var Y0Z=d6g.k5y(15,18,97,1);f4G[E8I]["%K " + h3a.name]=f4G[E8I]["_HS2 " + h3a.name] / (0.5 * f4G[E8I][u$W + h3a.name]) * Y0Z;}M7Z.Studies.MA(h3a.inputs["%D Moving Average Type"],h60,C1T + h3a.name,0,"%D",W49,h3a);h3a.zoneOutput="%K";};M7Z.Studies.studyLibrary=M7Z.extend(M7Z.Studies.studyLibrary,{"Stch Mtm":{name:J18,calculateFN:M7Z.Studies.calculateStochMomentum,inputs:{"%K Periods":10,"%K Smoothing Periods":3,"%K Double Smoothing Periods":+"3","%D Periods":10,"%D Moving Average Type":"ema"},outputs:{"%K":"auto","%D":"#FF0000"},parameters:{init:{studyOverZonesEnabled:!!1,studyOverBoughtValue:40,studyOverBoughtColor:D3R,studyOverSoldValue:-40,studyOverSoldColor:"auto"}}},stochastics:{name:"Stochastics (Simple)",range:O_e,calculateFN:M7Z.Studies.calculateStochastics,inputs:{Period:14,Field:R8m,Smooth:!!1},outputs:{Fast:"auto",Slow:I_N},parameters:{init:{studyOverZonesEnabled:!![],studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:Z_E}}},Stochastics:{name:"Stochastics",range:"0 to 100",calculateFN:M7Z.Studies.calculateStochastics,inputs:{Field:"field","%K Periods":14,Fast:![],"%K Smoothing Periods":3,"%D Periods":3},outputs:{"%K":"auto","%D":R8V},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:"80" - 0,studyOverBoughtColor:I5z,studyOverSoldValue:20,studyOverSoldColor:"auto"}},attributes:{"%K Smoothing Periods":{hidden:function(){l9y8Y.r8O();return this.inputs.Fast;}}},centerline:50}});}};X2=D__=>{var o4K,W6Q;o4K=typeof _CIQ !== "undefined"?_CIQ:D__.CIQ;if(!o4K.Studies){console.error("supertrend feature requires first activating studies feature.");}else {W6Q="#b8";W6Q+="2";W6Q+="c";W6Q+="0c";o4K.Studies.calculateSupertrend=function(l69,X0d){var A80=l9y8Y;var N2H,j5y,M6w,t37,q2M,L7z,E7o,o2G,U3e,V9v,s86,t3K;N2H=X0d.chart.scrubbed;if(N2H.length < X0d.days + 1){X0d.error=!0;return;}o4K.Studies.calculateStudyATR(l69,X0d);for(var t6r=X0d.startFrom;t6r < N2H.length;t6r++){j5y="_Dir";j5y+="ec";j5y+="tion ";M6w=N2H[t6r];if(!M6w)continue;A80.T7s(1);var K4i=A80.k5y(6,2,1);t37=(M6w.High + M6w.Low) / K4i;q2M=X0d.inputs.Multiplier * M6w["ATR " + X0d.name];A80.u4X(5);L7z=A80.D45(t37,q2M);A80.u4X(3);E7o=A80.D45(t37,q2M);if(t6r){o2G="_Do";o2G+="wnt";o2G+="rend ";U3e="_Uptre";U3e+="nd";U3e+=" ";V9v="_U";V9v+="ptrend";V9v+=" ";if(N2H[t6r - 1] && N2H[t6r - 1].Close && N2H[t6r - 1].Close > N2H[t6r - 1][V9v + X0d.name] && N2H[t6r - 1]["_Uptrend " + X0d.name] > L7z){A80.u4X(5);L7z=N2H[A80.k5y(t6r,1)][U3e + X0d.name];}if(N2H[t6r - 1] && N2H[t6r - 1].Close && N2H[t6r - ("1" | 0)].Close < N2H[t6r - +"1"][o2G + X0d.name] && N2H[t6r - 1]["_Downtrend " + X0d.name] < E7o){A80.T7s(5);E7o=N2H[A80.D45(t6r,1)]["_Downtrend " + X0d.name];}}A80.u4X(27);M6w[j5y + X0d.name]=A80.D45(0,"1");if(t6r){s86="_Direct";s86+="ion ";t3K="_Direc";t3K+="tion ";A80.T7s(5);M6w[t3K + X0d.name]=N2H[A80.k5y(t6r,1)]["_Direction " + X0d.name];if(M6w.Close > N2H[t6r - 1]["_Downtrend " + X0d.name]){M6w["_Direction " + X0d.name]=1;}else if(M6w.Close < N2H[t6r - 1]["_Uptrend " + X0d.name]){M6w[s86 + X0d.name]=-1;}}M6w["_Uptrend " + X0d.name]=L7z;M6w["_Downtrend " + X0d.name]=E7o;M6w["Trend " + X0d.name]=M6w["_Direction " + X0d.name] > 0?L7z:E7o;if(!t6r)continue;}A80.Y$C();X0d.outputMap={};X0d.outputMap["Trend " + X0d.name]="";};o4K.Studies.displaySupertrend=function(g5n,d75,q68){var W4v,L$p,M3V,a3k,z8Z,L0m,q4S,h67,M6j,m3a,D9_,V_Z,m9N,b0v;W4v="T";W4v+="re";W4v+="n";W4v+="d ";L$p=g5n.panels[d75.panel];l9y8Y.Y$C();M3V=d75.getContext(g5n);a3k=d75.getYAxis(g5n);z8Z={skipTransform:L$p.name != d75.chart.name,skipProjections:!![],label:g5n.preferences.labels,yAxis:a3k,highlight:d75.highlight};L0m=W4v + d75.name;for(var q2m=0;L$p.chart.transformFunc && a3k != L$p.chart.yAxis && q2m < q68.length;q2m++){q4S=q68[q2m];if(q4S && q4S.transform){q4S.transform[L0m]=L$p.chart.transformFunc(g5n,L$p.chart,q4S[L0m]);}}g5n.plotDataSegmentAsLine(L0m,L$p,z8Z,H1B);function H1B(g9b,a0c,z7w){var l8K;l8K="_Di";l8K+="re";l8K+="ction ";l9y8Y.Y$C();if(a0c && a0c[l8K + d75.name] < 0){return d75.outputs.Downtrend;}return d75.outputs.Uptrend;}M3V.lineWidth=1;M3V.globalAlpha=1;g5n.startClip(d75.panel);if(!d75.highlight && g5n.highlightedDraggable){M3V.globalAlpha*=0.3;}h67=M3V.measureText("\u25B2").width / ("2" - 0);for(M6j=0;M6j < q68.length;M6j++){D9_="_D";D9_+="i";D9_+="recti";D9_+="on ";if(!q68[M6j] || !q68[M6j - 1])continue;if(q68[M6j - +"1"]["_Direction " + d75.name] > q68[M6j][D9_ + d75.name]){V_Z="au";V_Z+="to";m3a=o4K.Studies.determineColor(d75.outputs.Downtrend);if(!m3a || m3a == V_Z || o4K.isTransparent(m3a)){m3a=g5n.defaultColor;}M3V.fillStyle=m3a;M3V.textBaseline="bottom";m9N=g5n.pixelFromPrice(q68[M6j].High,L$p,a3k);for(var V0V=5;V0V <= 45;V0V+="10" * 1){if(a3k.flipped){M3V.fillText("9046" << 32 == 6230?"K":(4160,283.21) > 7570?(8.83e+3,0x1b3e):"\u25B2",g5n.pixelFromBar(M6j) - h67,m9N + V0V);}else {M3V.fillText("\u25BC",g5n.pixelFromBar(M6j) - h67,m9N - V0V);}}}else if(q68[M6j - 1]["_Direction " + d75.name] < q68[M6j]["_Direction " + d75.name]){m3a=o4K.Studies.determineColor(d75.outputs.Uptrend);if(!m3a || m3a == "auto" || o4K.isTransparent(m3a)){m3a=g5n.defaultColor;}M3V.fillStyle=m3a;M3V.textBaseline="top";b0v=g5n.pixelFromPrice(q68[M6j].Low,L$p,a3k);for(var G$k=5;G$k <= 45;G$k+=10){if(a3k.flipped){M3V.fillText(4380 < (6470,+"5650")?"\u25BC":7791 <= ("9320" >> 0,5702)?6.26e+3:(1119,"3850" ^ 0) == 430?143.42:804.36,g5n.pixelFromBar(M6j) - h67,b0v - G$k);}else {M3V.fillText("\u25B2",g5n.pixelFromBar(M6j) - h67,b0v + G$k);}}}}g5n.endClip();};o4K.Studies.studyLibrary=o4K.extend(o4K.Studies.studyLibrary,{Supertrend:{name:"Supertrend",overlay:!!({}),seriesFN:o4K.Studies.displaySupertrend,calculateFN:o4K.Studies.calculateSupertrend,inputs:{Period:7,Multiplier:3},outputs:{Uptrend:"#8cc176",Downtrend:W6Q},attributes:{Multiplier:{min:0.1,step:0.1}}}});}};R5=A8B=>{var D_F,F$z,g7j,c_V,l$K,h4Q;D_F=typeof _CIQ !== "undefined"?_CIQ:A8B.CIQ;if(!D_F.Studies){console.error("swingIndex feature requires first activating studies feature.");}else {D_F.Studies.calculateSwingIndex=function(A$J,O3M){var F2a=l9y8Y;var y1x,P3e,k3u,z6b,J5A,V71,s_M,J4X,c5N,f5x,O80,E_H,z7p,D4T;y1x="Resu";y1x+="lt ";P3e="Limit Mov";P3e+="e Value";k3u=O3M.inputs[P3e];if(k3u === null || isNaN(k3u)){k3u=99999;}z6b=O3M.chart.scrubbed;J5A=0;if(O3M.startFrom > +"1"){F2a.u4X(175);var d8f=F2a.D45(299,15,18,10,8);J5A=z6b[O3M.startFrom - d8f][y1x + O3M.name];}for(var J$Y=Math.max("1" * 1,O3M.startFrom);J$Y < z6b.length;J$Y++){V71="S";V71+="wi";V71+="n";V71+="g";s_M=Math.abs(z6b[J$Y].High - z6b[J$Y - 1].Close);J4X=Math.abs(z6b[J$Y].Low - z6b[J$Y - 1].Close);c5N=Math.abs(z6b[J$Y].High - z6b[J$Y].Low);f5x=Math.abs(z6b[J$Y - 1].Close - z6b[J$Y - +"1"].Open);O80=Math.max(s_M,J4X);E_H=Math.max(c5N,O80);F2a.T7s(99);z7p=F2a.k5y(0.25,f5x,E_H);if(E_H == s_M){F2a.u4X(10);z7p-=F2a.D45(0.5,J4X);}else if(E_H == J4X){F2a.T7s(10);z7p-=F2a.k5y(0.5,s_M);}F2a.u4X(60);var g4p=F2a.D45(17,3,11,8);F2a.u4X(3);var o1n=F2a.D45(0,1);D4T=+"50" * (z6b[J$Y].Close - z6b[J$Y - g4p].Close + 0.5 * (z6b[J$Y].Close - z6b[J$Y].Open) + 0.25 * (z6b[J$Y - +"1"].Close - z6b[J$Y - o1n].Open)) / z7p * (O80 / k3u);if(z7p === 0 || k3u === 0){D4T=0;}if(O3M.type == V71){J5A=0;}J5A+=D4T;z6b[J$Y]["Result " + O3M.name]=J5A;}};F$z=-305275005;g7j=472638978;c_V=2;for(var U9s="1" * 1;l9y8Y.L3M(U9s.toString(),U9s.toString().length,82512) !== F$z;U9s++){l$K="A";l$K+="cc";l$K+=" Swi";l$K+="ng";D_F.Studies.studyLibrary=D_F.extend(D_F.Studies.studyLibrary,{"Acc Swing":{name:"Limit Move Value",calculateFN:D_F.Studies.calculateSwingIndex,inputs:{"Limit Move Value":990}},Swing:{name:l$K,calculateFN:D_F.Studies.calculateSwingIndex,inputs:{"Limit Move Value":986}}});c_V+=2;}if(l9y8Y.L3M(c_V.toString(),c_V.toString().length,+"63677") !== g7j){h4Q="Swing";h4Q+=" Index";D_F.Studies.studyLibrary=D_F.extend(D_F.Studies.studyLibrary,{"Acc Swing":{name:"Accumulative Swing Index",calculateFN:D_F.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}},Swing:{name:h4Q,calculateFN:D_F.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}}});}}};g1=p57=>{var g8_,K0B,b86,D8u;g8_=typeof _CIQ !== "undefined"?_CIQ:p57.CIQ;if(!g8_.Studies){console.error("trendIntensity feature requires first activating studies feature.");}else {K0B="a";K0B+="u";K0B+="t";K0B+="o";b86="#";b86+="FF";b86+="000";b86+="0";D8u="aut";D8u+="o";g8_.Studies.calculateTrendIntensity=function(A92,s5u){var M4h=l9y8Y;var x6Y,G0u,L$x,G1a,E94,I7l,G1l,Y_k,l4r;function f$g(n4z,z_m){M4h.Y$C();if(Math.abs(z_m) < 0.00000001){return +"100";}M4h.T7s(151);return M4h.D45(100,1,z_m,n4z,100);}x6Y=s5u.chart.scrubbed;if(x6Y.length < s5u.days + 1){s5u.error=!"";return;}G0u=s5u.inputs.Field;if(!G0u || G0u == "field"){G0u="Close";}g8_.Studies.MA("ma",s5u.days,G0u,"0" ^ 0,"_SMA",A92,s5u);L$x=0;M4h.u4X(10);G1a=M4h.k5y("0",1);G1l=[];Y_k=Math.ceil(s5u.days / 2);for(E94=Math.max(0,s5u.startFrom - Y_k);E94 < x6Y.length;E94++){l4r="T";l4r+="II";l4r+=" ";if(!x6Y[E94]["_SMA " + s5u.name] && x6Y[E94]["_SMA " + s5u.name] !== +"0")continue;I7l=x6Y[E94][G0u] - x6Y[E94]["_SMA " + s5u.name];if(I7l < 0){M4h.T7s(176);G1a+=M4h.D45(I7l,1);}else {L$x+=I7l;}G1l.push(I7l);if(G1l.length > Y_k){I7l=G1l.shift();if(I7l < "0" << 32){M4h.T7s(176);G1a-=M4h.D45(I7l,1);}else {L$x-=I7l;}}if(E94 < s5u.startFrom)continue;x6Y[E94][l4r + s5u.name]=f$g(L$x,G1a);}g8_.Studies.MA("ema",s5u.inputs["Signal Period"],"TII " + s5u.name,0,"Signal",A92,s5u);};g8_.Studies.studyLibrary=g8_.extend(g8_.Studies.studyLibrary,{"Trend Int":{name:"Trend Intensity Index",calculateFN:g8_.Studies.calculateTrendIntensity,range:"0 to 100",inputs:{Period:"14" << 32,Field:"field","Signal Period":9},outputs:{TII:D8u,Signal:b86},parameters:{init:{studyOverZonesEnabled:!!({}),studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:K0B}}}});}};R8=j5a=>{var I_q,Q2W;I_q=typeof _CIQ !== "undefined"?_CIQ:j5a.CIQ;if(!I_q.Studies){Q2W="trix feature requires first acti";Q2W+="va";Q2W+="ting ";Q2W+="studies feature.";console.error(Q2W);}else {I_q.Studies.calculateTRIX=function(Q77,y8j){var N7G=l9y8Y;var E6G,N0G,u$$,i6E,i29,E75,j36,n2D,Q4w,t4n,k8o,i_A;E6G="_MA";E6G+="3";E6G+=" ";N0G="_M";N0G+="A1 ";u$$=y8j.chart.scrubbed;if(u$$.length < y8j.days + 1){y8j.error=!0;return;}i6E=y8j.name;N7G.T7s(3);i29=["Close",N7G.k5y(N0G,i6E),N7G.D45("_MA2 ",i6E),N7G.k5y(E6G,i6E)];for(var M6P=0;M6P < i29.length - 1;M6P++){I_q.Studies.MA("exponential",y8j.days,i29[M6P],0,"_MA" + (M6P + 1).toString(),Q77,y8j);}E75=1379334033;j36=-63382962;n2D=2;for(var c1a="1" | 0;N7G.L3M(c1a.toString(),c1a.toString().length,5513) !== E75;c1a++){Q4w=i29[1];n2D+=2;}if(N7G.L3M(n2D.toString(),n2D.toString().length,92471) !== j36){Q4w=i29[1];}Q4w=i29[3];for(var a9L=Math.max(1,y8j.startFrom);a9L < u$$.length;a9L++){t4n="Res";t4n+="ul";t4n+="t";t4n+=" ";N7G.u4X(5);k8o=u$$[N7G.D45(a9L,1)][Q4w];if(!k8o)continue;i_A=u$$[a9L][Q4w];if(i_A || i_A === 0){N7G.T7s(3);u$$[a9L][N7G.D45(t4n,i6E)]=N7G.k5y(100,i_A,1,k8o,N7G.u4X(153));}}};I_q.Studies.studyLibrary=I_q.extend(I_q.Studies.studyLibrary,{TRIX:{name:"TRIX",calculateFN:I_q.Studies.calculateTRIX}});}};a5=V19=>{var V0U=l9y8Y;var h6V,a4N;h6V="unde";V0U.Y$C();h6V+="fin";h6V+="ed";a4N=typeof _CIQ !== h6V?_CIQ:V19.CIQ;if(!a4N.Studies){console.error("twiggsMoneyFlow feature requires first activating studies feature.");}else {a4N.Studies.calculateTwiggsMoneyFlow=function(v7Q,O_V){var b6_,h1T,j5i,L04,s5X,D2I,Z5q,j$q,N54;b6_=O_V.chart.scrubbed;if(b6_.length < O_V.days){O_V.error=!!({});return;}V0U.Y$C();h1T=0;j5i=0;V0U.u4X(5);var j4w=V0U.k5y(1,0);L04=b6_[O_V.startFrom - j4w];if(L04){s5X="_";s5X+="s";s5X+="umMF ";if(L04["_sumMF " + O_V.name]){h1T=L04[s5X + O_V.name];}if(L04["_sumV " + O_V.name]){j5i=L04["_sumV " + O_V.name];}}for(var f3d=Math.max(1,O_V.startFrom);f3d < b6_.length;f3d++){D2I="_";D2I+="su";D2I+="m";D2I+="V ";Z5q="_M";Z5q+="F";Z5q+="V ";j$q=Math.max(b6_[f3d - ("1" - 0)].Close,b6_[f3d].High);N54=Math.min(b6_[f3d - 1].Close,b6_[f3d].Low);b6_[f3d][Z5q + O_V.name]=b6_[f3d].Volume * (+"2" * b6_[f3d].Close - j$q - N54) / (j$q - N54 === 0?"999999" - 0:j$q - N54);if(f3d > O_V.days - 1){V0U.u4X(43);var C9l=V0U.D45(17,1,18);h1T*=(O_V.days - C9l) / O_V.days;V0U.T7s(177);var F8l=V0U.k5y(18,19,15,15);j5i*=(O_V.days - F8l) / O_V.days;}h1T+=b6_[f3d]["_MFV " + O_V.name];j5i+=b6_[f3d].Volume;if(f3d > O_V.days - 1){if(j5i){V0U.u4X(12);b6_[f3d]["Result " + O_V.name]=V0U.k5y(h1T,j5i > 0?j5i:999999);}}b6_[f3d]["_sumMF " + O_V.name]=h1T;b6_[f3d][D2I + O_V.name]=j5i;}};a4N.Studies.studyLibrary=a4N.extend(a4N.Studies.studyLibrary,{Twiggs:{name:"Twiggs Money Flow",calculateFN:a4N.Studies.calculateTwiggsMoneyFlow,inputs:{Period:21}}});}};M7=n1u=>{var o67,y_y;o67=typeof _CIQ !== "undefined"?_CIQ:n1u.CIQ;if(!o67.Studies){console.error("typicalPrice feature requires first activating studies feature.");}else if(!o67.Studies.calculateTypicalPrice){console.error("typicalPrice feature requires first activating medianPrice feature.");}else {y_y="Ty";y_y+="pical";y_y+=" ";y_y+="Price";o67.Studies.studyLibrary=o67.extend(o67.Studies.studyLibrary,{"Typical Price":{name:y_y,calculateFN:o67.Studies.calculateTypicalPrice,inputs:{Period:14}},"Weighted Close":{name:"Weighted Close",calculateFN:o67.Studies.calculateTypicalPrice,inputs:{Period:14}}});}};r$=T1t=>{var z1q,j_0;l9y8Y.Y$C();z1q=typeof _CIQ !== "undefined"?_CIQ:T1t.CIQ;if(!z1q.Studies){j_0="ulcerIndex feature";j_0+=" requir";j_0+="es f";j_0+="irst activating studies feature.";console.error(j_0);}else {z1q.Studies.calculateUlcerIndex=function(i$$,H0v){var i_u,K5U,e_v,r4P,W1d,P4x;i_u=H0v.chart.scrubbed;if(i_u.length < 2 * H0v.days - 1){H0v.error=!!"1";return;}K5U=H0v.inputs.Field;function l9D(z9x,h7Q,x8i){var d3v;d3v=null;l9y8Y.Y$C();for(var R1o=h7Q - z9x + 1;R1o <= h7Q;R1o++){if(R1o < 0)continue;d3v=d3v === null?i_u[R1o][x8i]:Math.max(d3v,i_u[R1o][x8i]);}return d3v;}if(!K5U || K5U == "field"){K5U="Close";}l9y8Y.r8O();for(e_v=Math.max(H0v.startFrom,H0v.days - 1);e_v < i_u.length;e_v++){i_u[e_v]["_PD2 " + H0v.name]=Math.pow(100 * (i_u[e_v][K5U] / l9D(H0v.days,e_v,K5U) - 1),+"2");}z1q.Studies.MA("simple",H0v.days,"_PD2 " + H0v.name,0,"_MA",i$$,H0v);for(e_v=Math.max(H0v.startFrom,2 * (H0v.days - 1));e_v < i_u.length;e_v++){r4P="Result";r4P+=" ";W1d="_";W1d+="M";W1d+="A";W1d+=" ";P4x=i_u[e_v][W1d + H0v.name];if(P4x || P4x === ("0" | 0)){i_u[e_v][r4P + H0v.name]=Math.sqrt(P4x);}}};z1q.Studies.studyLibrary=z1q.extend(z1q.Studies.studyLibrary,{Ulcer:{name:"Ulcer Index",calculateFN:z1q.Studies.calculateUlcerIndex,inputs:{Period:14,Field:"field"}}});}};w5=V13=>{var X9$,X1d,B4Z;X9$=typeof _CIQ !== "undefined"?_CIQ:V13.CIQ;if(!X9$.Studies){X1d="ultimateOscillator feat";X1d+="ure requ";X1d+="ires first activating studies feature.";console.error(X1d);}else {B4Z="a";B4Z+="u";B4Z+="t";B4Z+="o";X9$.Studies.calculateUltimateOscillator=function(e6r,I62){var x_S=l9y8Y;var i6Z,y0T,X0e,n3V,L6d,X5f,f1L,Q8R,R85,n03,G4S,l96,q60,S6N,i4p,D1Z,J34,J5P,Q_$,I9p,g6Y;i6Z="C";i6Z+="yc";i6Z+="le";i6Z+=" 2";y0T=I62.chart.scrubbed;X0e=[I62.inputs["Cycle 1"],I62.inputs[i6Z],I62.inputs["Cycle 3"]];x_S.T7s(13);n3V=-x_S.D45(32,"1865201039");L6d=-1809697466;x_S.T7s(44);X5f=x_S.D45("2",2);for(var c0K=1;x_S.U3Y(c0K.toString(),c0K.toString().length,22804) !== n3V;c0K++){f1L=Math.max(X0e[2],X0e[6],X0e[5]);X5f+=2;}if(x_S.U3Y(X5f.toString(),X5f.toString().length,58396) !== L6d){f1L=Math.max(X0e[6],X0e[4],X0e["7" - 0]);}f1L=Math.max(X0e[0],X0e[1],X0e[2]);if(y0T.length < f1L + 1){I62.error=!![];return;}x_S.u4X(178);var U0f=x_S.D45(10,7,20,17,399);Q8R=X0e[0] * X0e[U0f];x_S.T7s(137);var T52=x_S.k5y(26,8,12,20);R85=X0e[+"0"] * X0e[T52];x_S.T7s(162);var W_8=x_S.k5y(14,20,13,0,201);x_S.T7s(179);var l2q=x_S.k5y(31,5,28,1);n03=X0e[W_8] * X0e[l2q];G4S=[0,+"0",0];l96=[0,0,0];if(I62.startFrom){if(y0T[I62.startFrom - 1]["_accbp " + I62.name]){G4S=y0T[I62.startFrom - 1]["_accbp " + I62.name].slice();}if(y0T[I62.startFrom - 1]["_acctr " + I62.name]){l96=y0T[I62.startFrom - 1]["_acctr " + I62.name].slice();}}for(var g9A=Math.max(+"1",I62.startFrom);g9A < y0T.length;g9A++){q60="_a";q60+="cctr ";S6N=Math.min(y0T[g9A].Low,y0T[g9A - 1].Close);i4p=y0T[g9A].Close - S6N;x_S.T7s(5);var s7N=x_S.k5y(6,5);D1Z=Math.max(y0T[g9A].High,y0T[g9A - s7N].Close) - S6N;for(var b$T=+"0";b$T < X0e.length;b$T++){G4S[b$T]+=i4p;l96[b$T]+=D1Z;if(g9A > X0e[b$T]){J34=Math.min(y0T[g9A - X0e[b$T]].Low,y0T[g9A - X0e[b$T] - ("1" - 0)].Close);J5P=y0T[g9A - X0e[b$T]].Close - J34;x_S.u4X(3);var A$K=x_S.D45(0,1);Q_$=Math.max(y0T[g9A - X0e[b$T]].High,y0T[g9A - X0e[b$T] - A$K].Close) - J34;G4S[b$T]-=J5P;l96[b$T]-=Q_$;}}y0T[g9A]["_accbp " + I62.name]=G4S.slice();y0T[g9A][q60 + I62.name]=l96.slice();if(g9A < f1L)continue;x_S.u4X(156);var T8_=x_S.D45(2,35,15,17);x_S.u4X(58);var v2O=x_S.k5y(62,9,9,6);x_S.T7s(4);var P26=x_S.D45(20,8,14);x_S.T7s(5);var I0C=x_S.k5y(37,5);I9p=n03 * G4S[0] / l96[0] + R85 * G4S[T8_] / l96[v2O] + Q8R * G4S[P26] / l96["2" << I0C];x_S.u4X(65);g6Y=x_S.D45(n03,R85,Q8R);x_S.u4X(112);y0T[g9A]["Result " + I62.name]=x_S.D45(g6Y,100,I9p);}};X9$.Studies.studyLibrary=X9$.extend(X9$.Studies.studyLibrary,{Ultimate:{name:"Ultimate Oscillator",calculateFN:X9$.Studies.calculateUltimateOscillator,inputs:{"Cycle 1":7,"Cycle 2":14,"Cycle 3":+"28"},parameters:{init:{studyOverZonesEnabled:!!({}),studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:+"30",studyOverSoldColor:B4Z}}}});}};A0=I5C=>{var N7H=l9y8Y;N7H.Y$C();var v7X,r_E,J1k,N53,h$Q,K1a,n3p;v7X=typeof _CIQ !== "undefined"?_CIQ:I5C.CIQ;if(!v7X.Studies){r_E="valuationLines feature ";r_E+="requires first activating studies featu";r_E+="re.";console.error(r_E);}else {J1k="#f";J1k+="ff";J1k+="69";J1k+="e";N53="#";N53+="85c9";N53+="9e";h$Q="#00a";h$Q+="fed";K1a="harm";K1a+="onic";n3p="Valuati";n3p+="on Lines";v7X.Studies.calculateValuationLines=function(C5L,S5c,c1I){var V47,q0E,e90,n5_,p_w,C1B,o0E,V89,e6Q,u4m,D1i,R$u,a4c,a2_,o4W,j07,O_k;V47="Display ";V47+="3 ";V47+="Standard Devi";V47+="ation (3\u03C3)";q0E=S5c.inputs.Field == "field"?"Close":S5c.inputs.Field;e90=S5c.inputs["Average Type"];n5_=S5c.inputs["Display Average"];p_w=S5c.inputs["Display 1 Standard Deviation (1\u03C3)"];C1B=S5c.inputs["Display 2 Standard Deviation (2\u03C3)"];o0E=S5c.inputs[V47];V89=[];for(var K15=0;K15 < c1I.length;++K15){if(c1I[K15] && !isNaN(c1I[K15][q0E])){V89.push(c1I[K15][q0E]);}}e6Q=(function(u0o,B7N){var k$5,O$0,d3q,p5p,w8L,A4n,N6E;k$5="ha";k$5+="r";k$5+="mon";k$5+="ic";O$0=u0o.length;d3q=0;p5p=0;w8L=0;switch(B7N){case "mean":p5p=O$0;for(;w8L < O$0;++w8L){d3q+=u0o[w8L];}break;case k$5:d3q=O$0;for(;w8L < O$0;++w8L){N7H.u4X(137);var Q$I=N7H.k5y(0,16,10,5);p5p+=Q$I / u0o[w8L];}break;case "median":N7H.u4X(12);A4n=Math.floor(N7H.k5y(O$0,2));N6E=u0o.slice().sort(function(T_Z,d3C){if(T_Z > d3C){return 1;}if(T_Z < d3C){return -1;}return 0;});if(O$0 % ("2" | 2) === 0){N7H.u4X(180);var c08=N7H.D45(24,2,2,20,5);d3q=N6E[A4n] + N6E[A4n - c08];p5p=2;}else {d3q=N6E[A4n];p5p=+"1";}break;}N7H.T7s(12);return N7H.D45(d3q,p5p);})(V89,e90);u4m=!(p_w || C1B || o0E) || (function(B7c,x8B){var n5$,S1p;n5$=B7c.length;S1p=0;for(var w8n=0;w8n < n5$;++w8n){S1p+=Math.pow(B7c[w8n] - x8B,2);}N7H.u4X(12);return Math.sqrt(N7H.k5y(S1p,n5$));})(V89,e6Q);S5c.data={Average:n5_?[e6Q]:null,"1 Standard Deviation (1\u03C3)":p_w?[e6Q + u4m,e6Q - u4m]:null,"2 Standard Deviation (2\u03C3)":C1B?[e6Q + u4m * 2,e6Q - u4m * 2]:null,"3 Standard Deviation (3\u03C3)":o0E?[e6Q + u4m * +"3",e6Q - u4m * 3]:null};D1i=u4m;if(!S5c.parameters){S5c.parameters={};}if(o0E){N7H.T7s(181);S5c.parameters.range=[N7H.D45(D1i,u4m,e6Q,3),N7H.D45(D1i,e6Q,u4m,3,N7H.T7s(182))];}else if(C1B){N7H.T7s(181);S5c.parameters.range=[N7H.k5y(D1i,u4m,e6Q,2),N7H.D45(D1i,e6Q,u4m,2,N7H.T7s(182))];}else if(p_w){N7H.T7s(75);S5c.parameters.range=[N7H.k5y(e6Q,u4m,D1i),N7H.k5y(e6Q,u4m,D1i,N7H.u4X(65))];}else if(n5_){N7H.u4X(5);S5c.parameters.range=[N7H.k5y(e6Q,D1i),N7H.k5y(e6Q,D1i,N7H.u4X(3))];}if(S5c.panel){R$u=C5L.panels[S5c.panel];a4c=1572037487;a2_=1923038974;N7H.u4X(5);o4W=N7H.D45("2",0);for(var V6I=1;N7H.U3Y(V6I.toString(),V6I.toString().length,9021) !== a4c;V6I++){j07=C5L.getYAxisByName(R$u,S5c.name);o4W+=2;}if(N7H.U3Y(o4W.toString(),o4W.toString().length,15712) !== a2_){j07=C5L.getYAxisByName(R$u,S5c.name);}if(j07){j07.decimalPlaces=R$u.chart.yAxis.printDecimalPlaces;O_k={yAxis:j07};C5L.calculateYAxisRange(R$u,j07,S5c.parameters.range[0],S5c.parameters.range[1]);C5L.createYAxis(R$u,O_k);C5L.drawYAxis(R$u,O_k);}}};v7X.Studies.displayValuationLines=function(g$P,p3f){var A$D,S$$,U40,m13,j$L,F5g,m03,l9N,U2x,V4n,u99,K2t,X3_,t2r,i9l,u4h,R9w,E$s,s0A,w$Q,s__,k6Q,d7T,Z86,D28,S0h,E3Z,o_X,D95,n7Y,R4l;A$D="ci";A$D+="q-valuation-deviation-line";S$$="ciq-";S$$+="valuat";S$$+="ion-aver";S$$+="age-line";U40="H";U40+="AV";U40+="G";m13="M";m13+="ED";j$L=g$P.panels[p3f.panel];F5g=p3f.getYAxis(g$P);m03=p3f.getContext(g$P);l9N=p3f.data;U2x=p3f.parameters.labels;V4n=p3f.inputs["Average Type"];u99={mean:"AVG",median:m13,harmonic:U40};K2t=g$P.canvasStyle(S$$);X3_=g$P.canvasStyle(A$D);t2r=3;N7H.T7s(71);var i3t=N7H.D45(5,102,18,2);i9l=g$P.getCanvasFontSize("stx_yaxis") + t2r * i3t;N7H.r8O();for(var J7N in l9N){if(!l9N[J7N])continue;N7H.T7s(183);u4h=N7H.D45(J7N,"Average");R9w=v7X.Studies.determineColor(p3f.outputs[J7N]);E$s=l9N[J7N];for(s0A=0;s0A < E$s.length;++s0A){D28="l";D28+="e";D28+="f";D28+="t";S0h=":";S0h+=" ";E3Z="d";E3Z+="as";E3Z+="h";E3Z+="ed";o_X="das";o_X+="h";o_X+="ed";D95="no";D95+="n";D95+="e";n7Y="s";n7Y+="ol";n7Y+="i";n7Y+="d";w$Q=E$s[s0A];s__=g$P.pixelFromPrice(w$Q,j$L,F5g);if(s__ <= j$L.top || s__ >= j$L.yAxis.bottom)continue;Z86=u4h?{pattern:K2t.borderStyle != "none"?K2t.borderStyle || "solid":n7Y,lineWidth:parseFloat(K2t.borderWidth) || 1,opacity:parseFloat(K2t.opacity) || 1,yAxis:F5g}:{pattern:X3_.borderStyle != D95?X3_.borderStyle || o_X:E3Z,lineWidth:parseFloat(X3_.borderWidth) || 1,opacity:parseFloat(X3_.opacity) || 1,yAxis:F5g};g$P.plotLine(j$L.left,j$L.right,s__,s__,R9w,"line",m03,j$L,Z86);if(U2x === "yaxis"){g$P.createYAxisLabel(j$L,g$P.formatYAxisPrice(w$Q,j$L),s__,R9w,null,m03,F5g);continue;}s__+=Math.floor(Z86.lineWidth / 2);if(s__ + i9l >= j$L.yAxis.bottom)continue;k6Q=(u4h?u99[V4n] + S0h:J7N[0] + "\u03C3: ") + g$P.formatYAxisPrice(w$Q,j$L);d7T=m03.measureText(k6Q).width;R4l=j$L.right - d7T - t2r;if(F5g && F5g.position == D28){R4l=j$L.left + t2r;}N7H.T7s(184);m03.strokeText(k6Q,R4l,N7H.k5y(i9l,"0.5",1,"2",s__));}}};v7X.Studies.studyLibrary=v7X.extend(v7X.Studies.studyLibrary,{"val lines":{name:n3p,calculateFN:function(){},seriesFN:function(H5x,u2t,x8S){v7X.Studies.calculateValuationLines(H5x,u2t,x8S);v7X.Studies.displayValuationLines(H5x,u2t);},overlay:!![],yAxisFN:function(){},inputs:{Field:"field","Average Type":["mean","median",K1a],"Display Average":!!1,"Display 1 Standard Deviation (1\u03C3)":!({}),"Display 2 Standard Deviation (2\u03C3)":!!0,"Display 3 Standard Deviation (3\u03C3)":!"1"},outputs:{Average:h$Q,"1 Standard Deviation (1\u03C3)":"#e1e1e1","2 Standard Deviation (2\u03C3)":N53,"3 Standard Deviation (3\u03C3)":J1k}}});}};r2=F7H=>{var k0W=l9y8Y;var b_e,H1p,n5S,V1g,O$P,M$M;k0W.r8O();b_e="undefin";b_e+="ed";H1p=typeof _CIQ !== b_e?_CIQ:F7H.CIQ;if(!H1p.Studies){console.error("volatilityIndex feature requires first activating studies feature.");}else {n5S="im";n5S+="pl";n5S+="ie";n5S+="d";V1g="h";V1g+="ist";V1g+="orica";V1g+="l";O$P="Relative Vola";O$P+="tility";M$M="H";M$M+="istorical Vola";M$M+="tilit";M$M+="y";H1p.Studies.calculateRelativeVolatility=function(M83,Y5f){var b8T,n96,X2l,P8I,J6r,U4$,U0I,m48,r1X,C7O,u4J;b8T="Clo";b8T+="s";function E8d(l0l,M2w){if(l0l + M2w === +"0"){k0W.T7s(44);return k0W.k5y("100",36);}k0W.T7s(185);return k0W.D45(M2w,l0l,100,l0l);}b8T+="e";n96="Smoothing Peri";n96+="od";Y5f.days=Number(Y5f.inputs[n96]);X2l=Number(Y5f.inputs["STD Period"]);P8I=Y5f.chart.scrubbed;if(P8I.length < Y5f.days + X2l){Y5f.error=!![];return;}J6r=Y5f.inputs.Field;k0W.Y$C();if(!J6r || J6r == "field"){J6r=b8T;}Y5f.std=new H1p.Studies.StudyDescriptor(Y5f.name,"sdev",Y5f.panel);Y5f.std.chart=Y5f.chart;Y5f.std.days=X2l;Y5f.std.startFrom=Y5f.startFrom;Y5f.std.inputs={Field:J6r,"Standard Deviations":1,Type:"ma"};Y5f.std.outputs={_STD:null};H1p.Studies.calculateStandardDeviation(M83,Y5f.std);U4$=0;U0I=+"0";if(Y5f.startFrom > 1){U4$=P8I[Y5f.startFrom - 1]["_avgG " + Y5f.name] || 0;U0I=P8I[Y5f.startFrom - 1]["_avgL " + Y5f.name] || 0;}for(var O62=Math.max(Y5f.startFrom,Y5f.days);O62 < P8I.length;O62++){m48="_avg";m48+="G";m48+=" ";r1X=P8I[O62];k0W.u4X(5);C7O=P8I[k0W.D45(O62,1)];if(!r1X[J6r] && r1X[J6r] !== 0)continue;if(!C7O[J6r] && C7O[J6r] !== 0)continue;if(!r1X["_STD " + Y5f.name] && r1X["_STD " + Y5f.name] !== 0)continue;if(r1X[J6r] > C7O[J6r]){u4J="_";u4J+="S";u4J+="T";u4J+="D ";U4$=(U4$ * (Y5f.days - ("1" - 0)) + r1X[u4J + Y5f.name]) / Y5f.days;k0W.T7s(85);var o8z=k0W.k5y(15,16);U0I=U0I * (Y5f.days - o8z) / Y5f.days;}else {k0W.u4X(73);var R2a=k0W.D45(19,4,7,29);U0I=(U0I * (Y5f.days - R2a) + r1X["_STD " + Y5f.name]) / Y5f.days;k0W.T7s(6);var M5j=k0W.D45(3,7,0,9);U4$=U4$ * (Y5f.days - M5j) / Y5f.days;}r1X["Rel Vol " + Y5f.name]=E8d(U4$,U0I);r1X[m48 + Y5f.name]=U4$;r1X["_avgL " + Y5f.name]=U0I;}Y5f.zoneOutput="Rel Vol";};H1p.Studies.calculateHistoricalVolatility=function(T44,f6c){var r0J,m6Q,d3f,A93,q$m,F7l,n9C,P6R,s8l,a91,l3u;r0J="Days Pe";r0J+="r Yea";r0J+="r";m6Q="Standar";m6Q+="d Deviatio";m6Q+="ns";d3f=f6c.chart.scrubbed;if(d3f.length < f6c.days + +"1"){f6c.error=!!"1";return;}A93=f6c.inputs.Field;if(!A93 || A93 == "field"){A93="Close";}q$m=f6c.inputs[m6Q];if(q$m < 0){q$m=1;}F7l=+"100" * Math.sqrt(l21(f6c.inputs[r0J])) * q$m;n9C=[];P6R=0;if(f6c.startFrom > 1){k0W.T7s(8);var v31=k0W.D45(0,5,6);P6R=d3f[f6c.startFrom - v31]["_state " + f6c.name][0];n9C=d3f[f6c.startFrom - 1]["_state " + f6c.name][1].slice();}for(var x8h=Math.max(1,f6c.startFrom);x8h < d3f.length;x8h++){k0W.u4X(5);s8l=d3f[k0W.D45(x8h,1)][A93];if(s8l){a91=Math.log(d3f[x8h][A93] / s8l);n9C.push(a91);P6R+=a91;if(x8h >= f6c.days){l3u=0;P6R/=f6c.days;for(var i74=0;i74 < n9C.length;i74++){l3u+=Math.pow(n9C[i74] - P6R,2);}P6R*=f6c.days;P6R-=n9C.shift();d3f[x8h]["Result " + f6c.name]=Math.sqrt(l3u / f6c.days) * F7l;}}d3f[x8h]["_state " + f6c.name]=[P6R,n9C.slice()];}function l21(H5w){if(isNaN(H5w)){H5w=365;}if(T44.layout.interval == "day"){return H5w;}else if(T44.layout.interval == "week"){return 52;}else if(T44.layout.interval == "month"){return +"12";}k0W.Y$C();return H5w;}};H1p.Studies.calculateVolatilityCone=function(A5V,l45){var E23,m2E,w22,a3z,h_v,v8M,Z3J,f6F,v9j,b7h,w9e,j3G,W2b,j9X,b41,G6y,W44,O9q;E23="fi";E23+="eld";m2E="w";m2E+="ee";m2E+="k";w22="Projec";w22+="tion Bars";var {periodicity:d8S, interval:r_Q}=A5V.layout;a3z=l45.study?l45.study.name:l45.type;if(!H1p.ChartEngine.isDailyInterval(r_Q)){k0W.T7s(65);l45.error=`${a3z}${k0W.D45(" is not supported for"," intraday periodiciti","es")}`;return;}h_v=Number(l45.inputs[w22]);v8M=Number(l45.inputs["Days Per Year"]);if(r_Q == m2E){k0W.T7s(10);v8M=k0W.D45("52",1);}if(r_Q == "month"){v8M=12;}h_v=Math.min(h_v,v8M);Z3J=l45.chart.scrubbed;f6F=l45.inputs.Field;if(!f6F || f6F == E23){f6F="Close";}k0W.u4X(21);var L_A=k0W.k5y(1,13,118,9);v9j=Z3J.length - L_A;while(v9j > 0 && Z3J[v9j][f6F] === undefined){v9j--;}b7h=Z3J[v9j].DT;w9e=Z3J[v9j][f6F];j3G=Z3J[v9j].implVol;k0W.T7s(186);W2b=k0W.k5y("60","1000",24,60);j9X=l45.inputs["Volatility source"] === "historical";if(!j9X && j3G === undefined){l45.error=`${a3z} Study: Implied Volatility source data is not available`;return;}l45._graphs=[68,"95" ^ 0].filter((W7f,h$R)=>{k0W.T7s(3);return l45.inputs[`Probability ${W7f}% (${k0W.D45(h$R,1)})`];});b41=[];k0W.Y$C();if(!j9X && r_Q === "day" && d8S === 1){G6y=Z3J[v9j].expiryDates || Array.from(new Set(Object.values(Z3J[v9j].optionChain || ({})).map(({expiration:M99})=>{k0W.r8O();return +(M99 && M99.value || M99 || 0);}).filter(P5Q=>{return P5Q;})));l45._expiryDates=G6y.map(s6y=>{return {dt:new Date(s6y)};});}else {l45._expiryDates=null;}for(var W3W=+"0";W3W <= h_v;W3W++){if(Z3J[W3W + v9j])continue;b41.push({[l45.inputs["Probability 68% (1)"] && "Result 68% Upper " + l45.name || undefined]:0,[l45.inputs["Probability 95% (2)"] && "Result 95% Upper " + l45.name || undefined]:0});}l45.appendFutureTicks(A5V,b41);if(j9X){H1p.Studies.calculateHistoricalVolatility(A5V,l45);}W44=j9X?Z3J[v9j][`${"Re" + "su" + "l" + "t "}${l45.name}`] / 100:j3G;O9q=function(J3c){var I6X,P_f,o2o;k0W.u4X(3);I6X=Z3J[k0W.D45(J3c,v9j)];k0W.Y$C();P_f=v8M < 365?J3c:Math.round((I6X.DT - b7h) / W2b);o2o=w9e * W44 * Math.sqrt(P_f / v8M);var {DT:Q2A}=I6X;l45._graphs.forEach(function(b$S){var M3C,o8E;var {quote:F3G, diff:w$C, currentValue:j1Y, sd:s0r}=this;k0W.u4X(99);k0W.r8O();M3C=k0W.k5y(b$S < 95?1:2,w$C,j1Y);k0W.T7s(23);o8E=k0W.D45(j1Y,w$C,b$S < 95?1:"2" | 0);k0W.u4X(83);F3G[`${k0W.k5y("lt","Re","su"," ")}${b$S}${k0W.k5y("% ","Uppe","r ",k0W.T7s(65))}${s0r.name}`]=M3C;F3G[`Result ${b$S}% Lower ${s0r.name}`]=o8E;(s0r._expiryDates || []).forEach(Q$Y=>{var Q4I,I8e,i1x,n_w;if(Q$Y.dt < b7h){return;}k0W.Y$C();Q4I=Math.abs(Q$Y.dt - Q2A);if(Q4I < W2b){Q$Y.Upper=M3C;Q$Y.Lower=o8E;I8e=+"456362320";i1x=+"710945211";n_w=2;for(var g8V=1;k0W.L3M(g8V.toString(),g8V.toString().length,+"4080") !== I8e;g8V++){Q$Y.DT=Q2A;n_w+=+"2";}if(k0W.U3Y(n_w.toString(),n_w.toString().length,19138) !== i1x){Q$Y.DT=Q2A;}}});},{quote:I6X,diff:o2o,currentValue:w9e,sd:l45});};for(var C2T=0;C2T <= h_v;C2T++){O9q(C2T);}l45.outputMap={};l45._graphs.forEach(K8V=>{var m7v;m7v="C";m7v+="o";m7v+="l";m7v+="or";k0W.u4X(3);l45.outputMap[`${k0W.D45("Res","ult ")}${K8V}${k0W.D45("Up","%"," ","per ",k0W.T7s(83))}${l45.name}`]="Color";k0W.Y$C();l45.outputMap[`Result ${K8V}% Lower ${l45.name}`]=m7v;});};H1p.Studies.displayVolatilityCone=function(q94,N68,C8w){var E5Z,B7l,e6X,o3Y,j8X;if(N68.error){return;}E5Z=H1p.Studies.determineColor(N68.outputs.Color);B7l=q94.panels[N68.panel];if(!B7l || B7l.hidden){return;}e6X=N68.getYAxis(q94);o3Y={topColor:E5Z,bottomColor:E5Z,skipTransform:B7l.name != N68.chart.name,topAxis:e6X,bottomAxis:e6X,opacity:0.3};k0W.Y$C();if(!N68.highlight && q94.highlightedDraggable){o3Y.opacity*=0.3;}N68._graphs.forEach(V6N=>{o3Y.topBand=`Result ${V6N}% Upper ${N68.name}`;o3Y.bottomBand=`Result ${V6N}% Lower ${N68.name}`;if(N68.inputs.Fill){H1p.fillIntersecting(q94,N68.panel,o3Y);}H1p.Studies.displayIndividualSeriesAsLine(q94,N68,B7l,o3Y.topBand,C8w);H1p.Studies.displayIndividualSeriesAsLine(q94,N68,B7l,o3Y.bottomBand,C8w);});if(N68._expiryDates){j8X=q94.chart.context;q94.startClip();j8X.beginPath();N68._expiryDates.forEach(V9H=>{var p6U,T3z,V9X;if(!V9H.DT){return;}p6U=q94.pixelFromDate(V9H.DT);k0W.r8O();T3z=q94.pixelFromPrice(V9H.Upper,B7l);V9X=q94.pixelFromPrice(V9H.Lower,B7l);q94.plotLine({x0:p6U,x1:p6U,y0:T3z,y1:V9X,color:E5Z,pattern:"dashed"});j8X.moveTo(p6U,T3z);j8X.arc(p6U,T3z,+"3",0,Math.PI * ("2" << 32),!!0);j8X.moveTo(p6U,V9X);j8X.arc(p6U,V9X,3,0,Math.PI * ("2" ^ 0),!({}));j8X.fillStyle=E5Z;j8X.fill();});q94.endClip();}};H1p.Studies.studyLibrary=H1p.extend(H1p.Studies.studyLibrary,{"Hist Vol":{name:M$M,calculateFN:H1p.Studies.calculateHistoricalVolatility,inputs:{Period:10,Field:"field","Days Per Year":[252,365],"Standard Deviations":1},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Rel Vol":{name:O$P,range:"0 to 100",calculateFN:H1p.Studies.calculateRelativeVolatility,inputs:{Field:"field","STD Period":10,"Smoothing Period":14},outputs:{"Rel Vol":"auto"},centerline:50,parameters:{init:{studyOverZonesEnabled:!!"1",studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:"auto"}}},"Volatility Cone":{name:"Volatility Cone",overlay:!!"1",calculateFN:H1p.Studies.calculateVolatilityCone,seriesFN:H1p.Studies.displayVolatilityCone,inputs:{"Volatility source":[V1g,n5S],"Probability 68% (1)":!!"1","Probability 95% (2)":![],"Projection Bars":20,"Days Per Year":[252,365],Field:"field",Period:10,"Standard Deviations":+"1",Fill:!!({})},outputs:{Color:"#3a627d"},panelSelect:!!"",attributes:{"Volatility source":{hidden:function(){return !H1p.Studies.impliedVolatilityAvailable;}},Field:{hidden:function(){k0W.r8O();return this.inputs["Volatility source"] === "Implied";}},"Standard Deviations":{hidden:function(){var E1r;k0W.Y$C();E1r="I";E1r+="mpli";E1r+="ed";return this.inputs["Volatility source"] === E1r;}},yaxisDisplayValue:{hidden:!!1},panelName:{hidden:!!1},flippedEnabled:{hidden:!![]},underlayEnabled:{hidden:!!({})}}}});}};i0=R5h=>{var k1E,T$o,N4d;k1E=typeof _CIQ !== "undefined"?_CIQ:R5h.CIQ;if(!k1E.Studies){console.error("volumeProfile feature requires first activating studies feature.");}else {T$o="#";T$o+="b";T$o+="6";T$o+="4a96";N4d="Vol";N4d+="ume P";N4d+="rof";N4d+="ile";k1E.Studies.displayVolumeProfile=function(p2g,H8g,u_r){var U$U=l9y8Y;var s$b,j4K,t5W,C1S,C9s,a$$,i2G,P8s,t9G,Q3l,u2a,y4p,R4u,a69,c2Z,z60,T69,K7T,e40;if(!p2g || !p2g.chart.dataSet){return;}s$b="stx_volume_profile";j4K="stx-";j4K+="floa";j4K+="t-date";t5W=H8g.getContext(p2g);var {chart:i_3}=p2g;var {panel:T$z}=i_3;var {yAxis:X_D}=T$z;var {flipped:J4b}=X_D;var {highValue:V9E, lowValue:Y5P}=i_3;var {displayBorder:Q8O = H8g.inputs["Display Border"], displayVolume:K1J = H8g.inputs["Display Volume"], widthPercentage:J$Q = H8g.inputs["Width Percentage"], numberBars:t9s = H8g.inputs["Price Buckets"]}=H8g.parameters;if(Q8O !== !({})){Q8O=!0;}if(K1J !== !!1){K1J=!1;}if(!J$Q || J$Q < 0){J$Q=0.25;}function z4g(l7V){var u1$,P1h,C88,w7e,C7I,o7K,Y3Y,t9W,l_P,h4S,L1E,D8A,D2v,p2J,w1O,O5V,F8s;p2g.canvasColor(s$b);t5W.beginPath();u1$=z5W=>{U$U.r8O();return Math.round(z5W);};P1h=V_B=>{U$U.Y$C();return u1$(p2g.pixelFromTransformedValue(V_B));};C88=u1$(i_3.width * J$Q);U$U.Y$C();w7e=u1$(i_3.right) - ("2.5" - 0);C7I=w7e;var [h8U]=C9s[0];for(var a$c=1;a$c < C9s.length;a$c++){var [E2R,x7j]=C9s[a$c];if(x7j){U$U.u4X(112);o7K=U$U.k5y(i2G,x7j,C88);U$U.u4X(187);var G2u=U$U.D45(11,2,14,3,2);Y3Y=u1$(w7e - o7K) + (l7V?-("0.5" * G2u):0);U$U.u4X(73);var n5T=U$U.k5y(3,20,20,42);t9W=P1h(E2R) + (l7V?0.5:n5T);l_P=P1h(h8U) + (l7V?0.5:"0" - 0);h4S=Math.max(t9W,X_D.top);L1E=Math.min(l_P,X_D.bottom);D8A=h4S <= X_D.bottom && L1E >= X_D.top;if(D8A){t5W.moveTo(w7e,L1E);t5W.lineTo(w7e,h4S);t5W.lineTo(Y3Y,h4S);t5W.lineTo(Y3Y,L1E);if(l7V){if(a$c == "1" >> 32 || C7I > Y3Y){t5W.lineTo(C7I,L1E);}}else {t5W.lineTo(w7e,L1E);if(K1J){D2v=k1E.condenseInt(x7j);U$U.u4X(5);p2J=U$U.k5y(L1E,h4S);if(T69 <= p2J - 2){w1O="t";w1O+="o";w1O+="p";O5V=void 0;try{({width:O5V}=t5W.measureText(D2v));}catch(o2z){U$U.u4X(27);O5V=U$U.D45(0,"0");}t5W.textBaseline=w1O;F8s=t5W.fillStyle;t5W.fillStyle=K7T;U$U.u4X(75);t5W.fillText(D2v,U$U.D45(Y3Y,O5V,3),U$U.k5y(h4S,"2",2,T69,p2J,U$U.u4X(188)));t5W.fillStyle=F8s;}}}}C7I=Y3Y;}else {C7I=w7e;;}h8U=E2R;}if(!H8g.highlight && p2g.highlightedDraggable){t5W.globalAlpha*=0.3;}if(!l7V){t5W.fill();}t5W.strokeStyle=K7T;if(l7V){t5W.stroke();}t5W.closePath();}U$U.r8O();if(!t9s || t9s < 0){U$U.T7s(44);t9s=U$U.D45("30",28);}t9s=Math.ceil(t9s);U$U.u4X(29);C1S=U$U.D45(V9E,t9s,Y5P);if(C1S === 0){return;}C9s=[];if(J4b){[V9E,Y5P]=[Y5P,V9E];}a$$=J4b?-1:"1" << 64;for(var U1Y=Y5P,W9U=0;W9U <= t9s;(U1Y+=C1S * a$$,W9U++)){C9s.push([U1Y,0]);}i2G=0;for(var r1t=0;r1t < u_r.length;r1t++){P8s=u_r[r1t];if(P8s === null)continue;var {Volume:f8T}=P8s;if(!f8T)continue;var {High:n3r, Low:f6q}=P8s.transform || P8s;t9G=[];U$U.T7s(44);Q3l=C9s[0][U$U.k5y("0",0)];u2a=null;for(var C6Z=1;C6Z < C9s.length;C6Z++){u2a=C9s[C6Z][0];y4p=f6q >= Q3l && f6q <= u2a;R4u=n3r >= Q3l && n3r <= u2a;a69=f6q < Q3l && n3r > u2a;if(y4p || R4u || a69){t9G.push(C6Z);}Q3l=u2a;}if(t9G.length){c2Z=f8T / t9G.length;for(var j1G=+"0";j1G < t9G.length;j1G++){z60=C9s[t9G[j1G]][1]+=c2Z;if(z60 > i2G){i2G=z60;}}}}if(i2G === 0){p2g.displayErrorAsWatermark("chart",p2g.translateIf("Not enough data to render the Volume Profile"));return;}p2g.setStyle(s$b,"color",k1E.Studies.determineColor(H8g.outputs["Bars Color"]));T69=p2g.getCanvasFontSize(j4K);K7T=p2g.canvasStyle(s$b).borderTopColor;e40=Q8O && !k1E.isTransparent(K7T);p2g.canvasFont(j4K,t5W);z4g();if(e40){z4g(!"");}t5W.globalAlpha=1;};k1E.Studies.studyLibrary=k1E.extend(k1E.Studies.studyLibrary,{"vol profile":{name:N4d,underlay:!!1,seriesFN:k1E.Studies.displayVolumeProfile,calculateFN:null,inputs:{"Display Border":!!({}),"Display Volume":!({}),"Price Buckets":30,"Width Percentage":+"0.25"},outputs:{"Bars Color":T$o},customRemoval:!"",attributes:{yaxisDisplayValue:{hidden:!!1},panelName:{hidden:!!"1"},flippedEnabled:{hidden:!!1}}}});}};C8=Y2n=>{var X3a,y0t,s4E,k9W,n$U,H9C,E_R,y2e;X3a=typeof _CIQ !== "undefined"?_CIQ:Y2n.CIQ;if(!X3a.Studies){console.error("volumeStudies feature requires first activating studies feature.");}else {y0t="n";y0t+="o";y0t+="ne";s4E="Tr";s4E+="ade Volum";s4E+="e ";s4E+="Index";k9W="#";k9W+="FF00";k9W+="00";n$U="a";n$U+="u";n$U+="to";H9C="m";H9C+="a";E_R="a";E_R+="u";E_R+="to";y2e="Negative Volume";y2e+=" ";y2e+="In";y2e+="dex";X3a.Studies.calculateOnBalanceVolume=function(n05,X9l){var L$O,F08,c4C,e06,m7A,G6d,R0a,N9v;L$O=X9l.inputs.Field;if(!L$O || L$O == "field"){L$O="Close";}F08=X9l.inputs["Min Tick Value"];c4C=!!"";if(!F08 && F08 !== 0){c4C=!!1;F08=0;}e06=X9l.chart.scrubbed;m7A=0;for(var W5u=X9l.startFrom;W5u < e06.length;W5u++){G6d=e06[W5u];if(!W5u || !G6d[L$O])continue;if(e06[W5u - ("1" ^ 0)][L$O]){l9y8Y.T7s(5);R0a=e06[l9y8Y.k5y(W5u,1)];}if(!R0a)continue;if(G6d[L$O] - R0a[L$O] > F08){m7A=1;}else if(R0a[L$O] - G6d[L$O] > F08){m7A=-1;}else if(c4C){m7A=+"0";}N9v=R0a["Result " + X9l.name];if(!N9v){N9v=+"0";}N9v+=G6d.Volume * m7A;G6d["Result " + X9l.name]=N9v;}};X3a.Studies.calculatePriceVolumeTrend=function(u7r,r4H){var P52=l9y8Y;var d5l,I$n,i8I,z9I,W4D,y$X,U5L;d5l="Cl";d5l+="ose";I$n=r4H.inputs.Field;if(!I$n || I$n == "field"){I$n=d5l;}i8I=r4H.chart.scrubbed;z9I=0;if(r4H.startFrom > 1){W4D=1665491586;y$X=-+"1824315570";U5L=+"2";for(var B0D=1;P52.L3M(B0D.toString(),B0D.toString().length,97867) !== W4D;B0D++){P52.u4X(189);var C6t=P52.D45(17,11,19,19,6);z9I=i8I[r4H.startFrom - C6t]["Result " + r4H.name];U5L+=2;}if(P52.U3Y(U5L.toString(),U5L.toString().length,67448) !== y$X){P52.u4X(190);var p3h=P52.D45(13,97,4,7,0);z9I=i8I[r4H.startFrom * p3h]["" % r4H.name];}}for(var c6q=Math.max(1,r4H.startFrom);c6q < i8I.length;c6q++){if(!i8I[c6q][I$n])continue;if(!i8I[c6q - 1][I$n])continue;P52.u4X(191);var g5z=P52.k5y(5,0,17,52,15);z9I+=i8I[c6q].Volume * (i8I[c6q][I$n] - i8I[c6q - g5z][I$n]) / i8I[c6q - ("1" | 0)][I$n];i8I[c6q]["Result " + r4H.name]=z9I;}};X3a.Studies.calculateVolumeIndex=function(S4A,a2A){var N2P=l9y8Y;var z5p,j0e,D0g,u9M,X$v,h$n,N41,g4T,n7f,i21,Q4E,b8y,h5e;z5p="In";z5p+="dex";z5p+=" ";j0e="Moving Average Ty";j0e+="pe";D0g=a2A.inputs.Field;if(!D0g || D0g == "field"){D0g="Close";}u9M=a2A.chart.scrubbed;if(u9M.length < a2A.days + 1){X$v=98994291;h$n=2017557222;N41=2;for(var u_1=1;N2P.L3M(u_1.toString(),u_1.toString().length,55211) !== X$v;u_1++){a2A.error=!({});return;}if(N2P.L3M(N41.toString(),N41.toString().length,89541) !== h$n){a2A.error=!!({});return;}}g4T=100;if(a2A.startFrom > 1){N2P.T7s(5);var H2Q=N2P.D45(1,0);g4T=u9M[a2A.startFrom - H2Q]["Index " + a2A.name];}for(var o2f=Math.max(1,a2A.startFrom);o2f < u9M.length;o2f++){n7f="In";n7f+="d";n7f+="ex ";i21=u9M[o2f][D0g];Q4E=u9M[o2f].Volume;if(i21 && typeof i21 == "object"){Q4E=i21.Volume;i21=i21[a2A.subField];}N2P.u4X(5);b8y=u9M[N2P.k5y(o2f,1)][D0g];h5e=u9M[o2f - 1].Volume;if(b8y && typeof b8y == "object"){h5e=b8y.Volume;b8y=b8y[a2A.subField];}if(!i21)continue;if(!b8y)continue;if(a2A.type == "Pos Vol" && Q4E > h5e || a2A.type == "Neg Vol" && Q4E < h5e){N2P.u4X(12);g4T*=N2P.D45(i21,b8y);}u9M[o2f][n7f + a2A.name]=g4T;}X3a.Studies.MA(a2A.inputs[j0e],a2A.days,z5p + a2A.name,0,"MA",S4A,a2A);};X3a.Studies.studyLibrary=X3a.extend(X3a.Studies.studyLibrary,{"Neg Vol":{name:y2e,calculateFN:X3a.Studies.calculateVolumeIndex,inputs:{Period:255,Field:"field","Moving Average Type":"ma"},outputs:{Index:E_R,MA:"#FF0000"}},"On Bal Vol":{name:"On Balance Volume",calculateFN:X3a.Studies.calculateOnBalanceVolume,inputs:{}},"Pos Vol":{name:"Positive Volume Index",calculateFN:X3a.Studies.calculateVolumeIndex,inputs:{Period:255,Field:"field","Moving Average Type":H9C},outputs:{Index:n$U,MA:k9W}},"Price Vol":{name:"Price Volume Trend",calculateFN:X3a.Studies.calculatePriceVolumeTrend,inputs:{Field:"field"}},"Trade Vol":{name:s4E,calculateFN:X3a.Studies.calculateOnBalanceVolume,inputs:{"Min Tick Value":+"0.5"}},"Vol ROC":{name:"Volume Rate of Change",calculateFN:function(X$X,g5x){l9y8Y.Y$C();var v69;if(X3a.Studies.calculateRateOfChange){X3a.Studies.calculateRateOfChange(X$X,g5x);}else {v69="Volume Rate of Change st";v69+="udy requires first activating m";v69+="omentum feature.";console.error(v69);X3a.Studies.calculateRateOfChange=function(E5s,s0h){};}},parameters:{init:{isVolume:!![]}}},"vol undr":{name:"Volume Underlay",underlay:!!({}),range:"0 to max",yAxis:{ground:!![],initialMarginTop:0,position:y0t,heightFactor:0.25},seriesFN:X3a.Studies.createVolumeChart,calculateFN:X3a.Studies.calculateVolume,inputs:{},outputs:{"Up Volume":"#8cc176","Down Volume":"#b82c0c"},customRemoval:!!({}),removeFN:function(G8c,e24){G8c.layout.volumeUnderlay=!!0;G8c.changeOccurred("layout");},attributes:{panelName:{hidden:!![]}}}});}};E8=n_$=>{var l3s,J49,D4q,l5_,m9W;l3s="undef";l3s+="i";l3s+="ned";J49=typeof _CIQ !== l3s?_CIQ:n_$.CIQ;if(!J49.Studies){console.error("vortex feature requires first activating studies feature.");}else {D4q="0";D4q+=".0";D4q+="1";l5_="a";l5_+="u";l5_+="t";l5_+="o";m9W="Vortex";m9W+=" Indi";m9W+="c";m9W+="ator";J49.Studies.calculateVortex=function(I9I,y8N){var C09=l9y8Y;var K$J,G29,i3y,v0m,F8H,t3X,h8y,a7l,U1u,Y1J,c7J,K2i;K$J=y8N.chart.scrubbed;G29=y8N.days;C09.Y$C();if(K$J.length < G29 + +"1"){y8N.error=!![];return;}i3y={tr:"0" >> 64,vmPlus:0,vmMinus:"0" >> 0};if(y8N.startFrom > 1){i3y=J49.clone(K$J[y8N.startFrom - 1]["_totals " + y8N.name]);}for(var t6I=Math.max(y8N.startFrom,"1" * 1);t6I < K$J.length;t6I++){v0m="_";v0m+="t";v0m+="otals ";F8H="_Tr";F8H+="ue";F8H+=" Range ";t3X=K$J[t6I];C09.T7s(5);h8y=K$J[C09.D45(t6I,1)];a7l=Math.abs(t3X.High - h8y.Low);U1u=Math.abs(t3X.Low - h8y.High);Y1J=Math.max(t3X.High,h8y.Close) - Math.min(t3X.Low,h8y.Close);i3y.tr+=Y1J;i3y.vmPlus+=a7l;i3y.vmMinus+=U1u;if(t6I > G29){c7J="_VMM";c7J+="inus";c7J+=" ";C09.T7s(5);i3y.tr-=K$J[C09.D45(t6I,G29)]["_True Range " + y8N.name];C09.u4X(5);i3y.vmPlus-=K$J[C09.D45(t6I,G29)]["_VMPlus " + y8N.name];C09.T7s(5);i3y.vmMinus-=K$J[C09.D45(t6I,G29)][c7J + y8N.name];}t3X[F8H + y8N.name]=Y1J;t3X["_VMPlus " + y8N.name]=a7l;t3X["_VMMinus " + y8N.name]=U1u;if(t6I >= G29){K2i="-";K2i+="V";K2i+="I";K2i+=" ";t3X["+VI " + y8N.name]=i3y.vmPlus / i3y.tr;t3X[K2i + y8N.name]=i3y.vmMinus / i3y.tr;}t3X[v0m + y8N.name]=J49.clone(i3y);}};J49.Studies.studyLibrary=J49.extend(J49.Studies.studyLibrary,{Vortex:{name:m9W,calculateFN:J49.Studies.calculateVortex,centerline:1,outputs:{"+VI":"#00FF00","-VI":"#FF0000"},parameters:{init:{studyOverZonesEnabled:!!1,studyOverBoughtValue:1.1,studyOverBoughtColor:"auto",studyOverSoldValue:0.9,studyOverSoldColor:l5_}},attributes:{studyOverBoughtValue:{min:1,step:D4q},studyOverSoldValue:{max:1,step:"0.01"}}}});}};p_=T07=>{var G0X,J6y,V$i,E33;G0X="un";G0X+="def";G0X+="ined";J6y=typeof _CIQ !== G0X?_CIQ:T07.CIQ;if(!J6y.Studies){console.error("williamsMFI feature requires first activating studies feature.");}else {V$i="#";V$i+="8bc1";V$i+="76";E33="Marke";E33+="t Facilitation I";E33+="ndex";J6y.Studies.calculateMFI=function(A$Y,J6U){var o6e,D3M,C2u,w9R,r2D,p07;o6e=J6U.chart.scrubbed;C2u=0;w9R=J6U.inputs["Scale Factor"];if(!w9R){w9R=J6U.study.inputs["Scale Factor"];}r2D=Math.pow(10,Number(w9R));if(J6U.startFrom > 1){l9y8Y.u4X(4);var X4y=l9y8Y.D45(17,18,0);C2u=o6e[J6U.startFrom - X4y]["_high " + J6U.name];}for(p07=J6U.startFrom;p07 < o6e.length;p07++){if(!o6e[p07])continue;if(o6e[p07].Volume){o6e[p07][J6U.name + "_hist"]=D3M=r2D * (o6e[p07].High - o6e[p07].Low) / o6e[p07].Volume;o6e[p07]["_high " + J6U.name]=C2u=Math.max(C2u,D3M);}}J6U.outputMap={};J6U.outputMap[J6U.name + "_hist"]="";};J6y.Studies.displayMFI=function(O7P,G3O,H5g){var I52=l9y8Y;var a5e,o1z,M2_,q2a,R4Q,I6Q,J0B,e6G,R2u,j7M,d$h,W15,K7p,h0s,x9$;a5e="#";a5e+="C";I52.r8O();a5e+="CCCCC";o1z=O7P.panels[G3O.panel];M2_=G3O.getContext(O7P);q2a=G3O.getYAxis(O7P);R4Q=q2a.flipped?q2a.top:q2a.bottom;I52.u4X(5);var u8X=I52.k5y(36,34);I6Q=O7P.layout.candleWidth - u8X;if(I6Q < +"2"){I6Q=1;}J0B=J6y.Studies.determineColor(G3O.outputs.Green);e6G=J6y.Studies.determineColor(G3O.outputs.Fade);R2u=J6y.Studies.determineColor(G3O.outputs.Fake);j7M=J6y.Studies.determineColor(G3O.outputs.Squat);O7P.canvasColor("stx_histogram");if(!G3O.underlay){M2_.globalAlpha=1;}M2_.fillStyle=a5e;O7P.startClip(G3O.panel);if(!G3O.highlight && O7P.highlightedDraggable){M2_.globalAlpha*=0.3;}for(var b1o=0;b1o < H5g.length;b1o++){d$h="_";d$h+="hi";d$h+="st";W15="_";W15+="hi";W15+="s";W15+="t";K7p="_h";K7p+="i";K7p+="s";K7p+="t";h0s=H5g[b1o];I52.u4X(5);x9$=H5g[I52.D45(b1o,1)];if(!x9$){x9$=O7P.getPreviousBar(O7P.chart,G3O.name + "_hist",b1o);}if(!h0s)continue;if(!x9$);else if(x9$[G3O.name + K7p] < h0s[G3O.name + "_hist"]){if(x9$.Volume < h0s.Volume){M2_.fillStyle=J0B;}else if(x9$.Volume > h0s.Volume){M2_.fillStyle=R2u;}}else if(x9$[G3O.name + W15] > h0s[G3O.name + "_hist"]){if(x9$.Volume < h0s.Volume){M2_.fillStyle=j7M;}else if(x9$.Volume > h0s.Volume){M2_.fillStyle=e6G;}}if(h0s.candleWidth){I6Q=Math.floor(Math.max(1,h0s.candleWidth - 2));}M2_.fillRect(Math.floor(O7P.pixelFromBar(b1o,o1z.chart) - I6Q / 2),Math.floor(R4Q),Math.floor(I6Q),Math.floor(O7P.pixelFromPrice(h0s[G3O.name + d$h],o1z,q2a) - R4Q));}O7P.endClip();};J6y.Studies.studyLibrary=J6y.extend(J6y.Studies.studyLibrary,{"W MFI":{name:E33,seriesFN:J6y.Studies.displayMFI,calculateFN:J6y.Studies.calculateMFI,yAxis:{ground:!![]},range:"0 to max",inputs:{"Scale Factor":6},outputs:{Green:V$i,Fade:"#ab611f",Fake:"#5f7cb8",Squat:"#ffd0cf"}}});}};w9={CIQ:O6,SplinePlotter:H9,timezoneJS:s_,$$:x7,$$$:A5};export {I as aggregations};export {N as drawingAdvanced};export {Y as equationsAdvanced};export {o as highPerformanceMarkers};export {G as renderersAdvanced};export {Z as accumulationDistribution};export {g as adx};export {W as alligator};export {E as aroon};export {F as atr};export {Q as awesomeOscillator};export {X as balanceOfPower};export {U as bollinger};export {S as cci};export {U4 as centerOfGravity};export {m$ as chaikin};export {Q5 as chande};export {S2 as choppiness};export {j2 as comparisonStudies};export {S3 as coppock};export {a0 as darvasBox};export {Q$ as detrended};export {N1 as disparity};export {x8 as easeOfMovement};export {W3 as ehlerFisher};export {v4 as elder};export {Q6 as fractalChaos};export {C6 as goNoGo};export {p7 as highLowStudies};export {h3 as ichimoku};export {w1 as intradayMomentum};export {b0 as keltner};export {z$ as klinger};export {I5 as linearRegression};export {t0 as macd};export {v5 as massIndex};export {V8 as moneyFlow};export {o5 as movingAverages};export {P1 as parabolicSAR};export {X1 as pivotPoints};export {C3 as prettyGoodOscillator};export {s8 as priceMomentumOscillator};export {S1 as priceVolumeOscillator};export {D4 as primeNumber};export {D5 as pring};export {e4 as projectedVolume};export {V3 as psychologicalLine};export {z1 as qstick};export {F0 as rainbow};export {b_ as randomWalk};export {y5 as relativeVigor};export {j4 as rsi};export {M_ as schaffTrendCycle};export {N4 as shinohara};export {W2 as stochastics};export {X2 as supertrend};export {R5 as swingIndex};export {g1 as trendIntensity};export {R8 as trix};export {a5 as twiggsMoneyFlow};export {M7 as typicalPrice};export {r$ as ulcerIndex};export {w5 as ultimateOscillator};export {A0 as valuationLines};export {r2 as volatilityIndex};export {i0 as volumeProfile};export {C8 as volumeStudies};export {E8 as vortex};export {p_ as williamsMFI};export {O6 as CIQ, H9 as SplinePlotter, s_ as timezoneJS, x7 as $$, A5 as $$$};if(typeof __TREE_SHAKE__ === "undefined" || !__TREE_SHAKE__){w9.CIQ.activateImports(I,N,Y,o,G,Z,g,W,E,F,Q,X,U,S,U4,m$,Q5,S2,j2,S3,a0,Q$,N1,x8,W3,v4,Q6,C6,p7,h3,w1,b0,z$,I5,t0,v5,V8,o5,P1,X1,C3,s8,S1,D4,D5,e4,V3,z1,F0,b_,y5,j4,M_,N4,W2,X2,R5,g1,R8,a5,M7,r$,w5,A0,r2,i0,C8,E8,p_,null);}/* eslint-enable  */ /* jshint ignore:end   */ /* ignore jslint end   */
