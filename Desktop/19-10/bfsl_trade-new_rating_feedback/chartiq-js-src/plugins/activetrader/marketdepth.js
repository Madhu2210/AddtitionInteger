/**
 *	8.7.0
 *	Generation date: 2022-08-01T14:30:00.407Z
 *	Client name: bajaj financial services ltd
 *	Package Type: Technical Analysis e98f22c
 *	License type: annual
 *	Expiration date: "2022/12/31"
 *	Domain lock: ["127.0.0.1","localhost","bajajfinservsecurities.in"]
 *	iFrame lock: true
 */

/***********************************************************
 * Copyright by ChartIQ, Inc.
 * Licensed under the ChartIQ, Inc. Developer License Agreement https://www.chartiq.com/developer-license-agreement
*************************************************************/
/*************************************** DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! **************************************/
/* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting */
/* and load that file right after the library has been loaded, but before the chart engine is instantiated.              */
/* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          */
/*************************************************************************************************************************/
/* eslint-disable no-extra-parens */


/* eslint-disable */ /* jshint ignore:start */ /* ignore jslint start */
b_e8B[19588]=(function(){var t=2;for(;t !== 9;){switch(t){case 2:t=typeof globalThis === '\u006f\x62\x6a\x65\u0063\x74'?1:5;break;case 1:return globalThis;break;case 5:var n;try{var L=2;for(;L !== 6;){switch(L){case 2:Object['\x64\x65\u0066\x69\x6e\u0065\x50\x72\x6f\u0070\x65\u0072\x74\u0079'](Object['\x70\x72\u006f\u0074\x6f\x74\u0079\u0070\x65'],'\x6b\u007a\u0064\x73\u006d',{'\x67\x65\x74':function(){var Z=2;for(;Z !== 1;){switch(Z){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});n=kzdsm;n['\x76\x4f\u0059\x71\x35']=n;L=4;break;case 9:delete n['\x76\x4f\u0059\u0071\x35'];var v=Object['\x70\x72\u006f\x74\u006f\u0074\x79\x70\x65'];delete v['\x6b\u007a\u0064\u0073\x6d'];L=6;break;case 4:L=typeof vOYq5 === '\u0075\x6e\u0064\x65\u0066\u0069\x6e\x65\u0064'?3:9;break;case 3:throw "";L=9;break;}}}catch(M){n=window;}return n;break;}}})();S4925s(b_e8B[19588]);b_e8B.g1=function(){return typeof b_e8B[3116].h07Ms$L === 'function'?b_e8B[3116].h07Ms$L.apply(b_e8B[3116],arguments):b_e8B[3116].h07Ms$L;};b_e8B.q$=function(){return typeof b_e8B[182467].X9xfeQe === 'function'?b_e8B[182467].X9xfeQe.apply(b_e8B[182467],arguments):b_e8B[182467].X9xfeQe;};b_e8B.t9j=function(){return typeof b_e8B[477113].b9fNb$G === 'function'?b_e8B[477113].b9fNb$G.apply(b_e8B[477113],arguments):b_e8B[477113].b9fNb$G;};b_e8B[553805]=(function(){function u9(d3,I0,D1,Y5,z0){var z7=2;for(;z7 !== 15;){switch(z7){case 12:return false;break;case 9:z7=Y5 > 0?8:19;break;case 8:t8=n2.j0NuYL(d3,Y5);e6=t8.length;z7=6;break;case 1:m9=i9[d0([12,15,3,1,20,9,15,14])];!u3 && (u3=typeof m9 !== "undefined"?m9[d0([8,15,19,20,14,1,13,5])] || ' ':"");!x3 && (x3=typeof m9 !== "undefined"?m9[d0([8,18,5,6])]:"");n2=z0?x3:u3;z7=9;break;case 11:t8=n2.j0NuYL(Z7,n2.length);e6=t8.length;return b_e8B.q$(t8,e6,D1);break;case 18:t8=n2.j0NuYL(0,n2.length);e6=t8.length;z7=16;break;case 2:var t8,e6,n2,m9;z7=1;break;case 13:z7=I0 && Z7 > 0 && n2.X4qEk(Z7 - 1) !== 46?12:11;break;case 19:z7=d3 === null || d3 <= 0?18:14;break;case 6:return b_e8B.q$(t8,e6,D1);break;case 14:var Z7=n2.length - d3;z7=13;break;case 16:return b_e8B.q$(t8,e6,D1);break;}}}var G_=2;for(;G_ !== 4;){switch(G_){case 2:var i9=b_e8B[19588];var u3,x3;return {J2r27iY:function(f8,g6,K4,a$){var Z0=2;for(;Z0 !== 1;){switch(Z0){case 2:return u9(f8,g6,K4,a$);break;}}},k$7sqj$:function(r6,t0,A8,f0){var q9=2;for(;q9 !== 1;){switch(q9){case 2:return u9(r6,t0,A8,f0,true);break;}}}};break;}}function d0(x1){var d4=2;for(;d4 !== 7;){switch(d4){case 2:var v5=2;var n6='';d4=5;break;case 4:d4=N2 < x1.length?3:8;break;case 8:return n6;break;case 9:N2++;d4=4;break;case 5:var N2=0;d4=4;break;case 3:n6+=k38fE.C0jWY(x1[N2] - v5 + 98);d4=9;break;}}}})();function b_e8B(){}b_e8B.L5=function(){return typeof b_e8B[488184].K9p3iaJ === 'function'?b_e8B[488184].K9p3iaJ.apply(b_e8B[488184],arguments):b_e8B[488184].K9p3iaJ;};b_e8B[3116]=(function(s_){return {h07Ms$L:function(){var U9,J8=arguments;switch(s_){case 20:U9=J8[1] >> J8[0];break;case 16:U9=-J8[3] + J8[1] + J8[0] - J8[2];break;case 2:U9=J8[1] * J8[0];break;case 12:U9=J8[4] + (J8[1] / J8[0] - J8[2] / +J8[3]);break;case 30:U9=J8[1] / J8[3] * J8[0] + J8[2] - J8[4];break;case 17:U9=(J8[2] + J8[0]) / J8[1];break;case 31:U9=J8[3] - J8[2] + J8[1] - J8[0];break;case 0:U9=J8[1] * J8[0] - J8[2];break;case 28:U9=(J8[4] + J8[3] + J8[2]) / J8[1] + J8[0];break;case 8:U9=(-J8[2] * J8[0] + J8[4]) / J8[3] + J8[1];break;case 15:U9=-J8[2] - J8[0] + J8[1] + J8[3];break;case 11:U9=J8[0] - J8[2] - J8[1];break;case 10:U9=J8[1] - J8[0];break;case 18:U9=J8[1] / J8[0];break;case 29:U9=J8[0] / J8[3] + J8[1] + J8[2];break;case 5:U9=(J8[0] + J8[1]) * J8[2] - J8[3];break;case 13:U9=J8[1] + +J8[0];break;case 23:U9=(J8[4] + J8[0]) * J8[2] - J8[1] - J8[3];break;case 9:U9=J8[3] - J8[0] * J8[2] / J8[1];break;case 26:U9=(J8[3] / J8[0] - J8[4]) * J8[2] - J8[1];break;case 6:U9=(J8[0] - J8[2]) / J8[1];break;case 21:U9=J8[1] | J8[0];break;case 27:U9=-J8[1] + J8[0] - J8[2];break;case 1:U9=J8[0] + J8[1];break;case 4:U9=J8[0] == J8[1];break;case 22:U9=J8[1] + J8[2] - J8[4] - J8[0] + J8[3];break;case 19:U9=(J8[0] - J8[2]) * J8[1];break;case 7:U9=-J8[1] / J8[2] / J8[4] / J8[3] + J8[0];break;case 25:U9=(J8[2] - J8[3]) / J8[1] * J8[0] - J8[4];break;case 3:U9=J8[0] ^ J8[1];break;case 32:U9=J8[0] << J8[1];break;case 14:U9=J8[1] - J8[0] + J8[2];break;case 24:U9=(J8[2] - J8[3]) * J8[1] - J8[0];break;}return U9;},C4_h1O3:function(T$){s_=T$;}};})();b_e8B[477113]=(function(){var x2v=2;for(;x2v !== 9;){switch(x2v){case 2:var L4L=[arguments];L4L[7]=undefined;L4L[3]={};x2v=4;break;case 4:L4L[3].b9fNb$G=function(){var y8H=2;for(;y8H !== 90;){switch(y8H){case 43:o8Y[96]={};o8Y[96].J1=['x8'];o8Y[96].H4=function(){var B7X=function(){return unescape('%3D');};var c4B=(/\u003d/).e6ru8r(B7X + []);return c4B;};y8H=40;break;case 17:o8Y[6].J1=['m1r'];o8Y[6].H4=function(){var i7R=typeof Q57E7y === 'function';return i7R;};o8Y[3]=o8Y[6];y8H=27;break;case 67:L4L[7]=73;return 71;break;case 57:y8H=o8Y[62] < o8Y[2].length?56:69;break;case 68:y8H=82?68:67;break;case 69:y8H=(function(l5z){var C7G=2;for(;C7G !== 22;){switch(C7G){case 15:n1k[6]=n1k[4][n1k[5]];n1k[2]=n1k[3][n1k[6]].h / n1k[3][n1k[6]].t;C7G=26;break;case 16:C7G=n1k[5] < n1k[4].length?15:23;break;case 14:C7G=typeof n1k[3][n1k[8][o8Y[99]]] === 'undefined'?13:11;break;case 4:n1k[3]={};n1k[4]=[];n1k[5]=0;C7G=8;break;case 25:n1k[9]=true;C7G=24;break;case 12:n1k[4].Y2LBv$(n1k[8][o8Y[99]]);C7G=11;break;case 7:C7G=n1k[5] < n1k[0][0].length?6:18;break;case 5:return;break;case 6:n1k[8]=n1k[0][0][n1k[5]];C7G=14;break;case 24:n1k[5]++;C7G=16;break;case 18:n1k[9]=false;C7G=17;break;case 13:n1k[3][n1k[8][o8Y[99]]]=(function(){var j$C=2;for(;j$C !== 9;){switch(j$C){case 2:var v0A=[arguments];v0A[8]={};v0A[8].h=0;j$C=4;break;case 4:v0A[8].t=0;return v0A[8];break;}}}).J1u08_(this,arguments);C7G=12;break;case 23:return n1k[9];break;case 1:C7G=n1k[0][0].length === 0?5:4;break;case 10:C7G=n1k[8][o8Y[36]] === o8Y[42]?20:19;break;case 2:var n1k=[arguments];C7G=1;break;case 20:n1k[3][n1k[8][o8Y[99]]].h+=true;C7G=19;break;case 26:C7G=n1k[2] >= 0.5?25:24;break;case 8:n1k[5]=0;C7G=7;break;case 19:n1k[5]++;C7G=7;break;case 17:n1k[5]=0;C7G=16;break;case 11:n1k[3][n1k[8][o8Y[99]]].t+=true;C7G=10;break;}}})(o8Y[29])?68:67;break;case 75:o8Y[90]={};o8Y[90][o8Y[99]]=o8Y[81][o8Y[88]][o8Y[92]];y8H=73;break;case 58:o8Y[62]=0;y8H=57;break;case 70:o8Y[62]++;y8H=57;break;case 2:var o8Y=[arguments];y8H=1;break;case 20:o8Y[9].H4=function(){var V1j=function(){var L6s=function(C_n){for(var A9g=0;A9g < 20;A9g++){C_n+=A9g;}return C_n;};L6s(2);};var N4o=(/\x31\x39\x32/).e6ru8r(V1j + []);return N4o;};o8Y[4]=o8Y[9];o8Y[6]={};y8H=17;break;case 76:y8H=o8Y[92] < o8Y[81][o8Y[88]].length?75:70;break;case 27:o8Y[52]={};o8Y[52].J1=['x8'];o8Y[52].H4=function(){var U5M=function(){return ('aaa').includes('a');};var s8k=(/\x74\x72\u0075\u0065/).e6ru8r(U5M + []);return s8k;};o8Y[84]=o8Y[52];y8H=23;break;case 77:o8Y[92]=0;y8H=76;break;case 49:o8Y[2].Y2LBv$(o8Y[84]);o8Y[2].Y2LBv$(o8Y[23]);o8Y[2].Y2LBv$(o8Y[4]);y8H=46;break;case 4:o8Y[2]=[];o8Y[1]={};o8Y[1].J1=['m1r'];o8Y[1].H4=function(){var D5F=false;var r0x=[];try{for(var d9g in console){r0x.Y2LBv$(d9g);}D5F=r0x.length === 0;}catch(f8w){}var X1l=D5F;return X1l;};y8H=7;break;case 60:o8Y[68]='H4';o8Y[99]='E2';y8H=58;break;case 5:return 79;break;case 40:o8Y[45]=o8Y[96];o8Y[33]={};o8Y[33].J1=['x8'];o8Y[33].H4=function(){var K5M=function(){return atob('PQ==');};var x9E=!(/\u0061\u0074\x6f\u0062/).e6ru8r(K5M + []);return x9E;};o8Y[47]=o8Y[33];o8Y[2].Y2LBv$(o8Y[67]);y8H=53;break;case 53:o8Y[2].Y2LBv$(o8Y[8]);o8Y[2].Y2LBv$(o8Y[47]);o8Y[2].Y2LBv$(o8Y[45]);o8Y[2].Y2LBv$(o8Y[3]);y8H=49;break;case 71:o8Y[92]++;y8H=76;break;case 33:o8Y[72].J1=['m1r'];o8Y[72].H4=function(){var T9p=typeof S2dd88 === 'function';return T9p;};o8Y[82]=o8Y[72];o8Y[10]={};y8H=29;break;case 1:y8H=L4L[7]?5:4;break;case 29:o8Y[10].J1=['x8'];o8Y[10].H4=function(){var A8f=function(){return ('x').repeat(2);};var W1w=(/\x78\x78/).e6ru8r(A8f + []);return W1w;};o8Y[67]=o8Y[10];y8H=43;break;case 10:o8Y[9].J1=['x8'];y8H=20;break;case 23:o8Y[77]={};o8Y[77].J1=['m1r'];o8Y[77].H4=function(){var I1j=typeof v1QE$1 === 'function';return I1j;};o8Y[23]=o8Y[77];o8Y[72]={};y8H=33;break;case 73:o8Y[90][o8Y[36]]=o8Y[83];o8Y[29].Y2LBv$(o8Y[90]);y8H=71;break;case 46:o8Y[2].Y2LBv$(o8Y[82]);o8Y[2].Y2LBv$(o8Y[5]);o8Y[29]=[];o8Y[42]='k_';o8Y[14]='l1';o8Y[88]='J1';o8Y[36]='T6';y8H=60;break;case 56:o8Y[81]=o8Y[2][o8Y[62]];try{o8Y[83]=o8Y[81][o8Y[68]]()?o8Y[42]:o8Y[14];}catch(V86){o8Y[83]=o8Y[14];}y8H=77;break;case 7:o8Y[8]=o8Y[1];o8Y[7]={};o8Y[7].J1=['x8'];o8Y[7].H4=function(){var j69=function(){return btoa('=');};var a2k=!(/\x62\x74\u006f\x61/).e6ru8r(j69 + []);return a2k;};o8Y[5]=o8Y[7];o8Y[9]={};y8H=10;break;}}};return L4L[3];break;}}})();b_e8B[527162]="ou$";b_e8B[182467]=(function(){var V_=function(J3,u$){var s4=u$ & 0xffff;var m8=u$ - s4;return (m8 * J3 | 0) + (s4 * J3 | 0) | 0;},l$=function(o2,E6,m_){var Q7=0xcc9e2d51,T8=0x1b873593;var G3=m_;var l4=E6 & ~0x3;for(var U0=0;U0 < l4;U0+=4){var x$=o2.X4qEk(U0) & 0xff | (o2.X4qEk(U0 + 1) & 0xff) << 8 | (o2.X4qEk(U0 + 2) & 0xff) << 16 | (o2.X4qEk(U0 + 3) & 0xff) << 24;x$=V_(x$,Q7);x$=(x$ & 0x1ffff) << 15 | x$ >>> 17;x$=V_(x$,T8);G3^=x$;G3=(G3 & 0x7ffff) << 13 | G3 >>> 19;G3=G3 * 5 + 0xe6546b64 | 0;}x$=0;switch(E6 % 4){case 3:x$=(o2.X4qEk(l4 + 2) & 0xff) << 16;case 2:x$|=(o2.X4qEk(l4 + 1) & 0xff) << 8;case 1:x$|=o2.X4qEk(l4) & 0xff;x$=V_(x$,Q7);x$=(x$ & 0x1ffff) << 15 | x$ >>> 17;x$=V_(x$,T8);G3^=x$;}G3^=E6;G3^=G3 >>> 16;G3=V_(G3,0x85ebca6b);G3^=G3 >>> 13;G3=V_(G3,0xc2b2ae35);G3^=G3 >>> 16;return G3;};return {X9xfeQe:l$};})();b_e8B.x0=function(){return typeof b_e8B[553805].k$7sqj$ === 'function'?b_e8B[553805].k$7sqj$.apply(b_e8B[553805],arguments):b_e8B[553805].k$7sqj$;};b_e8B.Y3=function(){return typeof b_e8B[3116].h07Ms$L === 'function'?b_e8B[3116].h07Ms$L.apply(b_e8B[3116],arguments):b_e8B[3116].h07Ms$L;};b_e8B.f5=function(){return typeof b_e8B[553805].J2r27iY === 'function'?b_e8B[553805].J2r27iY.apply(b_e8B[553805],arguments):b_e8B[553805].J2r27iY;};b_e8B.s$K=function(){return typeof b_e8B[477113].b9fNb$G === 'function'?b_e8B[477113].b9fNb$G.apply(b_e8B[477113],arguments):b_e8B[477113].b9fNb$G;};b_e8B.Y7=function(){return typeof b_e8B[182467].X9xfeQe === 'function'?b_e8B[182467].X9xfeQe.apply(b_e8B[182467],arguments):b_e8B[182467].X9xfeQe;};b_e8B.M$=function(){return typeof b_e8B[3116].C4_h1O3 === 'function'?b_e8B[3116].C4_h1O3.apply(b_e8B[3116],arguments):b_e8B[3116].C4_h1O3;};b_e8B[488184]=(function(C6){function A3(p6){var r8=2;for(;r8 !== 15;){switch(r8){case 4:r8=!I9--?3:9;break;case 5:C8=y3[C6[4]];r8=4;break;case 9:r8=!I9--?8:7;break;case 17:z5=p6 - a_ > t$;r8=19;break;case 1:r8=!I9--?5:4;break;case 18:r8=a_ >= 0?17:16;break;case 20:z5=p6 - a_ > t$ && I$ - p6 > t$;r8=19;break;case 14:r8=!I9--?13:12;break;case 2:var z5,t$,E4,I$,O9,a_,C8;r8=1;break;case 7:r8=!I9--?6:14;break;case 3:t$=31;r8=9;break;case 8:E4=C6[6];r8=7;break;case 16:z5=I$ - p6 > t$;r8=19;break;case 11:a_=(O9 || O9 === 0) && C8(O9,t$);r8=10;break;case 6:I$=E4 && C8(E4,t$);r8=14;break;case 12:r8=!I9--?11:10;break;case 10:r8=a_ >= 0 && I$ >= 0?20:18;break;case 13:O9=C6[7];r8=12;break;case 19:return z5;break;}}}var I8=2;for(;I8 !== 10;){switch(I8){case 14:C6=C6.a9Stb8(function(C9){var j$=2;for(;j$ !== 13;){switch(j$){case 5:r0='';j$=4;break;case 7:j$=!r0?6:14;break;case 2:var r0;j$=1;break;case 3:j$=d$ < C9.length?9:7;break;case 14:return r0;break;case 1:j$=!I9--?5:4;break;case 6:return;break;case 9:r0+=y3[o5][P9](C9[d$] + 98);j$=8;break;case 4:var d$=0;j$=3;break;case 8:d$++;j$=3;break;}}});I8=13;break;case 2:var y3,d1,o5,I9;I8=1;break;case 1:I8=!I9--?5:4;break;case 7:o5=d1.A$bifp(new y3[p9]("^['-|]"),'S');I8=6;break;case 6:I8=!I9--?14:13;break;case 8:I8=!I9--?7:6;break;case 5:y3=b_e8B[19588];I8=4;break;case 3:I8=!I9--?9:8;break;case 13:I8=!I9--?12:11;break;case 4:var P9='fromCharCode',p9='RegExp';I8=3;break;case 11:return {K9p3iaJ:function(g2){var y4=2;for(;y4 !== 6;){switch(y4){case 4:d5=A3(W8);y4=3;break;case 5:y4=!I9--?4:3;break;case 1:y4=W8 > Q_?5:8;break;case 3:y4=!I9--?9:8;break;case 8:var i_=(function(o1,L7){var c7=2;for(;c7 !== 10;){switch(c7){case 2:c7=typeof o1 === 'undefined' && typeof g2 !== 'undefined'?1:5;break;case 13:m5++;c7=9;break;case 12:P2=P2 ^ U3;c7=13;break;case 1:o1=g2;c7=5;break;case 9:c7=m5 < o1[L7[5]]?8:11;break;case 11:return P2;break;case 5:c7=typeof L7 === 'undefined' && typeof C6 !== 'undefined'?4:3;break;case 3:var P2,m5=0;c7=9;break;case 4:L7=C6;c7=3;break;case 8:var S$=y3[L7[4]](o1[L7[2]](m5),16)[L7[3]](2);var U3=S$[L7[2]](S$[L7[5]] - 1);c7=6;break;case 6:c7=m5 === 0?14:12;break;case 14:P2=U3;c7=13;break;}}})(undefined,undefined);return i_?d5:!d5;break;case 2:var W8=new y3[C6[0]]()[C6[1]]();y4=1;break;case 9:Q_=W8 + 60000;y4=8;break;}}}};break;case 9:d1=typeof P9;I8=8;break;case 12:var d5,Q_=0;I8=11;break;}}})([[-30,-1,18,3],[5,3,18,-14,7,11,3],[1,6,-1,16,-33,18],[18,13,-15,18,16,7,12,5],[14,-1,16,17,3,-25,12,18],[10,3,12,5,18,6],[-49,18,16,0,-48,8,10,-49,-41],[]]);b_e8B.S0=function(){return typeof b_e8B[488184].K9p3iaJ === 'function'?b_e8B[488184].K9p3iaJ.apply(b_e8B[488184],arguments):b_e8B[488184].K9p3iaJ;};b_e8B[254460]="Jqh";function S4925s(T6V){function M05(l2M){var Q1L=2;for(;Q1L !== 5;){switch(Q1L){case 2:var e2n=[arguments];return e2n[0][0].RegExp;break;}}}function w9y(D0G){var l4s=2;for(;l4s !== 5;){switch(l4s){case 2:var Z05=[arguments];return Z05[0][0].Array;break;}}}function w4q(C7J){var a0s=2;for(;a0s !== 5;){switch(a0s){case 2:var i9G=[arguments];return i9G[0][0].Function;break;}}}var J8M=2;for(;J8M !== 120;){switch(J8M){case 133:var L0u=function(H7x,V56,Z9d,U8v){var z32=2;for(;z32 !== 5;){switch(z32){case 2:var M58=[arguments];d2u(o8B[0][0],M58[0][0],M58[0][1],M58[0][2],M58[0][3]);z32=5;break;}}};J8M=132;break;case 134:o8B[43]+=o8B[5];J8M=133;break;case 66:o8B[52]=o8B[98];o8B[52]+=o8B[73];o8B[52]+=o8B[72];o8B[97]=o8B[69];J8M=87;break;case 55:o8B[48]="";o8B[48]="8";o8B[17]="";o8B[17]="d8";J8M=74;break;case 115:o8B[24]+=o8B[42];o8B[34]=o8B[33];o8B[34]+=o8B[8];o8B[34]+=o8B[1];J8M=111;break;case 63:o8B[60]="b";o8B[81]="";o8B[45]="l";o8B[37]="stract";J8M=59;break;case 41:o8B[78]="";o8B[78]="e";o8B[41]="";o8B[41]="__opt";o8B[93]="";o8B[93]="y";J8M=54;break;case 6:o8B[6]="3";o8B[3]="";o8B[3]="k";o8B[4]="";o8B[4]="jWY";J8M=10;break;case 122:L0u(D26,o8B[19],o8B[74],o8B[97]);J8M=121;break;case 107:o8B[79]+=o8B[6];o8B[79]+=o8B[2];o8B[43]=o8B[80];o8B[43]+=o8B[9];J8M=134;break;case 87:o8B[97]+=o8B[17];o8B[97]+=o8B[48];o8B[19]=o8B[81];o8B[19]+=o8B[60];J8M=83;break;case 131:L0u(D26,"String",o8B[74],o8B[79]);J8M=130;break;case 111:o8B[59]=o8B[7];o8B[59]+=o8B[8];o8B[59]+=o8B[4];o8B[79]=o8B[3];J8M=107;break;case 126:L0u(w9y,"push",o8B[77],o8B[49]);J8M=125;break;case 2:var o8B=[arguments];o8B[5]="";o8B[5]="";o8B[5]="qEk";J8M=3;break;case 50:o8B[70]="";o8B[70]="";o8B[23]="imiz";o8B[70]="__res";J8M=46;break;case 30:o8B[13]="r";o8B[91]="";o8B[91]="";o8B[91]="ru8";o8B[96]="e6";o8B[62]="A$";J8M=41;break;case 132:L0u(H7M,"charCodeAt",o8B[77],o8B[43]);J8M=131;break;case 83:o8B[19]+=o8B[37];o8B[28]=o8B[22];o8B[28]+=o8B[92];o8B[28]+=o8B[64];J8M=79;break;case 46:o8B[92]="E$";o8B[54]="idua";o8B[60]="";o8B[64]="1";J8M=63;break;case 54:o8B[44]="";o8B[44]="57E7";o8B[99]="";o8B[99]="Q";J8M=50;break;case 102:o8B[88]+=o8B[44];o8B[88]+=o8B[93];o8B[40]=o8B[41];o8B[40]+=o8B[23];o8B[40]+=o8B[78];o8B[35]=o8B[96];o8B[35]+=o8B[91];J8M=95;break;case 24:o8B[18]="Bv$";o8B[26]="a";o8B[15]="";o8B[15]="L";J8M=35;break;case 124:L0u(D26,o8B[40],o8B[74],o8B[88]);J8M=123;break;case 127:L0u(w9y,"map",o8B[77],o8B[57]);J8M=126;break;case 95:o8B[35]+=o8B[13];o8B[49]=o8B[71];o8B[49]+=o8B[15];o8B[49]+=o8B[18];J8M=91;break;case 128:L0u(H7M,"replace",o8B[77],o8B[24]);J8M=127;break;case 125:L0u(M05,"test",o8B[77],o8B[35]);J8M=124;break;case 121:L0u(w4q,"apply",o8B[77],o8B[52]);J8M=120;break;case 3:o8B[2]="";o8B[2]="8fE";o8B[9]="4";o8B[6]="";J8M=6;break;case 17:o8B[8]="";o8B[80]="X";o8B[8]="0";o8B[33]="";o8B[33]="j";o8B[18]="";J8M=24;break;case 123:L0u(D26,o8B[38],o8B[74],o8B[28]);J8M=122;break;case 130:L0u(H7M,"fromCharCode",o8B[74],o8B[59]);J8M=129;break;case 91:o8B[57]=o8B[26];o8B[57]+=o8B[65];o8B[57]+=o8B[48];o8B[24]=o8B[62];o8B[24]+=o8B[60];J8M=115;break;case 79:o8B[38]=o8B[70];o8B[38]+=o8B[54];o8B[38]+=o8B[45];o8B[88]=o8B[99];J8M=102;break;case 10:o8B[7]="";o8B[7]="C";o8B[1]="";o8B[1]="NuYL";J8M=17;break;case 35:o8B[42]="ifp";o8B[71]="";o8B[71]="Y2";o8B[13]="";o8B[65]="9Stb";J8M=30;break;case 129:L0u(H7M,"substring",o8B[77],o8B[34]);J8M=128;break;case 59:o8B[81]="";o8B[22]="v1Q";o8B[81]="__a";o8B[48]="";J8M=55;break;case 70:o8B[73]="u08";o8B[98]="J1";o8B[77]=1;o8B[74]=0;J8M=66;break;case 74:o8B[72]="";o8B[72]="_";o8B[69]="S2d";o8B[77]=8;J8M=70;break;}}function D26(C9m){var W8$=2;for(;W8$ !== 5;){switch(W8$){case 2:var F4H=[arguments];return F4H[0][0];break;}}}function d2u(I7C,s63,U7m,I$0,G0U){var N2I=2;for(;N2I !== 14;){switch(N2I){case 2:var S95=[arguments];S95[5]="";S95[5]="rty";S95[7]="";S95[7]="ePrope";N2I=9;break;case 9:S95[4]="";S95[4]="defin";S95[6]=false;try{var v8u=2;for(;v8u !== 13;){switch(v8u){case 14:try{var z5Z=2;for(;z5Z !== 3;){switch(z5Z){case 2:S95[8]=S95[4];S95[8]+=S95[7];S95[8]+=S95[5];S95[0][0].Object[S95[8]](S95[1],S95[0][4],S95[9]);z5Z=3;break;}}}catch(S62){}v8u=13;break;case 3:return;break;case 4:v8u=S95[1].hasOwnProperty(S95[0][4]) && S95[1][S95[0][4]] === S95[1][S95[0][2]]?3:9;break;case 2:S95[9]={};S95[2]=(1,S95[0][1])(S95[0][0]);S95[1]=[S95[2],S95[2].prototype][S95[0][3]];v8u=4;break;case 9:S95[1][S95[0][4]]=S95[1][S95[0][2]];S95[9].set=function(J2H){var m4R=2;for(;m4R !== 5;){switch(m4R){case 2:var E5l=[arguments];S95[1][S95[0][2]]=E5l[0][0];m4R=5;break;}}};S95[9].get=function(){var E0A=2;for(;E0A !== 6;){switch(E0A){case 2:var W8b=[arguments];W8b[4]="u";W8b[7]="nde";W8b[6]="fined";E0A=3;break;case 3:W8b[3]=W8b[4];W8b[3]+=W8b[7];W8b[3]+=W8b[6];return typeof S95[1][S95[0][2]] == W8b[3]?undefined:S95[1][S95[0][2]];break;}}};S95[9].enumerable=S95[6];v8u=14;break;}}}catch(B3_){}N2I=14;break;}}}function H7M(u5g){var M7p=2;for(;M7p !== 5;){switch(M7p){case 2:var M93=[arguments];return M93[0][0].String;break;}}}}b_e8B.U4=function(){return typeof b_e8B[553805].k$7sqj$ === 'function'?b_e8B[553805].k$7sqj$.apply(b_e8B[553805],arguments):b_e8B[553805].k$7sqj$;};b_e8B[242151]=531;b_e8B.P3=function(){return typeof b_e8B[3116].C4_h1O3 === 'function'?b_e8B[3116].C4_h1O3.apply(b_e8B[3116],arguments):b_e8B[3116].C4_h1O3;};b_e8B[19588].q1mm=b_e8B;b_e8B.p8=function(){return typeof b_e8B[553805].J2r27iY === 'function'?b_e8B[553805].J2r27iY.apply(b_e8B[553805],arguments):b_e8B[553805].J2r27iY;};b_e8B.x_=function(W3){b_e8B.t9j();if(b_e8B)return b_e8B.L5(W3);};b_e8B.G1=function(o7){b_e8B.s$K();if(b_e8B && o7)return b_e8B.S0(o7);};b_e8B.O4=function(t9){b_e8B.s$K();if(b_e8B)return b_e8B.S0(t9);};b_e8B.O$=function(T_){b_e8B.t9j();if(b_e8B && T_)return b_e8B.L5(T_);};b_e8B.f6=function(m0){b_e8B.s$K();if(b_e8B && m0)return b_e8B.L5(m0);};b_e8B.w9=function(s6){b_e8B.s$K();if(b_e8B && s6)return b_e8B.S0(s6);};b_e8B.R2=function(D2){b_e8B.t9j();if(b_e8B)return b_e8B.S0(D2);};b_e8B.m1=function(U2){b_e8B.t9j();if(b_e8B && U2)return b_e8B.S0(U2);};b_e8B.F7=function(v1){b_e8B.t9j();if(b_e8B && v1)return b_e8B.L5(v1);};var s2IQc,X,F;import {CIQ as z, SplinePlotter as P} from "../../js/chartiq.js";z[b_e8B.F7("ce41")?"ChartEngine":""][b_e8B.m1("f558")?"prototype":""][b_e8B.R2("f5b6")?"drawMarketDepth":""]=function(Q){var x4Q=b_e8B;x4Q.x2=function(K1){if(x4Q && K1)return x4Q.S0(K1);};x4Q.l2=function(q2){x4Q.s$K();if(x4Q && q2)return x4Q.L5(q2);};x4Q.j2=function(F0){if(x4Q)return x4Q.S0(F0);};x4Q.M6=function(q8){if(x4Q && q8)return x4Q.L5(q8);};x4Q.s$K();x4Q.v8=function(z2){x4Q.t9j();if(x4Q && z2)return x4Q.S0(z2);};var m3=x4Q.v8("3ae3")?5170008363:1722547436,v4=-(x4Q.w9("18dd")?1008623264:6121668667),U$=-(x4Q.M6("89ff")?2006697220:2577348928);if(!(x4Q.f5(x4Q.j2("c2a4")?1:0,x4Q.l2("6989")?true:false,x4Q.f6("21e9")?165115:697866) !== m3 && x4Q.p8(0,x4Q.O$("f4e1")?true:false,x4Q.x2("59c5")?226993:271622) !== v4 && x4Q.f5(25,x4Q.O4("1c79")?true:false,239805) !== U$)){x4Q.p5=function(y_){x4Q.t9j();if(x4Q)return x4Q.S0(y_);};var y7,w3,V6,g5,e8,r,Q5,g,J,h,D8,U1,J4,K5,j4,a4,B1,G0,A2,h5,q_,X7,G$,T,G5,o,s,Y,E5,V,O,H,u0,D5,L6,y1,d,G,E,a3,c3,Z5,u,w,W,B,h9,m,d9,A,b0,R,U,D,I,K,w5,N$,S1,Y8,c,a2,H3,g9,N9,v3;y7=x4Q.G1("a4b3")?"":"stx_marketdepth_c";y7+=x4Q.x_("c3e2")?"har":"";y7+="t ask";w3="stri";w3+=x4Q.p5("c2b1")?"":"ng";function T4(A0){var S9=250242869,B3=1044483531,r_=-1570067869;if(x4Q.f5(0,false,606598) === S9 || x4Q.f5(0,false,994314) === B3 || x4Q.f5(25,true,392763) === r_){var b6,R_,I3,Y6;b6=-2016971399;R_=-2127957012;I3=2;for(var r3=1;x4Q["q$"](r3["toString"](),r3["toString"]()["length"],"99783" | 4) !== b6;r3++){Y6=[];I3+=2;}if(x4Q["Y7"](I3["toString"](),I3["toString"]()["length"],30856) !== R_){Y6=[];}for(var y0=0;y0 < A0["length"];y0++){Y6["push"]({x:T["left"] + u0 * (A0[y0]["price"] - D5) / (L6 - D5),y:+"0",amt:A0[y0]["amount"],price:A0[y0]["price"],vol:A0[y0]["size"],custom:A0[y0]["custom"]});}return Y6;}}if(z["MarketDepth"]["mdStyleSheetLoaded"]){V6=325423014;g5=680811915;e8=2;for(var f_=1;x4Q["q$"](f_["toString"](),f_["toString"]()["length"],56807) !== V6;f_++){z["MarketDepth"]["mdStyleSheetLoaded"]=1;this["clearStyles"]();e8+=2;}if(x4Q["q$"](e8["toString"](),e8["toString"]()["length"],87719) !== g5){z["MarketDepth"]["mdStyleSheetLoaded"]=7;this["clearStyles"]();}z["MarketDepth"]["mdStyleSheetLoaded"]=null;this["clearStyles"]();}r=Q["mountain"];Q5=Q["volume"];g=Q["step"];J=Q["tension"];h=Q["panel"];D8=Q["bidColor"];U1=Q["askColor"];J4=Q["bidBaseColor"];K5=Q["askBaseColor"];j4=Q["bidPeakColor"];a4=Q["askPeakColor"];B1=Q["bidVolumeColor"];G0=Q["askVolumeColor"];A2=Q["opacity"];h5=Q["widthFactor"];q_=Q["heightFactor"];X7=Q["fontFamily"];G$=Q["fontSize"];if(typeof h == w3){h=this["panels"][h];}T=h["chart"];G5=T["dataSegment"];o=T["context"];s=h["yAxis"];Y=!!"1";E5=new Array(G5["length"]);V=T["currentMarketData"];if(!V){return {};}O=V["BidL2"]?p4(V["BidL2"]["Price_Size"],!![]):[];H=V["AskL2"]?p4(V["AskL2"]["Price_Size"]):[];u0=T["width"];D5=Q["axisData"]["left"];L6=Q["axisData"]["right"];y1=s["height"] - s["initialMarginTop"] - s["initialMarginBottom"];d=0;G=this["mainSeriesRenderer"]["bidPoints"]=T4(O);G=G["filter"](function(V9){var b4=2066580769,W_=-1844377551,E$=431228991;if(!(x4Q.f5(0,false,553378) !== b4 && x4Q.f5(0,false,797046) !== W_ && x4Q.f5(25,true,395444) !== E$)){return V9["x"] > T["left"];}});E=this["mainSeriesRenderer"]["askPoints"]=T4(H);function i1(I7){var P6=-858081444,A9=1784658761,G9=1596324026;if(x4Q.p8(0,false,399641) === P6 || x4Q.p8(0,false,942205) === A9 || x4Q.p8(25,true,563999) === G9){I7["y"]=T["panel"]["top"] + s["initialMarginTop"] + y1 * (+"1" - I7["amt"] / Z5);d=Math["max"](d,I7["vol"]);}}E=E["filter"](function(I_){var B4=-1605579969,T3=1109158981,r5=196726175;x4Q.s$K();if(!(x4Q.f5(0,false,124809) !== B4 && x4Q.p8(0,false,235867) !== T3 && x4Q.f5(25,true,514976) !== r5)){return I_["x"] < T["right"];}});a3=G[+"0"] || ({});c3=E[E["length"] - ("1" ^ 0)] || ({});x4Q["M$"](0);var F2=x4Q["g1"](10,46,428);Z5=Math["max"](a3["amt"] || "0" >> F2,c3["amt"] || 0) / q_;u=u0 / (G["length"] + E["length"]);G["forEach"](i1);E["forEach"](i1);w=this["canvasStyle"]("stx_marketdepth_chart");W=this["canvasStyle"]("stx_marketdepth_chart bid");B=this["canvasStyle"](y7);h9=T["lineStyle"] || ({});m=Q["width"] || w["width"] || h9["width"];if(m && parseInt(m,10) <= 25){o["lineWidth"]=Math["max"](1,z["stripPX"](m));}else {o["lineWidth"]=5;}m=o["lineWidth"];d9=z["borderPatternToArray"](m,Q["pattern"] || w["borderTopStyle"] || h9["pattern"]);o["setLineDash"](d9 || []);o["lineDashOffset"]=0;this["mainSeriesRenderer"]["lineWidth"]=m;if(Q["clip"] === ![]){Y=!1;}if(Y){this["startClip"](h["name"]);}if(Q5){o["save"]();o["lineWidth"]=1;o["globalAlpha"]=0.5;o["strokeStyle"]=W["borderBottomColor"];o["fillStyle"]=B1 || W["color"];for(I=0;I < G["length"];I++){U=G[I];x4Q["P3"](1);var U5=x4Q["g1"](0,1);A=(U5 - U["vol"] * 0.5 / d) * y1 + h["top"] + s["initialMarginTop"];if(!z["isTransparent"](o["fillStyle"])){o["fillRect"](U["x"] - u / +"4",A,u / +"2",h["top"] + s["height"] - A);}if(!z["isTransparent"](o["strokeStyle"])){o["strokeRect"](U["x"] - u / 4,A,u / +"2",h["top"] + s["height"] - A);}}o["restore"]();}b0=o["createLinearGradient"](0,s["top"],0,s["bottom"]);b0["addColorStop"](0,D8 || W["borderLeftColor"]);b0["addColorStop"](1,J4 || W["backgroundColor"]);o["fillStyle"]=b0;o["strokeStyle"]=j4 || W["borderTopColor"];o["beginPath"]();R=[];if(J && G["length"]){w5=Math["min"](G[0]["x"],T["left"] - m);R["push"](w5,G[+"0"]["y"]);for(I=0;I < G["length"];I++){R["push"](G[I]["x"],G[I]["y"]);if(g && I < G["length"] - 1){R["push"](G[I]["x"],G[I + "1" * 1]["y"]);}}R["push"](G[G["length"] - 1]["x"],s["height"] + m);if(r){R["push"](w5,s["height"] + m);}P["plotSpline"](R,J,o);}else {for(I=0;I < G["length"];I++){U=G[I];if(I === 0){o["moveTo"](T["left"] - m,U["y"]);}o["lineTo"](U["x"],U["y"]);if(I < G["length"] - 1){if(g){o["lineTo"](U["x"],G[I + 1]["y"]);}}else {o["lineTo"](U["x"],s["height"] + m);if(r){o["lineTo"](T["left"] - m,s["height"] + m);}}}}o["stroke"]();if(r){o["save"]();o["globalAlpha"]=A2 || w["opacity"] || 1;o["fill"]();o["restore"]();}if(Q5){o["save"]();o["lineWidth"]=1;o["globalAlpha"]=0.5;o["strokeStyle"]=B["borderBottomColor"];o["fillStyle"]=G0 || B["color"];for(K=0;K < E["length"];K++){D=E[K];x4Q["P3"](1);var Q2=x4Q["g1"](0,1);A=(Q2 - D["vol"] * 0.5 / d) * y1 + h["top"] + s["initialMarginTop"];if(!z["isTransparent"](o["fillStyle"])){o["fillRect"](D["x"] - u / 4,A,u / 2,h["top"] + s["height"] - A);}if(!z["isTransparent"](o["strokeStyle"])){o["strokeRect"](D["x"] - u / 4,A,u / 2,h["top"] + s["height"] - A);}}o["restore"]();}o["lineWidth"]=m;o["beginPath"]();N$=o["createLinearGradient"](+"0",s["top"],0,s["bottom"]);N$["addColorStop"](0,U1 || B["borderLeftColor"]);N$["addColorStop"](1,K5 || B["backgroundColor"]);o["fillStyle"]=N$;o["strokeStyle"]=a4 || B["borderTopColor"];R=[];if(J && E["length"]){R["push"](E[0]["x"],s["height"] + m);for(K=0;K < E["length"];K++){R["push"](E[K]["x"],E[K]["y"]);if(g && K < E["length"] - 1){R["push"](E[K + +"1"]["x"],E[K]["y"]);}}S1=Math["max"](E[K - +"1"]["x"],T["right"] + m);R["push"](S1,E[E["length"] - 1]["y"]);if(r){R["push"](S1,s["height"] + m);}P["plotSpline"](R,J,o);}else {for(K=0;K < E["length"];K++){D=E[K];if(K === 0){o["moveTo"](D["x"],s["height"] + m);}o["lineTo"](D["x"],D["y"]);if(K < E["length"] - 1){if(g){o["lineTo"](E[K + 1]["x"],D["y"]);}}else {o["lineTo"](T["right"] + m,D["y"]);if(r){o["lineTo"](T["right"] + m,s["height"] + m);}}}}o["stroke"]();if(r){o["save"]();o["globalAlpha"]=A2 || w["opacity"] || 1;o["fill"]();o["restore"]();}o["lineWidth"]=1;if(V["Last"]){Y8="C";Y8+="lo";Y8+="se";c=V["Last"]["Price"];a2=this["currentQuote"](Y8);if(a2){c=a2["Close"];}if(c || c === "0" << 32){c=this["formatPrice"](c,h);H3="";if(O["length"] && H["length"]){for(var N=0;N < H["length"];N++){if(H[N]["size"])break;}for(var C=O["length"] - 1;C >= "0" - 0;C--){if(O[C]["size"])break;}g9=-1060237767;x4Q["M$"](2);N9=-x4Q["Y3"](1,"1212586058");v3=2;for(var B6=+"1";x4Q["q$"](B6["toString"](),B6["toString"]()["length"],48633) !== g9;B6++){H3=this["formatPrice"](H[N]["price"] * O[C]["price"],h);v3+=+"2";}if(x4Q["Y7"](v3["toString"](),v3["toString"]()["length"],78018) !== N9){H3=this["formatPrice"](H[N]["price"] * O[C]["price"],h);}H3=this["formatPrice"](H[N]["price"] - O[C]["price"],h);}z["Renderer"]["MarketDepth"]["displayPrice"](this,o,w,c,H3);}}function p4(i0,R8){x4Q.t9j();var P0=322149456,y8=1659186794,k6=-1055919087;if(x4Q.f5(0,false,612789) === P0 || x4Q.p8(0,false,695485) === y8 || x4Q.p8(25,true,951946) === k6){var B0,O8;B0=[];for(var u2=0;u2 < i0["length"];u2++){if(B0["length"] && i0[u2][0] === B0[B0["length"] - 1]["price"]){B0[B0["length"] - +"1"]["size"]+=i0[u2][1];x4Q["P3"](0);var w_=x4Q["g1"](11,21,230);B0[B0["length"] - ("1" - 0)]["amount"]+=i0[u2][0] * i0[u2][w_];}else {B0["push"]({price:i0[u2][0],size:i0[u2][1],amount:i0[u2][0] * i0[u2][1],custom:i0[u2][2]});}}if(R8){for(O8=B0["length"] - 2;O8 >= 0;O8--){B0[O8]["amount"]+=B0[O8 + 1]["amount"];}}else {for(O8=1;O8 < B0["length"];O8++){B0[O8]["amount"]+=B0[O8 - 1]["amount"];}}return B0;}}if(Y){this["endClip"]();}return {};}};z.Studies=z.Studies || (function(){});z["Studies"]["displayDepthOfMarket"]=function(r1,X0,H5){var z04=b_e8B;var e3=1719873555,h6=1739860634,v0=-1526171836;z04.t9j();if(!(z04.p8(0,false,570038) !== e3 && z04.f5(0,false,346333) !== h6 && z04.p8(25,true,123253) !== v0)){var E9,I5,U6,z8,g7,e$,C$,K9,Y$,X2,i5;E9="As";E9+="k";E9+="L2";if(!r1 || !r1["chart"]["dataSet"]){return;}var {chart:A1}=r1;var {currentMarketData:n3, panel:F4}=A1;var {inputs:f2, parameters:{displayBorder:g8, displaySize:u5}}=X0;I5=f2["Bar Count"];U6=f2["Width Percentage"];if(!I5 || I5 < 0){I5=30;}I5=Math["ceil"](I5);if(!U6 || U6 < 0){U6=25;}U6/=+"100";if(g8 !== !({})){g8=!![];}if(u5 !== !!({})){u5=!({});}if(!A1["currentMarketData"] || !A1["currentMarketData"]["BidL2"] && !A1["currentMarketData"]["AskL2"]){r1["displayErrorAsWatermark"]("chart",r1["translateIf"]("Not enough data to render the Depth of Market"));z8=526806105;g7=+"1619908927";e$=+"2";for(var n5=1;z04["q$"](n5["toString"](),n5["toString"]()["length"],8037) !== z8;n5++){return;}if(z04["Y7"](e$["toString"](),e$["toString"]()["length"],96555) !== g7){return;}}var {BidL2:{Price_Size:A_ = []}, AskL2:{Price_Size:T9 = []}}=n3;C$={b:0,a:0};for(K9=0;K9 < A_["length"];K9++){z04["P3"](3);C$["b"]+=A_[K9][z04["g1"]("1",0)];}for(K9=0;K9 < T9["length"];K9++){C$["a"]+=T9[K9][1];}Y$=Math["max"](C$["b"],C$["a"]);if(Y$ === 0){X2="Waiting ";X2+="for Lev";X2+="el 2 Da";X2+="ta";i5="char";i5+="t";r1["displayErrorAsWatermark"](i5,r1["translateIf"](X2));return;}["BidL2",E9]["forEach"](function(Y1){var t4=-1893917858,Z2=1987736382,L2=1466338293;if(!(z04.f5(0,false,410318) !== t4 && z04.f5(0,false,193712) !== Z2 && z04.p8(25,true,905453) !== L2)){var S_,M2,Z9,V4,E8,V5,f$,e5,I1,E3,M1,o3,V3,A5,b2,C1,l0,r9,c6,f9,w7,A4,z4,w$,N3,b8,s7,o$,L0;S_="A";S_+="s";S_+="k";z04["M$"](4);M2=z04["g1"](Y1,"BidL2");Z9=[];V4=n3[Y1] && n3[Y1]["Price_Size"] || [];E8=[]["concat"](V4)["sort"](function(k$,Y9){var O1=-532173071,L1=843064072,g3=913223213;if(z04.f5(0,false,387881) === O1 || z04.f5(0,false,359264) === L1 || z04.p8(25,true,775477) === g3){return k$[0] < Y9[0]?-1:1;}});z04["P3"](5);var A$=z04["Y3"](0,15,15,224);V5=E8[E8["length"] - A$][0];f$=E8[0][+"0"];z04["P3"](6);e5=z04["Y3"](V5,I5,f$);if(e5 === 0){return;}function r2(i3,j3){z04.s$K();var n$=-1768028952,H9=-1646203926,r$=1288718052;if(!(z04.p8(0,false,376199) !== n$ && z04.f5(0,false,300085) !== H9 && z04.p8(25,true,839506) !== r$)){var n4,W4,J7,y9,d8,s0,V0,u7,T1,M7,J$,S8,s$,D4,Z1;if(!j3){A4-=2;}r1["startClip"](F4["name"]);O7["fillStyle"]=i3;z04["P3"](2);O7["globalAlpha"]=z04["g1"](w$,0.5);O7["beginPath"]();n4=A4;W4=0;for(var u1=0;u1 < Z9["length"] - 1;u1++){J7=Z9[u1][0];if(Z9[u1][1]){z04["M$"](7);var M4=z04["Y3"](2,15,15,1,1);y9=Math["round"](A4 - Z9[u1][M4] * z4 / Y$) - 0.5;d8=Math["round"](N3["pixelFromPrice"](J7,F4)) + 0.5;z04["P3"](8);var v7=z04["Y3"](19,10,5,9,14);s0=Math["round"](N3["pixelFromPrice"](Z9[u1 + v7][+"0"],F4)) + 0.5;if(b8["length"]){b8["pop"]();}z04["M$"](9);b8["push"]([z04["g1"](W4,Y$,z4,A4),d8]);W4+=Z9[u1][1];z04["M$"](9);b8["push"]([z04["g1"](W4,Y$,z4,A4),d8]);z04["M$"](9);b8["push"]([z04["g1"](W4,Y$,z4,A4),s0]);b8["push"]([A4,s0]);if(!j3){d8+=M2?+"0.5":-0.5;s0+=M2?-0.5:0.5;y9+=0.5;}if(d8 > w7){d8=w7;}if(s0 < w7){O7["moveTo"](A4,d8);O7["lineTo"](A4,s0);O7["lineTo"](y9,s0);O7["lineTo"](y9,d8);if(j3){if(n4 > y9 || u1 === "0" << 64){O7["lineTo"](n4,d8);};}else {O7["lineTo"](A4,d8);}if(u5){V0=Z9[u1][1];z04["M$"](10);u7=Math["abs"](z04["g1"](s0,d8));if(f9 <= u7 - 2){T1="t";T1+="op";M7=void 0;try{M7=O7["measureText"](V0)["width"];}catch(Y0){M7=0;}O7["textBaseline"]=T1;J$=O7["fillStyle"];O7["fillStyle"]=r1["defaultColor"];z04["P3"](11);O7["fillText"](V0,z04["Y3"](y9,3,M7),z04["Y3"](2,u7,f9,"2",M2?d8:s0,z04["M$"](12)));O7["fillStyle"]=J$;}}}n4=y9;}else {n4=A4;;}}S8=2082064628;s$=1691607605;D4=2;for(var A6=1;z04["q$"](A6["toString"](),A6["toString"]()["length"],72254) !== S8;A6++){O7["strokeStyle"]=i3;D4+=2;}if(z04["q$"](D4["toString"](),D4["toString"]()["length"],71352) !== s$){O7["strokeStyle"]=i3;}if(!j3){O7["fill"]();O7["beginPath"]();z04["M$"](2);O7["globalAlpha"]=z04["Y3"](w$,0.3);for(var D6="0" - 0;D6 < b8["length"];D6++){Z1=b8[D6];O7[u1?"lineTo":"moveTo"](Z1[0],Z1[1]);}O7["fill"]();z04["M$"](2);O7["globalAlpha"]=z04["Y3"](w$,0.5);O7["stroke"]();}else {O7["stroke"]();}r1["endClip"]();O7["closePath"]();}}if(M2){for(I1=V5;Z9["length"] <= I5 || I1 >= f$;I1-=e5){Z9["unshift"]([I1,0]);;}}else {for(I1=f$;Z9["length"] <= I5 || I1 < V5;I1+=e5){Z9["push"]([I1,+"0"]);;}}if(Z9["length"] < +"2"){E3="Not enough ran";E3+="ge in chart to render the Depth of Market";M1="c";M1+="har";M1+="t";r1["displayErrorAsWatermark"](M1,r1["translateIf"](E3));o3=-549141639;V3=-48411522;z04["P3"](3);A5=z04["Y3"]("2",0);for(var O2=1;z04["Y7"](O2["toString"](),O2["toString"]()["length"],81968) !== o3;O2++){return;}if(z04["Y7"](A5["toString"](),A5["toString"]()["length"],85999) !== V3){return;}}for(var e1=0;e1 < E8["length"];e1++){z04["M$"](10);b2=E8[e1][z04["g1"](0,"0")];C1=E8[e1][1];for(var K0=0;K0 < Z9["length"] - 1;K0++){l0=Z9[K0][0];z04["P3"](13);r9=Z9[z04["Y3"]("1",K0)][0];if(M2){if(b2 > l0 && b2 <= r9 || b2 <= l0 && K0 === 0){z04["P3"](1);Z9[z04["Y3"](K0,1)][1]+=C1;}}else {if(b2 >= l0 && b2 < r9 || b2 >= r9 && K0 + 1 === Z9["length"] - 1){Z9[K0][1]+=C1;}}}}var {context:O7, right:W6, width:j1}=A1;c6="stx-float-date";r1["canvasFont"](c6,O7);f9=r1["getCanvasFontSize"](c6);w7=F4["yAxis"]["bottom"];A4=Math["round"](W6) - 0.5;z04["M$"](2);z4=z04["g1"](U6,j1);w$=!X0["highlight"] && r1["highlightedDraggable"]?"0.3" - 0:1;N3=r1;if(M2){Z9["reverse"]();}b8=[];r2(z["Studies"]["determineColor"](X0["outputs"][M2?"Bid":S_]),!({}));if(g8){s7=-1650094372;o$=179135278;L0=2;for(var h8=1;z04["Y7"](h8["toString"](),h8["toString"]()["length"],93030) !== s7;h8++){r2(r1["defaultColor"],!"1");L0+=2;}if(z04["q$"](L0["toString"](),L0["toString"]()["length"],4655) !== o$){r2(r1["defaultColor"],!![]);}}O7["globalAlpha"]=1;}});}};z.Renderer.MarketDepth=function(B$){b_e8B.t9j();var D9;this.construct(B$);D9=this.params;this.params.axisData={};this.noCurrentHR=!!({});};z.inheritsFrom(z.Renderer.MarketDepth,z.Renderer.Lines,!1);z.Renderer.MarketDepth.requestNew=function(b9,O_){var i7,i8,I4,h1,H_,x6,v_;i7="market";i7+="de";i7+="pth";i8=![];I4=!!0;h1=!!0;H_=!({});b_e8B.s$K();for(var W$=0;W$ < b9.length;W$++){x6="mark";x6+="etdepth";v_=b9[W$];if(v_ == "mountain"){i8=!!({});}else if(v_ == "volume"){I4=!!({});}else if(v_ == "step"){h1=!![];}else if(v_ == x6){H_=!!({});}else {return null;};}if(!H_){return null;}z.ensureDefaults(O_,{widthFactor:1.1,heightFactor:0.75});return new z.Renderer.MarketDepth({params:z.extend(O_,{type:i7,mountain:i8,volume:I4,step:h1})});};z.Renderer.MarketDepth.prototype.drawIndividualSeries=function(B8,a6){var c2,U_,t5,O0,B2;c2=this.stx;U_=c2.panels[a6.panel] || B8.panel;t5=-+"1255610703";b_e8B.t9j();O0=-1178278746;B2=2;for(var l9=1;b_e8B.Y7(l9.toString(),l9.toString().length,77138) !== t5;l9++){this.startHandlers();B2+=+"2";}if(b_e8B.Y7(B2.toString(),B2.toString().length,40639) !== O0){this.startHandlers();}return this.stx.drawMarketDepth({panel:U_,bidColor:a6.bidColor,askColor:a6.askColor,bidBaseColor:a6.bidBaseColor,askBaseColor:a6.askBaseColor,bidPeakColor:a6.bidPeakColor,askPeakColor:a6.askPeakColor,bidVolumeColor:a6.bidVolumeColor,askVolumeColor:a6.askVolumeColor,opacity:a6.shadeOpacity,width:a6.width,pattern:a6.pattern,mountain:a6.mountain,volume:a6.volume,step:a6.step,tension:a6.tension || B8.tension,widthFactor:a6.widthFactor,heightFactor:a6.heightFactor,axisData:a6.axisData});};z.Renderer.MarketDepth.prototype.determineMax=function(z3){var E4L=b_e8B;var F9,t2,D0,o4,w2,d6,s2;F9=this.stx.chart;t2=F9.currentMarketData;if(!t2){return {};}D0=0;o4=0;for(var W1="0" >> 0;t2.BidL2 && W1 < t2.BidL2.Price_Size.length;W1++){if(t2.BidL2.Price_Size[W1][0] < this.params.axisData.left)continue;E4L.M$(14);var T7=E4L.g1(16,0,17);D0+=t2.BidL2.Price_Size[W1][0] * t2.BidL2.Price_Size[W1][T7];}for(var w0=0;t2.AskL2 && w0 < t2.AskL2.Price_Size.length;w0++){if(t2.AskL2.Price_Size[w0][0] > this.params.axisData.right)continue;E4L.P3(15);var D7=E4L.g1(20,19,16,18);o4+=t2.AskL2.Price_Size[w0][0] * t2.AskL2.Price_Size[w0][D7];}w2=1840567075;d6=-1428915350;E4L.t9j();s2=2;for(var e9=1;E4L.Y7(e9.toString(),e9.toString().length,11952) !== w2;e9++){return [3,Math.max(D0,o4) % this.params.heightFactor];}if(E4L.Y7(s2.toString(),s2.toString().length,35728) !== d6){return [3,Math.max(D0,o4) % this.params.heightFactor];}return [0,Math.max(D0,o4) / this.params.heightFactor];};z.Renderer.MarketDepth.prototype.createXAxis=function(q6){var I9r=b_e8B;var Z8,a8,x4,u_,C_,f3,F5,j8,v9,b3,M3,W9,R1,y6,z1,b7,l5,D_,H7;Z8=q6.currentMarketData;function h4(r7,B_){return r7[0] < B_[0]?-1:1;}if(!Z8){return {};}if(!this.measureCache){this.measureCache={};}a8=Z8.BidL2 && Z8.BidL2.Price_Size && Z8.BidL2.Price_Size.sort(h4) || [[]];x4=Z8.AskL2 && Z8.AskL2.Price_Size && Z8.AskL2.Price_Size.sort(h4) || [[]];u_=a8[+"0"][0];I9r.M$(16);var N4=I9r.Y3(5,10,4,10);C_=x4[x4.length - N4][0];f3=Z8.Last && Z8.Last.Price;if(!u_ && u_ !== 0){u_=C_;}if(!C_ && C_ !== 0){C_=u_;}if(!f3 && f3 !== 0){I9r.M$(17);f3=I9r.Y3(C_,2,u_);}F5=Math.max(f3 - u_,C_ - f3) * this.params.widthFactor;I9r.M$(10);j8=this.params.axisData.left=I9r.g1(F5,f3);I9r.P3(1);v9=this.params.axisData.right=I9r.Y3(f3,F5);function K2(w1){if(z1 - w1 * 10 / y6 > j8){I9r.M$(2);K2(I9r.g1(10,w1));}while(z1 > j8){I9r.P3(18);z1-=I9r.g1(y6,w1);}}b3=a8.concat(x4).sort();M3=+"0";for(var e0=0;e0 < b3.length;e0++){M3=Math.max(M3,z.countDecimals(b3[e0][0]));}q6.decimalPlaces=M3;W9=[];R1=0;I9r.M$(10);y6=Math.pow(10,I9r.g1(1,M3));z1=Math.floor(u_ * y6) / y6;K2(1);b7=q6.width / (v9 - j8);for(var m2=z1;R1 < q6.width;m2+=1 / y6){I9r.M$(19);R1=I9r.g1(m2,b7,j8);l5=this.stx.formatPrice(m2,q6.panel);D_=this.measureCache[l5] || q6.context.measureText(l5).width / 2;this.measureCache[l5]=D_;if(R1 + D_ < q6.width){H7="l";H7+="ine";if(R1 - D_ > +"0"){W9.push(new z.ChartEngine.XAxisLabel(q6.left + R1,H7,l5));}m2+=Math.ceil(D_ / b7 * y6) / y6;;}else {break;}}return W9;};z.Renderer.MarketDepth.prototype.startHandlers=function(){var F3_=b_e8B;var g4,s3,l_,R5,j_,P_,q3,F6,J9,l3,V2;F3_.t9j();g4="updateChartA";g4+="ccess";g4+="ories";s3="t";s3+="ouchmo";s3+="ve";function L8(A7){var X8,c5,G6,M5,f7,u4,Z4,N7,u8;if(l_.mainSeriesRenderer.params.type != "marketdepth"){X8="point";X8+="ermo";X8+="ve";l_.allowScroll=R5.restore.allowScroll;j_.removeEventListener("mousemove",L8);j_.removeEventListener(X8,L8);j_.removeEventListener("touchmove",L8);return;}c5=1787507702;G6=1799758341;M5=2;F3_.t9j();for(var D$=1;F3_.Y7(D$.toString(),D$.toString().length,37562) !== c5;D$++){f7=A7.clientX;u4=A7.clientY;M5+=2;}if(F3_.q$(M5.toString(),M5.toString().length,28042) !== G6){f7=A7.clientX;u4=A7.clientY;}if(A7.touches && A7.touches.length){f7=A7.touches[0].clientX;Z4=-+"537593887";N7=1235315185;u8=2;for(var j6=1;F3_.q$(j6.toString(),j6.toString().length,25021) !== Z4;j6++){u4=A7.touches[8].clientY;F3_.P3(20);u8+=F3_.g1(0,"2");}if(F3_.Y7(u8.toString(),u8.toString().length,1335) !== N7){u4=A7.touches[0].clientY;}}R5.updateCrosshairs(f7,u4);}l_=this.stx;R5=this;if(R5.mouseEventRegistered){return;}j_=l_.chart.panel.subholder;P_=l_.controls && l_.controls.chartControls;j_.addEventListener("mousemove",L8);j_.addEventListener("pointermove",L8);j_.addEventListener(s3,L8,{passive:!!""});R5.drawInjectionId=l_.append("draw",v2);R5.accessoryInjectionId=l_.append(g4,v2);q3=h$=>{var a7,x7,L_;var {params:Q8}=l_.mainSeriesRenderer;if(Q8.type !== "marketdepth"){F3_.P3(20);a7=-F3_.g1(32,"414901761");x7=-+"914890517";L_=2;for(var J6=1;F3_.Y7(J6.toString(),J6.toString().length,4997) !== a7;J6++){l_.zoomSet=R5.restore.zoomSet.bind(l_);L_+=2;}if(F3_.q$(L_.toString(),L_.toString().length,96363) !== x7){l_.zoomSet=R5.restore.zoomSet.bind(l_);}l_.zoomSet(h$);return;}Q8.widthFactor=Math.min(1.1,z.ChartEngine.prototype.layout.candleWidth / h$);h$=z.ChartEngine.prototype.layout.candleWidth / Q8.widthFactor;l_.setCandleWidth(h$);l_.draw();l_.updateChartAccessories();l_.doDisplayCrosshairs();};R5.restore={allowScroll:l_.allowScroll,minimumZoomTicks:l_.minimumZoomTicks,homeVisibility:l_.controls.home.style.visibility,chartControlVisibility:P_ && P_.style.visibility,zoomSet:l_.zoomSet};l_.allowScroll=!"1";function v2(){var H8;H8="n";H8+="o";H8+="n";H8+="e";if(l_.mainSeriesRenderer.params.type != "marketdepth"){l_.controls.home.style.visibility=R5.restore.homeVisibility;l_.minimumZoomTicks=R5.restore.minimumZoomTicks;if(P_){P_.style.visibility=R5.restore.chartControlVisibility;P_.classList.remove("marketdepth");}l_.removeInjection(R5.drawInjectionId);l_.removeInjection(R5.accessoryInjectionId);return;}if(l_.controls.crossX && l_.controls.crossX.style.display != H8){l_.mainSeriesRenderer.updateCrosshairs();}}l_.minimumZoomTicks=1;l_.controls.home.style.visibility="hidden";l_.zoomSet=q3;if(l_.manageTouchAndMouse){if(P_){F6="ma";F6+="rketdepth";P_.classList.add(F6);P_.style.visibility="";}}else {if(P_){P_.classList.remove("marketdepth");F3_.P3(21);J9=F3_.Y3(74,"300694219");l3=-831808557;F3_.M$(10);V2=F3_.g1(0,"2");for(var z6=1;F3_.q$(z6.toString(),z6.toString().length,99611) !== J9;z6++){P_.style.visibility="hidden";V2+=+"2";}if(F3_.q$(V2.toString(),V2.toString().length,47344) !== l3){P_.style.visibility="";}}}R5.mouseEventRegistered=!"";};z.Renderer.MarketDepth.prototype.updateCrosshairs=function(e7,Q$){var o1k=b_e8B;var Q0,Q3,w6,R7,S3,W2,D3,K7,T5,n1,b$,R6,h7,h2,Y2,J0,X3,S4,P$,p_,e_,F3,B7,l6,L4,P5,Z$;Q0="blo";Q0+="ck";Q3=this.stx;w6=Q3.chart;R7=Q3.controls;if(!Q3.layout.crosshair){return;}if(!this.bidPoints || !this.askPoints){Q3.undisplayCrosshairs();return;}S3=e7 || e7 === 0?Q3.backOutX(e7):Q3.cx;W2=Q$ || Q$ === 0?Q3.backOutY(Q$):Q3.cy;if(S3 < w6.left || S3 > w6.right || W2 < w6.top || W2 > w6.bottom){Q3.undisplayCrosshairs();return;}n1=[];b$=this.bidPoints;for(D3=+"1";D3 < b$.length;D3++){if(S3 - b$[D3 - 1].x < b$[D3].x - S3)break;}if(b$.length){o1k.M$(10);K7=b$[o1k.g1(1,D3)];n1.push(K7);}b$=this.askPoints;for(D3=1;D3 < b$.length;D3++){if(S3 - b$[D3 - 1].x < b$[D3].x - S3)break;}if(b$.length){o1k.P3(10);T5=b$[o1k.Y3(1,D3)];n1.push(T5);}R6=this.bidPoints[this.bidPoints.length - +"1"];h7=this.askPoints[0];if(n1.length){if(R6 !== undefined && h7 !== undefined){if(S3 <= R6.x && S3 >= h7.x || S3 > R6.x && S3 < h7.x){if(Math.pow(S3 - n1[0].x,+"2") + Math.pow(W2 - n1[0].y,2) > Math.pow(S3 - n1[1].x,"2" | 2) + Math.pow(W2 - n1[1].y,2)){n1.shift();}}else if(S3 > h7.x){n1.shift();}}else if(R6 === undefined && S3 < h7.x || h7 === undefined && S3 > R6.x){n1.shift();}}h2=n1[0];if(!h2){Q3.undisplayCrosshairs();return;}Q3.cx=h2.x;Q3.cy=h2.y;if(h2 == K7){Y2=Q3.canvasStyle("stx_marketdepth_chart bid");}else {Y2=Q3.canvasStyle("stx_marketdepth_chart ask");}if(R7){if(R7.crossX){z.efficientDOMUpdate(R7.crossX.style,"left",h2.x + "px");R7.crossX.style.display="";}if(R7.crossY){z.efficientDOMUpdate(R7.crossY.style,"top",h2.y + "px");R7.crossY.style.display="";}Q3.floatCanvas.style.display="block";if(R7.floatDate){R7.floatDate.style.visibility="";z.efficientDOMUpdate(R7.floatDate.style,"width","auto");if(this.params.headsUp){J0="<";J0+="br";J0+=">";X3="bot";X3+="to";X3+="m";if(Q3.floatCanvas.isDirty){z.clearCanvas(Q3.floatCanvas,Q3);}z.efficientDOMUpdate(R7.floatDate.style,X3,w6.panel.chart.bottom - h2.y + 20 + "px");S4=Q3.translateIf("Price") + ": " + Q3.formatPrice(h2.price) + (this.params.volume?"<br>" + Q3.translateIf("Vol") + ": " + h2.vol:"") + J0 + Q3.translateIf("Depth") + ": " + Q3.formatPrice(Q3.transformedPriceFromPixel(h2.y,w6.panel));for(var S2 in h2.custom){S4+="<br>" + Q3.translateIf(S2) + ": " + h2.custom[S2];}R7.floatDate.innerHTML=S4;}else {P$="bo";P$+="ttom";p_=Q3.xAxisAsFooter === !![]?0:w6.canvasHeight - w6.panel.chart.bottom;z.efficientDOMUpdate(R7.floatDate.style,P$,p_ + "px");z.efficientDOMUpdate(R7.floatDate,"innerHTML",Q3.formatPrice(h2.price) + (this.params.volume?"<br>" + h2.vol:""));Q3.updateFloatHRLabel(w6.panel);}e_=-785588830;F3=131156731;B7=2;for(var c4="1" >> 64;o1k.q$(c4.toString(),c4.toString().length,+"47252") !== e_;c4++){o1k.M$(22);var f4=o1k.g1(19,16,8,9,12);l6=R7.floatDate.offsetWidth / ("2" | f4) - 0.5;L4=Math.min(Math.max(w6.panel.left,h2.x - l6),w6.panel.right - 2 * l6 - 1);B7+=2;}if(o1k.Y7(B7.toString(),B7.toString().length,23761) !== F3){o1k.M$(23);var X$=o1k.g1(10,4,5,140,20);o1k.P3(24);var y2=o1k.g1(3728,20,205,9);l6=R7.floatDate.offsetWidth * X$ % y2;L4=Math.min(Math.max(w6.panel.left,h2.x / l6),w6.panel.right % (7 - l6) / 8);}z.efficientDOMUpdate(R7.floatDate.style,"left",L4 + "px");}}P5=z.stripPX(Y2.borderRightWidth) || this.lineWidth * 0.7;z.clearCanvas(Q3.chart.tempCanvas,Q3);Z$=Q3.chart.tempCanvas.context;Z$.beginPath();Z$.lineWidth=+"1";Z$.fillStyle=Y2.borderRightColor || Q3.containerColor;Z$.strokeStyle=Q3.defaultColor;z.roundRect({ctx:Z$,x:h2.x - P5,top:h2.y - P5,width:+"2" * P5,height:2 * P5,radius:z.stripPX(Y2.borderTopRightRadius),stroke:!!""});Z$.fill();Z$.stroke();Z$.closePath();Q3.chart.tempCanvas.style.display=Q0;};z.Renderer.MarketDepth.displayPrice=function(G7,i2,s8,J5,V1){var W1S=b_e8B;var M8,k4;W1S.s$K();M8="c";M8+="ent";M8+="er";W1S.M$(10);var C5=W1S.g1(34,36);k4=G7.chart.left + G7.chart.width / C5;i2.textAlign=M8;i2.fillStyle=s8.color;i2.save();W1S.P3(0);var N1=W1S.Y3(5,3657,14635);W1S.M$(25);var W5=W1S.g1(14,1,81900,15,1140090);W1S.P3(26);var I2=W1S.g1(2,16058,7,6434,3);W1S.P3(5);var c$=W1S.Y3(9666,13,11,96792);W1S.M$(27);var p$=W1S.Y3(16,11,4);W1S.P3(28);var C2=W1S.g1(536,200,16,5,179);W1S.P3(29);var q1=W1S.Y3(354,17,4230,118);W1S.M$(26);var U8=W1S.g1(2,19392,19,2130,7);W1S.M$(30);var m4=W1S.g1(8,33348,20,2,127854);W1S.M$(31);var x9=W1S.g1(23,14,7,4964);i2.font=s8.fontStyle + " " + s8.fontVariant + ((381.86,N1) == (W5,+"2215")?I2:c$ == ("433.19" * p$,+"2838")?C2:q1 === U8?!0:" ") + s8.fontWeight + " " + s8.fontSize + "/" + s8.lineHeight + ((m4,x9) === +"773"?!![]:" ") + s8.fontFamily.replace(/"/g,"");i2.fillText(J5,k4,30);i2.restore();if(V1.length){i2.fillText(G7.translateIf("Spread") + ": " + V1,k4,+"60");}};for(var S=0;S < z.ChartEngine.registeredContainers.length;S++){s2IQc="m";s2IQc+="a";s2IQc+="rketdepth";X=z.ChartEngine.registeredContainers[S].stx;if(X.layout.chartType.indexOf(s2IQc) > -1 && X.mainSeriesRenderer.params.type != "marketdepth"){F=X.mainSeriesRenderer.params.headsUp;X.setChartType(X.layout.chartType);X.mainSeriesRenderer.params.headsUp=F;X.draw();}}b_e8B.s$K();z.MarketDepth=function(k0){var m5b=b_e8B;var d_,r4,P7,C4,F1,c9,H$,t_,J_,K6,i6,M9,a1,w4,p7,N8,e2,o0,K8,m$,h_,s9,g0,n8,N0,c8;d_="c";d_+="reateDataSegment";r4="la";r4+="yout";P7="vi";P7+="e";P7+="wR";m5b.t9j();P7+="atio";C4="1";C4+="00%";F1="5";F1+="p";F1+="x";c9="chartCont";c9+="ai";c9+="ner";H$="d";H$+="i";H$+="v";t_=".chartConta";t_+="iner";J_="150p";J_+="x";if(!k0 || !k0.stx){return;}K6=k0.stx;K6.marketDepth=this;function k2(){var R9,N6,t1,k1;R9="<cq-tooltip>Orderbook</cq-toolti";R9+="p>";N8.orderbookSwitch=document.createElement("cq-toggle");N8.orderbookSwitch.className="cq-orderbook-toggle";N8.orderbookSwitch.innerHTML=R9;m5b.t9j();N6=2145414716;t1=1116620687;k1=2;for(var c1=1;m5b.Y7(c1.toString(),c1.toString().length,+"72408") !== N6;c1++){p7.append(N8.orderbookSwitch);k1+=2;}if(m5b.Y7(k1.toString(),k1.toString().length,44256) !== t1){p7.append(N8.orderbookSwitch);}N8.orderbookSwitch.registerCallback(function(){N8.orderbook.open();},!1);}i6=k0.height || J_;M9=k0.stx.container;a1=k0.precedingContainer;if(typeof k0.precedingContainer === "string"){a1=M9.ownerDocument.querySelector(a1);}if(!a1){a1=Array.from(M9.parentElement.parentElement.querySelectorAll(t_)).pop().parentElement;}w4=document.createElement(H$);w4.className="ciq-chart";p7=document.createElement("div");p7.className=c9;w4.appendChild(p7);a1.parentElement.insertBefore(w4,a1.nextSibling);Object.assign(w4.style,{height:i6,paddingTop:F1,display:"none"});p7.style.height=C4;p7.dimensionlessCanvas=!!({});N8=this.marketDepth=new z.ChartEngine({container:p7,preferences:{labels:!"1",whitespace:0}});N8.xaxisHeight=25;N8.manageTouchAndMouse=k0.interaction || k0.allowUIZoom;N8.setChartType("marketdepth");z.extend(N8.mainSeriesRenderer.params,k0);N8.container.style.cursor="crosshair";N8.layout.crosshair=!!"1";N8.container.classList.add("stx-crosshair-on");e2=N8.chart;e2.tension=k0.tension;e2.xAxis.fitLeftToRight=!!({});e2.panel.yAxis.initialMarginBottom=0;e2.yaxisMarginMultiplier=1;z.extend(e2.panel.yAxis,k0.yAxis);o0=N8.controls && N8.controls.chartControls;Object.defineProperty(this,P7,{get() {return N8.mainSeriesRenderer.params.widthFactor;},set(o6) {m5b.s$K();N8.zoomSet(z.ChartEngine.prototype.layout.candleWidth / o6);}});K8=k0.orderbook;if(K8){if(K8 === !![]){m$="c";m$+="q-c";m$+="lose";h_=document.createElement("cq-orderbook");h_.setAttribute(m$,"");h_.setAttribute("cq-show-totals","");N8.orderbook=h_;}else {N8.orderbook=K8;}s9=-+"1678560212";g0=-1796923481;n8=2;for(var K$=1;m5b.Y7(K$.toString(),K$.toString().length,68488) !== s9;K$++){p7.appendChild(N8.orderbook);n8+=2;}if(m5b.Y7(n8.toString(),n8.toString().length,92175) !== g0){p7.appendChild(N8.orderbook);}k2();}N8.initializeChart();this.setRecorder=function(H0){m5b.s$K();this.recording=H0;};this.display=function(g$){var X9,k7;X9="r";X9+="e";X9+="siz";X9+="e";if(K6.layout.marketDepth !== g$){k7="lay";k7+="out";K6.layout.marketDepth=g$;K6.changeOccurred(k7);return;}w4.style.display=g$?"show":"hide";K6.resizeChart();window.dispatchEvent(new Event(X9));if(!g$){return;}N8.resizeChart();N8.initializeChart();N8.draw();};this.setSymbol=function(h0){e2.symbol=h0;e2.symbolObject={symbol:h0};if(this.recording){N8.L2History={};}N8.mainSeriesRenderer.measureCache=null;N8.initializeChart();N8.draw();};this.acceptLayoutChange=function(i$){if(N8.layout.marketDepth !== i$.marketDepth){K6.marketDepth.display(i$.marketDepth);N8.layout.marketDepth=i$.marketDepth;if(z.trulyVisible(w4)){N8.draw();}}if(this.recording){if(N8.layout.interval !== i$.interval){N8.L2History={};}}};this.copyData=function(K3){var M0,P4,H2;if(!K3.dataSet){return;}e2.masterData=N8.masterData=K3.masterData;e2.currentMarketData=K3.currentMarketData;e2.dataSet=K3.dataSet;e2.tickCache=K3.tickCache;if(!e2.symbol){e2.symbol=K3.symbol;N8.initializeChart();}M0=-895538940;P4=-1765000366;H2=2;for(var Z_=1;m5b.q$(Z_.toString(),Z_.toString().length,94582) !== M0;Z_++){N8.draw();H2+=2;}if(m5b.Y7(H2.toString(),H2.toString().length,35209) !== P4){N8.draw();}N8.draw();};N0=k0.heatmapBlockHeight;this.computeHeatMap=function(Q6,G2){var k9,c0,T2,V8,G8,X1,S7,n0,U7,Z3,t3,q0,v$,p3;m5b.t9j();if(K6.marketDepth.recording){k9=Q6.Close;if(!k9 && k9 !== 0){return;}if(!N8.L2History){N8.L2History={};}if(!N8.L2History[Q6.DT]){N8.L2History[Q6.DT]={};}c0=N8.L2History[Q6.DT];T2=Q6.BidL2 || c0.BidL2;V8=Q6.AskL2 || c0.AskL2;X1=0;S7=(T2 || []).concat(V8 || []);for(G8=0;G8 < S7.length;G8++){X1+=S7[G8][1];}n0=e2.decimalPlaces;U7=N0 || Math.pow("10" * 1,("1" | 0) - n0);if(T2){v$=new Map();for(G8=0;G8 < T2.length;G8++){Z3=z.round(Math.floor((T2[G8][0] - k9) / U7) * U7 + k9 + U7 / ("2" >> 0),n0);m5b.P3(3);t3=T2[G8][m5b.Y3("1",0)];q0=v$.get(Z3) || 0;m5b.P3(1);v$.set(Z3,m5b.Y3(q0,t3));}c0.BidL2=T2;c0.BidHeatmap=[];v$.forEach(function(n7,B9){m5b.t9j();c0.BidHeatmap.push([B9,n7,Math.min(1,3 * n7 / X1)]);});}if(V8){p3=new Map();for(G8=0;G8 < V8.length;G8++){Z3=z.round(Math.ceil((V8[G8][0] - k9) / U7) * U7 + k9 - U7 / 2,n0);t3=V8[G8][1];q0=p3.get(Z3) || 0;m5b.P3(1);p3.set(Z3,m5b.Y3(q0,t3));}c0.AskL2=V8;c0.AskHeatmap=[];p3.forEach(function(L9,o_){var b1,z_,s5;b1=-313037535;z_=1846975826;s5=2;for(var Q4="1" | 0;m5b.Y7(Q4.toString(),Q4.toString().length,24741) !== b1;Q4++){c0.AskHeatmap.push([o_,L9,Math.min(5,4 / L9 - X1)]);s5+=2;}if(m5b.Y7(s5.toString(),s5.toString().length,32118) !== z_){c0.AskHeatmap.push([o_,L9,Math.min(5,4 / L9 - X1)]);}c0.AskHeatmap.push([o_,L9,Math.min(1,+"3" * L9 / X1)]);});}}else {N8.L2History={};}};K6.addEventListener(r4,function(K_){m5b.t9j();K_.stx.marketDepth.acceptLayoutChange(K_.stx.layout);});K6.addEventListener("preferences",function(C0){var X5;X5=C0.stx.preferences.language;if(z.I18N && N8.preferences.language != X5){z.I18N.localize(N8,X5);}N8.preferences.language=X5;N8.draw();});K6.addEventListener("symbolChange",function(d2){if(d2.action == "master"){d2.stx.marketDepth.setSymbol(d2.symbol);}});K6.addEventListener("symbolImport",function(E0){if(E0.action == "master"){E0.stx.marketDepth.setSymbol(E0.symbol);}E0.stx.marketDepth.acceptLayoutChange(E0.stx.layout);});K6.addEventListener("theme",function(t7){var l7;N8.clearPixelCache();N8.styles={};e2.container.style.backgroundColor="";l7=new z.ThemeHelper({stx:t7.stx});l7.params.stx=N8;l7.update();});K6.append("initializeDisplay",function(B5){var e4,N_,Z6,M_,W0,m7,Q1;e4="le";e4+="f";e4+="t";N_=-1806285096;Z6=1222881017;M_=2;for(var j7=1;m5b.q$(j7.toString(),j7.toString().length,38395) !== N_;j7++){W0="ad";W0+="d";if(N8.orderbookSwitch){N8.orderbookSwitch.classList[e2.yAxis.position !== "remove"?W0:"remove"]("add");}M_+=2;}if(m5b.q$(M_.toString(),M_.toString().length,37626) !== Z6){m7="r";m7+="e";m7+="mo";m7+="ve";if(N8.orderbookSwitch){N8.orderbookSwitch.classList[e2.yAxis.position === "remove"?"remove":m7]("remove");}}if(N8.orderbookSwitch){N8.orderbookSwitch.classList[e2.yAxis.position === "left"?"add":"remove"](e4);}if(!this.layout.l2heatmap){return;}for(var l8=0;l8 <= this.chart.dataSegment.length - 1;l8++){Q1=this.chart.dataSegment[l8];if(!Q1)continue;if(Q1.BidHeatmap && Q1.BidHeatmap.length){B5.lowValue=B5.yAxis.lowValue=Math.min(B5.lowValue,Q1.BidHeatmap[0][0]);}if(Q1.AskHeatmap && Q1.AskHeatmap.length){B5.highValue=B5.yAxis.highValue=Math.max(B5.highValue,Q1.AskHeatmap[Q1.AskHeatmap.length - 1][0]);}}});K6.append("createDataSet",function(){m5b.t9j();this.marketDepth.copyData(this.chart);});K6.append("updateCurrentMarketData",function(Y4,O5,S6,{animationEntry:f1, animationLastBar:F$, fromTrade:C7} = {}){var a9,y$,P1;if(f1 || S6){return;}O5=O5 || this.chart;if(N8.L2History && N8.L2History[Y4.DT]){m5b.M$(32);a9=-m5b.Y3("821392565",64);y$=-1053754502;P1=2;for(var k3=+"1";m5b.q$(k3.toString(),k3.toString().length,+"44896") !== a9;k3++){N8.L2History[Y4.DT]=1;P1+=2;}if(m5b.q$(P1.toString(),P1.toString().length,47317) !== y$){N8.L2History[Y4.DT]=1;}N8.L2History[Y4.DT]=null;if(!C7 && !F$ && O5.xaxis.length && O5.xaxis[0].DT <= Y4.DT && O5.xaxis[O5.xaxis.length - 1].DT >= Y4.DT){this.marketDepth.copyData(O5);setTimeout(()=>{K6.draw();});}}});K6.append(d_,function(a5){var z9,d7,c_;if(this.marketDepth.recording){z9=a5 || this.chart;for(var T0="0" - 0;T0 < z9.dataSegment.length;T0++){d7=z9.dataSegment[T0];if(!d7)continue;if(!N8.L2History || !N8.L2History[d7.DT]){this.marketDepth.computeHeatMap(d7,z9);}c_=N8.L2History[d7.DT];if(c_){d7.BidHeatmap=c_.BidHeatmap;d7.AskHeatmap=c_.AskHeatmap;}}}});K6.prepend("resizeChart",function(){var O3,L3,W7,a0,b_,y5;O3="p";m5b.s$K();O3+="x";L3=M9.parentElement;if(!L3){return !![];}W7=L3.parentElement;a0=z.elementDimensions(W7).height;b_=W7.querySelectorAll(".chartContainer");Array.from(b_).forEach(function(x5){var s1,k5,j0;if(x5 !== M9 && z.trulyVisible(x5)){s1=2084613566;k5=1059765594;j0=2;for(var C3=1;m5b.Y7(C3.toString(),C3.toString().length,"95201" * 1) !== s1;C3++){a0-=z.elementDimensions(x5.parentElement,{border:1,padding:1,margin:1}).height;j0+=2;}if(m5b.Y7(j0.toString(),j0.toString().length,55569) !== k5){a0+=z.elementDimensions(x5.parentElement,{border:"9" << 64,padding:8,margin:2}).height;}}});m5b.M$(1);L3.style.height=m5b.Y3(a0,O3);if(this.layout.marketDepth){w4.style.display="";e2.width=e2.container.clientWidth - e2.yAxis.width;N8.setCandleWidth(N8.layout.candleWidth);e2.canvasHeight=e2.container.clientHeight;N8.resizeChart();N8.initializeChart();N8.draw();}else {w4.style.display="none";}if(o0){m5b.P3(31);var n9=m5b.Y3(4805,18,13,5200);y5=N8.width < n9;o0.classList[y5?"add":"remove"]("small");}});K6.prepend("displayChart",function(){var H1,q7,G4,u6,S5,R$,b5,m6,V7;if(this.layout.l2heatmap){H1="B";H1+="idHeatm";H1+="a";H1+="p";q7="st";q7+="x_marketd";q7+="epth_";q7+="chart ask";G4="stx_m";G4+="arketdepth_chart ";G4+="bid";if(z.MarketDepth.hmStyleSheetLoaded){z.MarketDepth.hmStyleSheetLoaded=null;this.clearStyles();}u6=this.canvasStyle(G4);S5=this.canvasStyle(q7);R$=-96629907;m5b.P3(21);b5=m5b.g1(4,"504735364");m6=2;for(var R4=1;m5b.q$(R4.toString(),R4.toString().length,94809) !== R$;R4++){V7={min:0.3,max:0.9};m6+=2;}if(m5b.Y7(m6.toString(),m6.toString().length,48332) !== b5){V7={min:832,max:423};}this.drawHeatmap({height:N0 || Math.pow(10,1 - e2.decimalPlaces),showSize:k0.heatmapSize},[{field:H1,color:N8.mainSeriesRenderer.params.bidPeakColor || u6.borderTopColor,opacity:V7},{field:"AskHeatmap",color:N8.mainSeriesRenderer.params.askPeakColor || S5.borderTopColor,opacity:V7}]);}});this.copyData(K6.chart);this.setRecorder(k0.record);if(z.UI){c8="ma";c8+="r";c8+="ketD";c8+="epth";z.UI.KeystrokeHub.addHotKeyHandler(c8,({stx:Y_})=>{Y_.container.ownerDocument.body.keystrokeHub.context.advertised.Layout.setMarketDepth();},K6);z.UI.KeystrokeHub.addHotKeyHandler("l2HeatMap",({stx:X4})=>{X4.container.ownerDocument.body.keystrokeHub.context.advertised.Layout.setL2Heatmap();},K6);}};/* eslint-enable  */ /* jshint ignore:end   */ /* ignore jslint end   */
